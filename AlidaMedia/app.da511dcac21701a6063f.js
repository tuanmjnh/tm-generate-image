webpackJsonp([1],{"++Sy":function(t,e){},"+1jw":function(t,e){},"+hsq":function(t,e){},"/5CS":function(t,e){},"/GFX":function(t,e){},"/Ixv":function(t,e){},"/zF+":function(t,e){},"021t":function(t,e){},"0FW9":function(t,e){},"0Rp5":function(t,e){},"0gRp":function(t,e){},"0xDb":function(t,e,i){"use strict";(function(t){var a=i("Xxa5"),s=i.n(a),n=i("exGp"),o=i.n(n),r=i("//Fk"),l=i.n(r),c=i("mvHQ"),d=i.n(c),u=i("Zrlr"),v=i.n(u),h=i("wxAW"),p=i.n(h),m=i("mtWM"),f=i.n(m),g=function(){function e(){v()(this,e)}return p()(e,null,[{key:"readFileSubtitle",value:function(t){var i=[];try{if(t&&t.includes("Script generated by Aegisub"))i=(i=(i=t.split("\n")).filter(function(t){return t.startsWith("Dialogue")})).map(function(t){for(var i=t.split(","),a="",s=0,n=0;n<t.length;n++){","===t[n]&&9===++s&&(a=t.substring(n+1,t.length))}var o=i[1],r=i[2],l=o+" --\x3e "+r;return{subtitleStartTime:o=e.converTimeSubToSecound(o),subtitleEndTime:r=e.converTimeSubToSecound(r),subtitleTimeString:l,content:a}});else{var a=t.split("\n"),s=[];a=a.map(function(t,e){""!==t.trim()?s.push(t):s.length>0&&(i.push(d()(s)),s=[]),e===a.length-1&&i.push(d()(s))}),i=(i=(i=i.map(function(t){return JSON.parse(t)})).filter(function(t){return t.length>0})).map(function(t){t[0];var i=t[1],a=i.split(" --\x3e ")[0],s=i.split(" --\x3e ")[1];return t.shift(),t.shift(),{subtitleTimeString:i,subtitleStartTime:a=e.converTimeSubToSecound(a),subtitleEndTime:s=e.converTimeSubToSecound(s),content:t.join("\n")}})}}catch(t){console.log(" ### readFileSubtitle: ",t)}return console.log(" ###### Success: ",i),i}},{key:"converTimeSubToSecound",value:function(t){try{var e="";t.includes(",")?e=",":t.includes(".")&&(e=".");var i=t.split(":");return 3600*parseInt(i[0])+60*parseInt(i[1])+parseInt(i[2].split(e)[0])+parseInt(i[2].split(e)[1])/Math.pow(10,i[2].split(e)[1].trim().length)}catch(t){return console.log(" ######## error: ",t),0}}},{key:"generateStroke",value:function(t,e,i){if(0==t)return"none";for(var a=parseFloat("0."+t.toString().split(".")[1]),s="",n=parseInt(t)+1;n>0;n--)for(var o=parseInt(t)+1;o>0;o--)s+=n-1+a+"px "+(o-1+a)+"px 0 "+e+",",s+=n-1+a+"px -"+(o-1+a)+"px 0 "+e+",",s+="-"+(n-1+a)+"px -"+(o-1+a)+"px 0 "+e+",",s+="-"+(n-1+a)+"px "+(o-1+a)+"px 0 "+e+",";return s+="0 0 0 "+e}},{key:"bytesToSize",value:function(t){if(0==t)return"0 Byte";var e=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,e),2)+" "+["Bytes","KB","MB","GB","TB"][e]}},{key:"generateKey",value:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=e.length,a=0;a<20;a++)t+=e.charAt(Math.floor(Math.random()*i));return t}},{key:"sleep",value:function(t){return new l.a(function(e,i){try{setTimeout(e,t)}catch(t){console.log(t),i(t)}})}},{key:"formatNumber",value:function(t){return parseFloat(Math.round(100*t)/100).toFixed(2)}},{key:"getInfoVideoByUrl",value:function(){var t=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.a(function(t,i){try{var a=document.createElement("video");a.onloadeddata=function(e){var i={duration:a.duration,width:a.videoWidth,height:a.videoHeight};t(i)},a.onerror=function(t){i(new Error("Error getInfoVideoByUrl: "+t))},a.src=e}catch(t){console.log(t),i(new Error("Error getInfoVideoByUrl: "+t))}}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getInfoAudioByUrl",value:function(){var t=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.a(function(t,i){try{var a=document.createElement("audio");a.onloadeddata=function(e){var i={duration:e.target.duration};t(i)},a.onerror=function(t){i(new Error("Error getInfoVideoByUrl: "+t))},a.src=e}catch(t){i(new Error("Error getInfoVideoByUrl: "+t))}}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getBase64",value:function(){var e=o()(s.a.mark(function e(i){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(i,{responseType:"arraybuffer"});case 2:return a=e.sent,e.abrupt("return",new t(a.data,"binary").toString("base64"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"ConvertObjectUrlToBase64",value:function(){var t=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.a(function(t,i){try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(e){if(200==this.status){var i=this.response;t(i)}},a.send()}catch(t){i(t)}}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"formatNumberToCurrency",value:function(t){return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}},{key:"removeAllTag",value:function(t){return t.replace(/(<([^>]+)>)/gi,"").trim()}},{key:"subRegex",value:function(t,e){var i=new RegExp(""+e,"m");if(t.match(i))for(t=t.replace(i,"$1\n\n$2");t.match(i);)t=t.replace(i,"$1\n\n$2");return t}},{key:"removeCharacter",value:function(t,e){for(var i=0;i<e.length;i++)for(var a=e[i];t.includes(a);)t=t.replace(a,"");return t}}]),e}();g.secondsToHms=function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="00";var i=Math.floor(t/60);return i>=1?t-=60*i:i="00",1==i.toString().length&&(i="0"+i),1==(t=t.toFixed(3)).toString().length&&(t="0"+t),t>0&&t<10&&(t="0"+t),e+":"+i+":"+t},g.secondsToHHMMSSM=function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="00";var i=Math.floor(t/60);return i>=1?t-=60*i:i="00",1==i.toString().length&&(i="0"+i),1==(t=t.toFixed(1)).toString().length&&(t="0"+t),t>0&&t<10&&(t="0"+t),e+":"+i+":"+t},g.convertSecoundInCreateVoice=function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="";var i=Math.floor(t/60);return i>=1?t-=60*i:i="",1==i.toString().length&&(i="0"+i),"string"==typeof t&&(t=parseFloat(t)),1==(t=t.toFixed(3)).toString().length&&(t="0"+t),t>0&&t<10&&(t="0"+t),""!=e&&(e+=":"),""!=i&&(i+=":"),e+i+t},g.secondsToHHMMSS=function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="";var i=Math.floor(t/60);return i>=1?t-=60*i:i="",1==i.toString().length&&(i="0"+i),1==(t=t.toFixed(2)).toString().length&&(t="0"+t),t>0&&t<10&&(t="0"+t),(e=""!==e?e+":":"")+(i=""!==i?i+":":"")+t},g.secondsToTime=function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="";var i=Math.floor(t/60);return i>=1?t-=60*i:i="",1==i.toString().length&&(i="0"+i),1==(t=t.toFixed(0)).toString().length&&(t="0"+t),(e=""!==e?e+":":"00:")+(i=""!==i?i+":":"00:")+t},g.canvasToUrl=function(t){return new l.a(function(e,i){try{t.toBlob(function(t){try{var a=URL.createObjectURL(t);e(a)}catch(t){i(t)}})}catch(t){i(t)}})},e.a=g}).call(e,i("EuP9").Buffer)},"1b5E":function(t,e){},"1zVA":function(t,e){},"2mNA":function(t,e){},"2nDv":function(t,e){},"3wen":function(t,e){},"3yau":function(t,e){},"50tt":function(t,e){},"5YaS":function(t,e){},"5qCt":function(t,e){},"6EjJ":function(t,e){},"6nPO":function(t,e){},"7BBN":function(t,e){},"7EUD":function(t,e){},"8vqq":function(t,e){},"90Hn":function(t,e){},"9BHd":function(t,e){},"9M+g":function(t,e){},AwKN:function(t,e){},BusB:function(t,e){},E3Fi:function(t,e){},F84U:function(t,e){},FYfs:function(t,e){},HMy8:function(t,e){},HUu1:function(t,e){},Htvl:function(t,e){},Hy01:function(t,e){},IXfo:function(t,e){},JLEt:function(t,e){},Jmt5:function(t,e){},KG06:function(t,e){},KHgh:function(t,e){},KJOl:function(t,e){},KSsn:function(t,e){},KtGY:function(t,e){},LX9M:function(t,e){},LtC1:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s=i("Xxa5"),n=i.n(s),o=i("exGp"),r=i.n(o),l=i("ZZvs"),c=i.n(l),d=i("Zrlr"),u=i.n(d),v=i("wxAW"),h=i.n(v),p=i("Dd8w"),m=i.n(p),f=i("mtWM"),g=i.n(f),_=i("NYxO"),b=i("424j"),y=i("lbHh");a.default.use(_.a);var C,x,w=new _.a.Store({strict:!1,state:{user:null,token:null,isUserLoggedIn:!1,videos:null,tempArray:[],data:null,heightHeader:58,userData:{text:{subRegex:"(^.{50,100000}[，，、,.「」。。？；：！](?!$))(.{50,105000}$)",characterDelete:"「」",countCharacterDivide:50},voice:{voice:null,name:null,voiceData:{_id:null,speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null}}}},mutations:{setUser:function(t,e){t.user=e},setToken:function(t,e){t.token=e,t.isUserLoggedIn=!!e},pushTempArray:function(t,e){t.tempArray.push(e)},updateTempArray:function(t,e){t.tempArray=e},updateItemTempArray:function(t,e){var i=t.tempArray,a=i.findIndex(function(t){return t.id==e.id});-1!=a&&(i[a]={id:e.id,value:e.value,type:e.type}),t.tempArray=[],t.tempArray=i,t.tempArray.unshift({id:1}),t.tempArray.shift()},deleteItemTempArray:function(t,e){var i=t.tempArray.findIndex(function(t){return t.id==e.id});-1!=i&&t.tempArray.splice(i,1)},setData:function(t,e){t.data=e},setListLayout:function(t,e){t.data.listLayout=e},setListChannelUpload:function(t,e){t.data.listChannelUpload=e},setListProfile:function(t,e){t.data.listProfile=e},setUserData_Text:function(t,e){switch(e.type){case"subRegex":t.userData.text.subRegex=e.value;break;case"characterDelete":t.userData.text.characterDelete=e.value;break;case"countCharacterDivide":t.userData.text.countCharacterDivide=e.value}},setUserData_Voice:function(t,e){t.userData.voice=e},updateListConfigVoice:function(t,e){t.data.listVoiceConfig=e},updateListFont:function(t,e){t.data.listFont=e}},actions:{updateListFont:function(t,e){(0,t.commit)("updateListFont",e)},updateListConfigVoice:function(t,e){(0,t.commit)("updateListConfigVoice",e)},setUserData_Voice:function(t,e){(0,t.commit)("setUserData_Voice",e)},setUserData_Text:function(t,e){(0,t.commit)("setUserData_Text",e)},setListProfile:function(t,e){(0,t.commit)("setListProfile",e)},setListChannelUpload:function(t,e){(0,t.commit)("setListChannelUpload",e)},setListLayout:function(t,e){(0,t.commit)("setListLayout",e)},setData:function(t,e){(0,t.commit)("setData",e)},setUser:function(t,e){(0,t.commit)("setUser",e)},setToken:function(t,e){(0,t.commit)("setToken",e)},pushTempArray:function(t,e){(0,t.commit)("pushTempArray",e)},updateTempArray:function(t,e){(0,t.commit)("updateTempArray",e)},updateItemTempArray:function(t,e){(0,t.commit)("updateItemTempArray",e)},deleteItemTempArray:function(t,e){(0,t.commit)("deleteItemTempArray",e)}},plugins:[Object(b.a)({storeage:{getItem:function(t){return y.getJSON(t)},setItem:function(t,e){return y.set(t,e,{expires:3,secure:!0})},removeItem:function(t){return y.remove(t)}}})]}),k=this,S=new a.default({}),T=function(t){switch(t.status){case 401:S.$swal.fire({type:"error",title:"Chưa Đăng Nhập"});break;case 1e3:S.$swal.fire({type:"error",title:"Lỗi Kết Nối Server"});break;case 500:S.$swal.fire({type:"error",title:"Lỗi Server. Vui Lòng báo cho Admin.!"}),console.log(t);break;case 400:if(t&&t.data&&!1===t.data.isActive)return;S.$swal.fire({type:"error",title:""+(t.data.message?t.data.message:"")});break;case 404:S.$swal.fire({type:"error",title:"Không tìm thấy Api"});break;case 409:S.$swal.fire({type:"error",title:"Đã Tồn Tại.!"});break;default:S.$swal.fire({type:"error",title:"Lỗi"})}},V=function t(){u()(this,t)};V.post=(C=r()(n.a.mark(function t(e,i,a){var s,o,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={baseURL:"https://api.alidamedia.com/",headers:{Authorization:"Bearer "+w.state.token},timeout:1e4},(o=m()({},s,a)).headers=m()({},o.headers,{Authorization:"Bearer "+w.state.token}),r={},t.prev=4,t.next=7,g.a.post(e,i,o);case 7:r=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),r=t.t0.response;case 13:return r&&(r.status||r.data&&r.data.status||r.error&&r.error.response&&(r.error.response.status||r.error.response.data.status))||(r={status:1e3,message:"Netword Error.!"}),200!=r.status&&T(r),t.abrupt("return",r);case 16:case"end":return t.stop()}},t,k,[[4,10]])})),function(t,e,i){return C.apply(this,arguments)}),V.get=(x=r()(n.a.mark(function t(e,i){var a,s,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={baseURL:"https://api.alidamedia.com/",headers:{Authorization:"Bearer "+w.state.token},timeout:1e4},s=m()({},a,i),o={},t.prev=3,t.next=6,g.a.get(e,s);case 6:o=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),o=t.t0.response;case 12:return o&&(o.status||o.data&&o.data.status||o.error&&o.error.response&&o.error.response.data.status)||(o={status:1e3,message:"Netword Error.!"}),200!=o.status&&T(o),t.abrupt("return",o);case 15:case"end":return t.stop()}},t,k,[[3,9]])})),function(t,e){return x.apply(this,arguments)});var I=V,D="/api/v1/service",E=function(){function t(){u()(this,t)}return h()(t,null,[{key:"imageToText",value:function(t){return I.post(D+"/image-to-text",t,{timeout:6e4})}},{key:"getInfoServer",value:function(){return I.get(D+"/get-info-server",{timeout:6e4})}},{key:"exportSubtitle",value:function(t){return I.post(D+"/export-subtitle",t,{timeout:3e4})}},{key:"getInfoVideoYoutubeDL",value:function(t){return I.post(D+"/get-info-video-youtubedl",t,{timeout:6e4})}},{key:"getInfoVideoOnServer",value:function(t){return I.post(D+"/get-info-video-on-server",t,{timeout:6e4})}},{key:"searchImageGoogle",value:function(t){return I.post(D+"/search-image-google",t,{timeout:3e5})}},{key:"getListVoice",value:function(){return I.get(D+"/get-list-voice")}},{key:"previewVoice",value:function(t){return I.post(D+"/voice-preview",t,{timeout:6e4})}},{key:"getInfoYoutube",value:function(t){try{return I.post(D+"/get-info-youtube",t,{timeout:6e4})}catch(t){return null}}},{key:"searchVideoBlocks",value:function(t){return I.post(D+"/search-video-blocks",t,{timeout:3e4})}},{key:"changePassword",value:function(t){return I.post(D+"/change-password",t)}},{key:"googleTranslate",value:function(t){return I.post(D+"/google-translate",t)}},{key:"createVoice",value:function(t){return I.post(D+"/create-voice",t)}}]),t}(),L={components:{Loading:c.a},data:function(){return{oldPassword:null,newPassword:null,newPasswordRepeat:null,isLoading:!1,isEdit:!1,AccountEdit:null}},methods:{reset:function(){this.isLoading=!1,this.isEdit=!1,this.AccountEdit=null,this.oldPassword=null,this.newPassword=null,this.newPasswordRepeat=null},show:function(t){this.reset(),t&&(this.AccountEdit=t),this.$refs.modalAddAccount.show()},hide:function(){this.$refs.modalAddAccount.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.oldPassword&&t.newPassword&&t.newPasswordRepeat){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:if(t.newPassword===t.newPasswordRepeat){e.next=7;break}return t.$notify({title:"Nhập lại mật khẩu mới Không khớp nhau.!",type:"warn"}),e.abrupt("return");case 7:return t.isLoading=!0,e.next=10,E.changePassword({oldPassword:t.oldPassword,newPassword:t.newPassword,newPasswordRepeat:t.newPasswordRepeat});case 10:(i=e.sent)&&200===i.status&&(t.$notify({type:"success",title:"Đổi Mật Khẩu Thành Công"}),t.hide()),t.isLoading=!1,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddAccount",attrs:{id:"addChannel","hide-footer":"",title:"Đổi mật khẩu",size:"md"}},[i("b-form-group",{attrs:{label:"Mật khẩu cũ:","label-class":"font-weight-bold","label-for":"oldPassword"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"oldPassword",placeholder:"Nhập mật khẩu cũ"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Mật khẩu mới:","label-class":"font-weight-bold","label-for":"newPassword"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"newPassword",placeholder:"Nhập mật khẩu mới"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Mật khẩu:","label-class":"font-weight-bold","label-for":"newPasswordRepeat"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"newPasswordRepeat",placeholder:"Nhập lại mật khẩu mới"},model:{value:t.newPasswordRepeat,callback:function(e){t.newPasswordRepeat=e},expression:"newPasswordRepeat"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Xác nhận")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var P=i("VU/8")(L,A,!1,function(t){i("LtC1")},null,null).exports,U=i("Gu7T"),F=i.n(U),O={data:function(){return{isLoading:!1,listServer:[],listVideoQueuing:[],isShowVideoQueuing:!1}},components:{Loading:c.a},methods:{onShow:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,i=[],a=[],e.prev=3,e.next=6,E.getInfoServer();case 6:if((s=e.sent)&&200===s.status)for(a=s.data.listServer,o=0;o<a.length;o++)(r=a[o]).data&&r.data.listVideoQueue&&r.data.listVideoQueue.length>0&&(i=[].concat(F()(i),F()(r.data.listVideoQueue)));e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.$notify({title:"Lỗi: "+e.t0,type:"error"});case 13:a=a.map(function(t){return m()({},t,{isShow:!1})}),t.listVideoQueuing=i,t.listServer=a,t.isLoading=!1;case 17:case"end":return e.stop()}},e,t,[[3,10]])}))()}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("b-sidebar",{ref:"slideBarInfoServer",attrs:{id:"slideBarInfoServer",title:"Thông Tin Server",right:"",shadow:"","header-class":"align-items-center","no-header":""},on:{shown:t.onShow},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hide;return[i("div",{staticClass:"px-3 py-2  text-left"},[i("div",{staticClass:"text-center my-2 mb-3",staticStyle:{position:"relative"}},[i("i",{staticClass:"fas fa-times icon-close-slidebar",on:{click:a}}),t._v(" "),i("h4",{staticClass:"font-weight-bold"},[t._v("Thông tin Server")])]),t._v(" "),i("div",[i("h5",[t._v("\n              Số Video Đang Chờ Render:\n              "),i("span",{staticClass:"font-weight-bold text-primary mx-2",staticStyle:{"font-size":"25px"}},[t._v(t._s(t.listVideoQueuing.length))]),t._v(" "),t.isShowVideoQueuing?i("i",{staticClass:"fas fa-chevron-circle-up icon-hide-detail mx-2",on:{click:function(e){t.isShowVideoQueuing=!1}}}):i("i",{staticClass:"fas fa-chevron-circle-down icon-show-detail mx-2",on:{click:function(e){t.isShowVideoQueuing=!0}}})]),t._v(" "),t.isShowVideoQueuing&&t.listVideoQueuing?i("table",{staticClass:"table table-hover table-bordered table-sm text-center"},[i("thead",[i("th",[t._v("ID Video")]),t._v(" "),i("th",[t._v("Tên tài khoản")])]),t._v(" "),t._l(t.listVideoQueuing,function(e,a){return i("tr",{key:a},[i("td",[t._v("\n                  "+t._s(e._id)+"\n                ")]),t._v(" "),i("td",[t._v("\n                  "+t._s(e.username)+"\n                ")])])})],2):t._e()]),t._v(" "),i("div",t._l(t.listServer,function(e,a){return i("div",{key:a,staticClass:"item-server"},[i("h5",{staticClass:"font-weight-bold "},[i("a",{attrs:{href:e.domain}},[t._v(t._s(e.name+" ")+" ")]),e&&e.data?i("i",{staticClass:"fas fa-heart icon-live"}):i("i",{staticClass:"fas fa-heart icon-die"})]),t._v(" "),i("table",[i("tr",[i("td",[t._v("Video đang render:")]),t._v(" "),i("td",[i("span",{staticClass:"font-weight-bold text-primary mx-2",staticStyle:{"font-size":"20px"}},[t._v("\n                      "+t._s(e&&e.data&&e.data.listVideoRendering?e.data.listVideoRendering.length:0)+"\n                    ")])]),t._v(" "),i("td",[e.isShow?i("i",{staticClass:"fas fa-chevron-circle-up icon-hide-detail mx-2",on:{click:function(e){t.listServer[a].isShow=!1}}}):i("i",{staticClass:"fas fa-chevron-circle-down icon-show-detail mx-2",on:{click:function(e){t.listServer[a].isShow=!0}}})])])]),t._v(" "),e&&e.isShow&&e.data&&e.data.listVideoRendering?i("table",{staticClass:"table table-hover table-bordered table-sm text-center"},[i("thead",[i("th",[t._v("ID Video")]),t._v(" "),i("th",[t._v("Tên tài khoản")])]),t._v(" "),t._l(e.data.listVideoRendering,function(e,a){return i("tr",{key:a},[i("td",[t._v("\n                    "+t._s(e._id)+"\n                  ")]),t._v(" "),i("td",[t._v("\n                    "+t._s(e.username)+"\n                  ")])])})],2):t._e()])}),0)]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})]}}])})],1)])},staticRenderFns:[]};var R=i("VU/8")(O,M,!1,function(t){i("x9U7")},"data-v-13838cb7",null).exports,N=i("dDoS"),z=i.n(N),B={data:function(){return{showSlidingMenu:!1,isFirstClick:!0}},components:{ModalChangePassword:P,SlideBarInfoServer:R},mounted:function(){},directives:{ClickOutside:z.a},methods:{onClickOutSide:function(){0!=this.showSlidingMenu&&(this.isFirstClick?this.isFirstClick=!1:this.showSlidingMenu=!1)},onShowSlidingMenu:function(){this.showSlidingMenu=!this.showSlidingMenu},signout:function(){this.showSlidingMenu=!1,this.isFirstClick=!0,this.$store.dispatch("setUser",null),this.$store.dispatch("setToken",null),$(".menu-dropdown").removeClass("show"),this.$router.push("/signin"),this.$swal.fire({type:"success",title:"Logout successful",showConfirmButton:!1,timer:1e3})}}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white"},[i("router-link",{attrs:{to:{name:"home"},exact:"","active-class":"active"}},[i("a",{staticClass:"navbar-brand logo"},[i("span",[t._v("Alida")]),t._v("Media")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t.$store.state.isUserLoggedIn?t._e():i("ul",{staticClass:"navbar-nav ml-auto align-items-center",attrs:{id:"xxx"}},[i("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:"pricing"}}},[t._v("\n          Bảng Giá\n        ")]),t._v(" "),i("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:"extension"}}},[t._v("\n          Hướng dẫn - Chức năng\n        ")]),t._v(" "),t.$store.state.isUserLoggedIn?t._e():i("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:"signin"}}},[t._v("\n          Đăng nhập\n        ")])],1),t._v(" "),t.$store.state.isUserLoggedIn?i("ul",{staticClass:"navbar-nav ml-auto align-items-center",attrs:{id:"xxx"}},[t.$store.state.user&&"admin"===t.$store.state.user.username?i("div",{staticClass:"mx-2"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.slideBarInfoServer",modifiers:{slideBarInfoServer:!0}}],staticClass:"btn-bell"},[i("i",{staticClass:"fal fa-bell"})])],1):t._e(),t._v(" "),i("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:"pricing"}}},[t._v("\n          Bảng Giá\n        ")]),t._v(" "),t.$store.state.isUserLoggedIn?i("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:{name:"workflow"}}},[i("a",{staticClass:"nav-link"},[t._v("Chức Năng")])]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?i("router-link",{staticClass:"nav-item",attrs:{"active-class":"active",to:{name:"managerVideo"}}},[i("a",{staticClass:"nav-link"},[t._v("Danh Sách Video")])]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?i("li",{staticClass:"nav-item",attrs:{id:"profile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("a",{ref:"slidingMenuRef",staticClass:"nav-link",on:{click:function(e){return e.preventDefault(),t.onShowSlidingMenu(e)}}},[t._v("\n            "+t._s(t.$store.state.user.username)+"\n            "),i("i",{staticClass:"fas fa-caret-down"})])]):t._e()],1):t._e()]),t._v(" "),t.$store.state.isUserLoggedIn?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutSide,expression:"onClickOutSide"}],staticClass:"slideing-menu",class:{show:t.showSlidingMenu}},[i("div",{staticClass:"account-infor"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"hCsMru icon mr-2 text-uppercase"},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.$store.state.user.avatar?t.$store.state.user.avatar:"https://www.alliancerehabmed.com/wp-content/uploads/icon-avatar-default.png"}})]),t._v(" "),i("div",{},[i("div",{staticClass:"jGSCuz text-uppercase truncate-text",staticStyle:{"max-width":"150px"}},[t._v("\n              "+t._s(t.$store.state.user.name)+"\n            ")]),t._v(" "),i("div",{staticClass:"gGITJa e-email"},[t._v(t._s(t.$store.state.user.username))])])]),t._v(" "),i("div",{staticStyle:{"margin-top":"1.5rem"},on:{click:function(e){t.showSlidingMenu=!1}}},["admin"===t.$store.state.user.type?i("router-link",{staticClass:"ieBeil",attrs:{to:{name:"adminDashboard"}}},[t._v("\n            Admin Dashboard\n          ")]):t._e(),t._v(" "),i("router-link",{staticClass:"ieBeil",attrs:{to:{name:"AccountSetting"}}},[t._v("\n            Thông tin tài khoản\n          ")]),t._v(" "),i("router-link",{staticClass:"ieBeil",attrs:{to:{name:"channelManager"}}},[t._v("Quản lý kênh upload")]),t._v(" "),i("router-link",{staticClass:"ieBeil",attrs:{to:{name:"fileManager"}}},[t._v("Quản lý file")]),t._v(" "),i("router-link",{staticClass:"ieBeil",attrs:{to:{name:"extension"}}},[t._v("Tiện ích")]),t._v(" "),i("a",{staticClass:"ieBeil text-danger",attrs:{href:"#"},on:{click:t.signout}},[t._v("Đăng xuất")])],1)])]):t._e()],1),t._v(" "),i("SlideBarInfoServer",{ref:"slideBarInfoServer"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon",staticStyle:{color:"black"}})])}]};var j={name:"App",data:function(){return{isLoading:!1}},components:{PageHeader:i("VU/8")(B,H,!1,function(t){i("rP18")},"data-v-0ff034d2",null).exports,Loading:c.a},created:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.$store.state.token){e.next=3;break}return e.abrupt("return");case 3:return t.isLoading=!0,e.next=6,I.get("api/v1/service/get-data");case 6:(i=e.sent)&&200===i.status?(a=i.data.data,t.$store.dispatch("setData",a)):401===i.status&&(t.$router.push("signin"),t.$store.dispatch("setUser",null),t.$store.dispatch("setToken",null)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi Get Data: "+e.t0});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[0,10]])}))()}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("page-header"),t._v(" "),i("div",[i("span",{staticClass:"span-fix-header-fixed",style:"padding-bottom: "+t.$store.state.heightHeader+"px;"}),t._v(" "),i("router-view")],1),t._v(" "),i("notifications",{attrs:{position:"bottom right"}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"is-full-page":!0,width:50,height:50},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Y=i("VU/8")(j,G,!1,function(t){i("a/42")},null,null).exports,K=i("/ocq"),W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-12 col-lg-2 mt-2"},[e("h6",[e("b",[this._v("CopyRight© AlidaMedia 2020")])])]),this._v(" "),e("div",{staticClass:"col-12 col-lg-2"},[e("a",{staticClass:"icon-fb mr-2",attrs:{target:"_blank",href:"https://www.facebook.com/Alida-Media-106506441311541/"}},[e("i",{staticClass:"fab fa-facebook-square"})]),this._v(" "),e("a",{staticClass:"icon-yt mr-2",attrs:{target:"_blank",href:"https://www.facebook.com/Alida-Media-106506441311541/"}},[e("i",{staticClass:"fab fa-youtube"})]),this._v(" "),e("a",{staticClass:"icon-mail",attrs:{target:"_blank",href:"https://www.facebook.com/Alida-Media-106506441311541/"}},[e("i",{staticClass:"fas fa-envelope"})])])]),this._v(" "),e("hr")])}]};var q=i("VU/8")({},W,!1,function(t){i("2mNA")},"data-v-695b08ae",null).exports,X={data:function(){return{name:""}},mounted:function(){this.$store.state.isUserLoggedIn&&(this.name=this.$store.state.user.name)},components:{PageFooter:q}},J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container"},[i("div",{staticClass:"col-md-12 mt-3 mb-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"offset-md-2 text-center"},[t._m(0),t._v(" "),i("div",{staticClass:"button-list kJJxKU"},[i("router-link",{staticClass:"btn-style mb-2",attrs:{to:{name:"simpleEdit"}}},[t._v("Upload Video")]),t._v(" "),i("router-link",{staticClass:"btn-style-outline mb-2",attrs:{to:{name:"simpleEdit"}}},[t._v("Try a sample")])],1)]),t._v(" "),t._m(1)])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("hr")]),t._v(" "),i("hr"),t._v(" "),i("page-footer")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"haXwOH"},[e("b",[this._v("Chỉnh sửa, sáng tạo video 1 cách dễ dàng.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 mt-5"},[e("img",{staticClass:"img-responsive",staticStyle:{border:"1px solid gray","border-radius":"10px"},attrs:{src:"/static/assets/images/wgkeFiU.png",width:"100%"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 mt-3 mb-3 mt-5"},[i("div",{staticClass:"title"},[i("h2",{staticClass:"slkGo"},[i("b",[t._v("Chức năng chính:")])]),t._v(" "),i("p",{staticStyle:{"margin-bottom":"0"}},[t._v("\n          Sử dụng 1 cách đơn giản.\n        ")]),t._v(" "),i("p")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{},[i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-cut"})]),t._v(" "),i("span",[t._v("Cắt Video")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"far fa-image"})]),t._v(" "),i("span",[t._v("Thêm Ảnh")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("img",{attrs:{src:"https://www.svgrepo.com/show/9204/rotate.svg",alt:"",width:"50%"}})]),t._v(" "),i("span",[t._v("Xoay Video")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-crop-alt"})]),t._v(" "),i("span",[t._v("Crop Video")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("img",{attrs:{src:"https://static.thenounproject.com/png/35854-200.png",alt:"",width:"50%"}})]),t._v(" "),i("span",[t._v("Thêm Text")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"far fa-clock"})]),t._v(" "),i("span",[t._v("Tăng Giảm Speed Video")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-closed-captioning"})]),t._v(" "),i("span",[t._v("Thêm Subtitle")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-volume-mute"})]),t._v(" "),i("span",[t._v("Xóa Audio")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-video",staticStyle:{"font-size":"40px"}})]),t._v(" "),i("span",[t._v("Đè Video Khác")])])])]),t._v(" "),i("div",{staticClass:"tool-item col-6 col-sm-4 col-md-2 d-flex justify-content-center"},[i("a",{attrs:{href:""}},[i("div",{staticClass:"cISfLa"},[i("span",{staticStyle:{"font-size":"40px"}},[i("i",{staticClass:"fas fa-music"})]),t._v(" "),i("span",[t._v("Thêm Nhạc")])])])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 mt-3 mb-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-6 text-left"},[i("h3",[i("b",[t._v("Tại sao nên sử dụng AlidaMedia Tool?")])]),t._v(" "),i("hr"),t._v(" "),i("h4",[i("b",[t._v("Tiếp cận")])]),t._v(" "),i("p",[t._v("\n            Chúng tôi muốn làm cho cách chỉnh sửa, sáng tạo video trở nên dễ\n            dàng và dễ tiếp cận. Đó là lý do tại sao chúng tôi đã xây dựng\n            AlidaMedia Tool.\n          ")]),t._v(" "),i("h4",[i("b",[t._v("Con Người")])]),t._v(" "),i("p",[t._v("\n            Đến nay chúng tôi là dự án tự tài trợ do đội ngũ AlidaMedia xây\n            dựng. Chúng tôi sẽ hỗ trợ sự phát triển của dự án thông qua công\n            việc ký hợp đồng bên ngoài.\n          ")])])])])}]};var Q=i("VU/8")(X,J,!1,function(t){i("0FW9")},"data-v-5a959462",null).exports,Z={PAYMENT_TYPE:{BUY_PACKAGE:"BUY_PACKAGE",TOP_UP_ACCOUNT:"TOP_UP_ACCOUNT",EXPORT_SUBTITLE:"EXPORT_SUBTITLE",SUBTITLE_AND_VOICE_TO_VIDEO:"SUBTITLE_AND_VOICE_TO_VIDEO",REVIEW_SUBTITLE_VOICE:"REVIEW_SUBTITLE_VOICE"},AMOUNT_PAYMENT_TYPE:{IN:"IN",OUT:"OUT"},API_GOOGLE_CLOUD_TYPE:{VISION:"VISION",STORAGE:"STORAGE"},UPLOAD_FILE_TYPE:{STORE_FILE_USER:"STORE_FILE_USER",VIDEO_TEMP:"VIDEO_TEMP",LAYOUT_SIMPLE_EDIT:"LAYOUT_SIMPLE_EDIT",SIMPLE_EDIT:"SIMPLE_EDIT",NEWS_VIDEO:"NEWS_VIDEO",UPDATE_USER:"UPDATE_USER",EXPORT_SUBTITLE_FROM_VIDEO:"EXPORT_SUBTITLE_FROM_VIDEO"},ACCOUNT_TYPE:{TEAM_MEMBER:"TEAM_MEMBER",CUSTOMER:"CUSTOMER"},CROP:{ORIGIN:"ORIGIN",CUSTOM:"CUSTOM",NO_CROP:"NO_CROP"},VIDEO_TYPE:{JOIN_VIDEO:"JOIN_VIDEO",SIMPLE_EDIT:"SIMPLE_EDIT",NEWS_VIDEO:"NEWS_VIDEO",AUTO_REUP:"AUTO_REUP",CREATE_VOICE:"CREATE_VOICE",EXPORT_SUBTITLE_FROM_VIDEO:"EXPORT_SUBTITLE_FROM_VIDEO"},VIDEO_STATUS_UPLOAD:{PUBLIC:"PUBLIC",UNLIST:"UNLIST",PRIVATE:"PRIVATE",SCHEDULE:"SCHEDULE"},VIDEO_STATUS:{SUCCESS:"SUCCESS",ERROR:"ERROR",RENDERING:"RENDERING",QUEUING:"QUEUING",DELETED:"DELETED",CREATED:"CREATED",STOPED:"STOPED",UPLOADING:"UPLOADING",UPLOAD_SUCCESS:"UPLOAD_SUCCESS",UPLOAD_ERROR:"UPLOAD_ERROR"},VIDEO_QUALITY:{NO_RE_ENCODING:"NO_RE_ENCODING",ORIGINAL:"ORIGINAL",V_240P:"320x240",V_360P:"480x360",V_480P:"640x480",HD:"1280x720",FULL_HD:"1920x1080",V_2K:"2560x1440",V_4K:"4096x2160"},EXT_VIDEO:[".avi",".mp4",".mov",".flv",".wmv",".mpeg",".vob",".ts",".mpg",".mkv",".webm"],EXT_IMAGE:[".mpeg",".jpg",".png",".gif",".bmp",".jpeg",".mov"],EXT_VIDEO_GIF:[".avi",".mov",".mkv",".vob",".ts",".mpg"],EXT_AUDIO:[".mp3",".acc",".wav",".flac",".m4a"],SUBTITLE_TYPE:{NONE:"NONE",DEFAULT:"DEFAULT",BOTTOM_TO_TOP:"BOTTOM_TO_TOP"},NEWS_TYPE_VIDEO_BACKGROUND:{USE_BACKGROUND_VIDEO:"USE_BACKGROUND_VIDEO",USE_VIDEO_LAYOUT:"USE_VIDEO_LAYOUT",CUSTOM:"CUSTOM"},TEXT_ANIMATION:{NONE:"NONE",RUN_RIGHT_TO_LEFT:"RUN_RIGHT_TO_LEFT",RUN_LEFT_TO_RIGHT:"RUN_LEFT_TO_RIGHT"},VOICE:{FPT_AI:"FPT_AI",VIETTEL_AI:"VIETTEL_AI",VOICE_TEXT_JP:"VOICE_TEXT_JP",NOTE_VIBES:"NOTE_VIBES",GOOGLE:"GOOGLE",WINDOWS:"WINDOWS",AI_JP:"AI_JP",AI_JP_DEMO:"AI_JP_DEMO",VINA:"VINA"},AUTO_REUP_STATUS:{READY:"READY",RUNNING:"RUNNING",STOP:"STOP"},YOUTUBE_LIST_TIME_SHUCEL:["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],ITEM_ADD_TO_VIDEO_TYPE:{TEXT:"text",IMAGE:"IMAGE",VIDEO:"VIDEO",SUBTITLE:"SUBTITLE",SLIDE_VIDEO:"SLIDE_VIDEO",VIDEO_MAIN:"VIDEO_MAIN"},LIST_PACKKAGE_PRICE:[{type:"small",title:"Nhỏ",price:2e5,description:"Phù hợp dùng test thử",countVideoRender:10,videoLength:15,exportVideoQuality:"720p",countCharacterCreateVoice:5e5,countRequestVideoToText:500,countDay:7},{type:"medium",title:"Vừa",price:5e5,description:"Phù hợp với cá nhân",countVideoRender:10,videoLength:15,exportVideoQuality:"1080p",countCharacterCreateVoice:15e5,countRequestVideoToText:1500,countDay:30},{type:"big",title:"Lớn",price:1e6,description:"Phù hợp với cá nhân sử dụng nhiều",countVideoRender:30,videoLength:40,exportVideoQuality:"4K",countCharacterCreateVoice:4e6,countRequestVideoToText:4e3,countDay:30}]},tt={data:function(){return{listPaymentMethod:[{bank:"TECH_COM_BANK",bankName:"Techcombank",icon:"/static/assets/icons/payments/Techcombank_logo.png",user_stk:"19036792437015",user_name:"NGUYEN TUAN BAC",user_chi_nhanh:"",style:{backgroundColor:"#fff"}},{bank:"VIET_COM_BANK",bankName:"Vietcombank",icon:"/static/assets/icons/payments/Vietcombank_Logo.png",user_stk:"1018924004",user_name:"NGUYEN TUAN BAC",user_chi_nhanh:"",style:{margin:"0 10px"}},{bank:"TIEN_PHONG_BANK",bankName:"Tiên Phong Bank",icon:"/static/assets/icons/payments/tp-bank.svg",user_stk:"00450524002",user_name:"NGUYEN TUAN BAC",user_chi_nhanh:"",style:{backgroundColor:"#6d3a87"}}],paymentSelected:{bank:"",bankName:"",icon:"",user_stk:"",user_name:"",user_chi_nhanh:"",description:""}}},props:["packageSelected"],methods:{show:function(){this.$refs.modalPayment.show()},hide:function(){this.$refs.modalPayment.hide()},onSelectPayment:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.paymentSelected=m()({},t,{description:e.$store.state.user.username});case 1:case"end":return i.stop()}},i,e)}))()},onConfirmPayment:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PaymentApi.onPayment({bank:t.paymentSelected.bank});case 2:e.sent,t.$refs.modalPayment.hide();case 4:case"end":return e.stop()}},e,t)}))()}},mounted:function(){var t=this.$store.state.user?this.$store.state.user.username:"";this.paymentSelected=m()({},this.listPaymentMethod[0],{description:t})}},et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalPayment",attrs:{"hide-footer":"","hide-header":"",size:"lg",id:"modal-pay-ment",title:"Thanh Toán"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"exxKLA",staticStyle:{margin:"20px auto"}},[i("span",{staticClass:"sc-fznWqX fhzWpZ"},[t._v("Thanh Toán")])]),t._v(" "),i("div",[i("div",[i("span",{staticClass:"sc-fznWqX dpunqo"},[t._v("Lựa chọn phương thức thanh toán:")])]),t._v(" "),i("div",{staticStyle:{margin:"20px auto",display:"flex"}},t._l(t.listPaymentMethod,function(e,a){return i("div",{key:"bank_"+a,class:{payment_selected:t.paymentSelected.bank===e.bank},staticStyle:{padding:"5px",border:"1px solid #007bff","border-radius":"5px"},style:e.style},[i("img",{staticStyle:{height:"70px",width:"180px",padding:"10px 20px","border-radius":"10px",cursor:"pointer"},attrs:{src:e.icon,alt:""},on:{click:function(i){return t.onSelectPayment(e)}}})])}),0),t._v(" "),i("div",[i("div",[i("span",{staticClass:"sc-fznWqX dpunqo"},[t._v("Thông tin thanh toán:")])]),t._v(" "),i("div",[i("div",{staticClass:"table"},[i("tbody",[i("tr",[i("td",[i("strong",[t._v("Phương thức thanh toán")])]),t._v(" "),i("td",{staticClass:"text-success h6 font-weight-bold"},[t._v("\n                  "+t._s(t.paymentSelected.bankName)+"\n                ")])]),t._v(" "),i("tr",[i("td",[i("strong",[t._v("Số tài khoản")])]),t._v(" "),i("td",{staticClass:"text-danger h6"},[t._v("\n                  "+t._s(t.paymentSelected.user_stk)+"\n                ")])]),t._v(" "),i("tr",[i("td",[i("strong",[t._v("Người thụ hưởng")])]),t._v(" "),i("td",{staticClass:"text-danger h6"},[t._v("\n                  "+t._s(t.paymentSelected.user_name)+"\n                ")])]),t._v(" "),t.paymentSelected.user_chi_nhanh?i("tr",[i("td",[i("strong",[t._v("Chi nhánh")])]),t._v(" "),i("td",{staticClass:"text-success h6"},[t._v("\n                  "+t._s(t.paymentSelected.user_chi_nhanh)+"\n                ")])]):t._e(),t._v(" "),i("tr",[i("td",[i("strong",[t._v("Số tiền")])]),t._v(" "),i("td",{staticClass:"text-primary h6"},[t._v("\n                  "+t._s(t.packageSelected?t.packageSelected.price.toLocaleString("it-IT"):"100.000 ")+"\n                  "),i("span",{staticStyle:{color:"black","font-weight":"bold"}},[t._v("VNĐ ")]),i("span",{staticStyle:{color:"red"}},[t._v("(Nạp ít nhất 100.000)")])])]),t._v(" "),i("tr",[i("td",[i("strong",[t._v("Nội dung chuyển tiền")])]),t._v(" "),i("td",{staticClass:"text-danger h6"},[t._v("\n                  "+t._s(t.packageSelected?t.paymentSelected.description:"Nap-"+t.paymentSelected.description)+"\n                ")])])])])])])]),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v("*")]),t._v(" Lưu ý:")]),t._v(" "),i("p",{staticClass:"m-0"},[t._v("\n        - Chuyển theo hình thức "),i("span",{staticClass:"font-weight-bold"},[t._v("24/7.")])]),t._v(" "),i("p",{staticClass:"m-0"},[t._v("- Lưu lại hình ảnh chuyển khoản.")]),t._v(" "),i("p",{staticClass:"m-0"},[t._v("\n        - Hệ thống sẽ tự động cập nhật trong vòng 5 -> 30 phút. Nếu quá 30\n        phút chưa thấy tài khoản được cập nhật. Hãy liên hệ với\n        "),i("a",{staticStyle:{"font-weight":"bold"},attrs:{target:"_blank",href:"https://www.facebook.com/Alida-Media-106506441311541/"}},[t._v("Đội ngũ hỗ trợ")]),t._v("\n        để giải quyết.!\n      ")])])])])},staticRenderFns:[]};var it=i("VU/8")(tt,et,!1,function(t){i("bVUC")},null,null).exports,at=i("//Fk"),st=i.n(at),nt=function(){function t(){u()(this,t)}return h()(t,null,[{key:"loginWithFacebook",value:function(){return new st.a(function(t,e){try{FB.getLoginStatus(function(i){FB.login(function(i){var a;i.authResponse?FB.api("/me",{fields:["id","email","name","picture.type(large)"]},(a=r()(n.a.mark(function i(a){var s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s={idSocial:a.id,provider:"facebook",email:a.emails,name:a.name,avatar:a.picture.data.url},i.next=4,I.post("/user/loginSocial",s);case 4:200===(o=i.sent).status&&t(o.data),e(o),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),e(i.t0);case 12:case"end":return i.stop()}},i,this,[[0,9]])})),function(t){return a.apply(this,arguments)})):e()},{scope:"email"})})}catch(t){e(t)}})}},{key:"loginWithGoogle",value:function(t){var e=this;return new st.a(function(i,a){var s;t.$gAuth.signIn().then((s=r()(n.a.mark(function t(s){var o,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s||!s.w3){t.next=6;break}return o={email:s.w3.U3,name:s.w3.ig,avatar:s.w3.Paa,idSocial:s.w3.Eea,provider:"google"},t.next=4,I.post("/user/loginSocial",o);case 4:200===(r=t.sent).status?i(r.data):a(r);case 6:case"end":return t.stop()}},t,e)})),function(t){return s.apply(this,arguments)})).catch(function(t){a(t)})})}},{key:"login",value:function(t){return I.post("/user/login",t)}},{key:"register",value:function(t){return I.post("/user/register",t)}},{key:"updateUser",value:function(t){return I.post("/api/v1/user/update-user",t)}},{key:"getUserData",value:function(){return I.get("/api/v1/user/get-user-data")}},{key:"byPackage",value:function(t){return I.post("/api/v1/user/by-package",t)}}]),t}(),ot={data:function(){return{listPackage:Z.LIST_PACKKAGE_PRICE,packageSelected:null,isLoading:!1}},methods:{onClickChoose:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.$store.state.isUserLoggedIn){i.next=6;break}return i.next=3,e.$swal.fire({type:"info",title:"Bạn chưa đăng nhập.!",showCancelButton:!0,confirmButtonText:"Đăng nhập ngay"});case 3:return i.sent.value&&e.$router.push("/signin"),i.abrupt("return");case 6:if(!(e.$store.state.user.amount<t.price)){i.next=12;break}return i.next=9,e.$swal({type:"error",title:"Số dư tài khoản không đủ. Vui lòng nạp thêm tiền vào tài khoản.!"});case 9:e.$refs.modalPayment.show(),i.next=30;break;case 12:return i.next=14,e.$swal({type:"question",title:"Xác nhận mua gói cước này.!"});case 14:if(!0!==i.sent.value){i.next=30;break}return e.isLoading=!0,i.prev=17,i.next=20,nt.byPackage({packageType:t.type});case 20:if(!(a=i.sent)||200!==a.status){i.next=25;break}return i.next=24,e.$swal({type:"success",title:"Mua Thành Công.!"});case 24:e.$router.push("/account-settings");case 25:i.next=29;break;case 27:i.prev=27,i.t0=i.catch(17);case 29:e.isLoading=!1;case 30:case"end":return i.stop()}},i,e,[[17,27]])}))()}},mounted:function(){},components:{PageFooter:q,ModalPayment:it,Loading:c.a}},rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},t._l(t.listPackage,function(e,a){return i("div",{key:a,staticClass:"col-md-4 mb-3"},[i("div",{staticClass:"plan recommend"},[i("div",{staticClass:"title"},[1==a?i("i",{staticClass:"fad fa-star"}):t._e(),t._v(" "+t._s(e.title)+"\n            "),1==a?i("i",{staticClass:"fad fa-star"}):t._e()]),t._v(" "),i("div",{staticClass:"description"},[t._v("\n            "+t._s(e.description)+"\n          ")]),t._v(" "),i("div",{staticClass:"price"},[t._v("\n            "+t._s(e.price.toLocaleString("it-IT"))+" VNĐ\n          ")]),t._v(" "),i("div",{staticClass:"expiried font-weight-bold"},[t._v("HSD: "+t._s(e.countDay)+" ngày")]),t._v(" "),i("div",[i("button",{staticClass:"btn btn-block btn-style btn-style-sm",on:{click:function(i){return t.onClickChoose(e)}}},[t._v("\n              Chọn\n            ")])]),t._v(" "),i("div",{staticClass:"infor-detail mt-3"},[i("div",{staticClass:"label mb-3"},[t._v("Thông tin")]),t._v(" "),i("div",{staticClass:"infor-line d-flex justify-content-between"},[t._m(1,!0),t._v(" "),i("span",[t._v(t._s(e.videoLength)+" phút")])]),t._v(" "),i("div",{staticClass:"infor-line d-flex justify-content-between"},[t._m(2,!0),t._v(" "),i("span",[t._v(t._s(e.countVideoRender)+" video/ ngày")])]),t._v(" "),i("div",{staticClass:"infor-line d-flex justify-content-between"},[t._m(3,!0),t._v(" "),i("span",[t._v(t._s(e.exportVideoQuality))])]),t._v(" "),i("div",{staticClass:"infor-line d-flex justify-content-between"},[t._m(4,!0),t._v(" "),i("span",[t._v(t._s(e.countCharacterCreateVoice.toLocaleString("it-IT")))])]),t._v(" "),i("div",{staticClass:"infor-line d-flex justify-content-between"},[t._m(5,!0),t._v(" "),i("span",[t._v(t._s(e.countRequestVideoToText.toLocaleString("it-IT"))+"\n                lần/ngày")])])])])])}),0),t._v(" "),i("div",{staticClass:"row"})]),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("modal-payment",{ref:"modalPayment",attrs:{packageSelected:t.packageSelected}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"is-full-page":!0,width:50,height:50},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sc-AxjAm sc-AxmLO sc-fzozJi sc-fznAgC exxKLA"},[e("span",{staticClass:"sc-fznWqX fhzWpZ"},[this._v("Chọn gói")]),this._v(" "),e("span",{staticClass:"sc-fznWqX dpunqo",attrs:{width:"80%,80%,80%,50%"}},[this._v("\n        Tất cả các gói bao gồm tất cả các tính năng chỉnh sửa video\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Độ dài Video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Video Render")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Độ Phân Giải Video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Kí Tự Giọng Đọc")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Lấy text trong ảnh")])])}]};var lt=i("VU/8")(ot,rt,!1,function(t){i("gPfc")},"data-v-2f97790c",null).exports,ct=function(t){return I.post("/user/login",t)},dt=function(t){return I.post("/user/register",t)},ut={components:{Loading:c.a},data:function(){return{user:{username:"",password:""},loading:!1}},methods:{handleLogin:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.username&&t.user.password){e.next=3;break}return t.$swal.fire({type:"warning",title:"Chưa nhập Tài Khoản hoặc Mật Khẩu"}),e.abrupt("return");case 3:return t.loading=!0,e.next=6,ct({username:t.user.username.toLowerCase(),password:t.user.password});case 6:if(!(i=e.sent)||200!==i.status){e.next=17;break}return t.$store.dispatch("setUser",i.data.userData),t.$store.dispatch("setToken",i.data.token),e.next=12,I.get("api/v1/service/get-data");case 12:(a=e.sent)&&200===a.status&&(s=a.data.data,t.$store.dispatch("setData",s)),t.$router.push({name:"home"}),e.next=29;break;case 17:if(400!==i.status||!1!==i.data.isActive){e.next=28;break}return e.next=20,t.$swal.fire({type:"warning",title:"Chưa kích hoạt tài khoản!",confirmButtonText:"Gửi lại email kích hoạt",showConfirmButton:!0,showCloseButton:!0,showCancelButton:!0});case 20:if(!e.sent.value){e.next=26;break}return e.next=24,g.a.get(i.data.urlResendEmailActive+"?username="+t.user.username);case 24:(o=e.sent)&&200===o.status&&t.$swal.fire({type:"success",title:"Gửi mail kích hoạt thành công!",html:'<div>\n              <span>Alida Media đã gửi email kích hoạt. Vào email đăng ký để kích hoạt tài khoản. </span>\n              <span>Nếu không thấy email, hãy kiểm tra trong mục <span class="font-weight-bold">Thư Rác</span>!</span>\n            </div>',showConfirmButton:!0});case 26:e.next=29;break;case 28:t.$refs.passwordxxx.focus();case 29:t.loading=!1;case 30:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.$route.query&&this.$route.query.isActive&&this.$swal.fire({type:"success",title:"Kích hoạt thành công. Đăng nhập ngay!"})}},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body services-area"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 mx-auto"},[i("div",{staticClass:"form"},[t._m(0),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"input-style",attrs:{type:"text",name:"username",id:"username",placeholder:"Nhập tài khoản"},domProps:{value:t.user.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],ref:"passwordxxx",staticClass:"input-style",attrs:{type:"password",name:"password",id:"password",placeholder:"Nhập mật khẩu"},domProps:{value:t.user.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group mt-3 text-center"},[i("button",{staticClass:"btn-style",on:{click:t.handleLogin}},[i("span",[t._v("Đăng Nhập")]),t._v(" "),i("loading",{attrs:{active:t.loading,"is-full-page":!1,width:30,height:30},on:{"update:active":function(e){t.loading=e}}})],1)]),t._v(" "),i("div",{staticClass:"form-group mt-2"},[i("p",{staticClass:"text-center"},[t._v("\n              Bạn chưa có tài khoản?\n              "),i("router-link",{staticClass:"bold",attrs:{tag:"a",to:{name:"signup"}}},[t._v("\n                Đăng ký ngay\n              ")])],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title mb-3"},[e("div",{staticClass:"col-md-12 text-center section-title"},[e("h2",[this._v("Đăng Nhập")])])])}]};var ht=i("VU/8")(ut,vt,!1,function(t){i("RpeR")},"data-v-3e81ee00",null).exports,pt={components:{Loading:c.a},data:function(){return{user:{name:"",username:"",email:"",password:"",repassword:""},loading:!1,errors:null,isLoading:!1}},methods:{register:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.user.name&&t.user.username&&t.user.email&&t.user.password&&t.user.repassword){e.next=4;break}return t.$notify({type:"error",text:"Vui Lòng Nhập Đủ Thông Tin.!"}),e.abrupt("return");case 4:if(t.user.password==t.user.repassword){e.next=7;break}return t.$notify({type:"error",title:"Mật khẩu nhập lại không đúng!"}),e.abrupt("return");case 7:return t.isLoading=!0,e.next=10,dt(t.user);case 10:if(!(i=e.sent)||200!==i.status){e.next=20;break}return e.next=14,t.$swal.fire({type:"success",title:"Đăng ký thành công!",html:'<div>\n              <span>Alida Media đã gửi email kích hoạt. Vào email đăng ký để kích hoạt tài khoản. </span>\n              <span>Nếu không thấy email, hãy kiểm tra trong mục <span class="font-weight-bold">Thư Rác</span>!</span>\n            </div>',confirmButtonText:"Gửi lại email kích hoạt",showConfirmButton:!0,showCloseButton:!0,showCancelButton:!0});case 14:if(!e.sent.value){e.next=20;break}return e.next=18,g.a.get(i.data.urlResendEmailActive+"?username="+t.user.username);case 18:(a=e.sent)&&200===a.status&&t.$swal.fire({type:"success",title:"Gửi mail kích hoạt thành công!",html:'<div>\n                  <span>Alida Media đã gửi email kích hoạt. Vào email đăng ký để kích hoạt tài khoản. </span>\n                  <span>Nếu không thấy email, hãy kiểm tra trong mục <span class="font-weight-bold">Thư Rác</span>!</span>\n                </div>',showConfirmButton:!0});case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0),t.$swal.fire({type:"error",title:"Lỗi Đăng ký tài khoản!",showConfirmButton:!1});case 26:t.isLoading=!1;case 27:case"end":return e.stop()}},e,t,[[0,22]])}))()}}},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body ",staticStyle:{"padding-top":"100px"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 mx-auto"},[i("div",{staticClass:"form"},[t._m(0),t._v(" "),i("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input-style",attrs:{type:"text",name:"name",id:"name",placeholder:"Tên hiển thị"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"input-style",attrs:{type:"text",name:"username",id:"username",placeholder:"Tài khoản đăng nhập"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input-style",attrs:{type:"email",name:"email",id:"email",placeholder:"Email đăng ký"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input-style",attrs:{type:"password",name:"password",id:"password",placeholder:"Nhập mật khẩu"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.repassword,expression:"user.repassword"}],staticClass:"input-style",attrs:{type:"password",name:"passwordConfirm",id:"passwordConfirm",placeholder:"Nhập lại mật khẩu"},domProps:{value:t.user.repassword},on:{input:function(e){e.target.composing||t.$set(t.user,"repassword",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group mt-3 text-center"},[t._m(1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"is-full-page":!1,width:50,height:50},on:{"update:active":function(e){t.isLoading=e}}})],1)]),t._v(" "),i("div",{staticClass:"form-group mt-2"},[i("p",{staticClass:"text-center"},[t._v("\n              Bạn đã có tài khoản?\n              "),i("router-link",{staticClass:"bold",attrs:{tag:"a",to:{name:"signin"}}},[t._v("\n                Đăng nhập ngay\n              ")])],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title mb-3"},[e("div",{staticClass:"col-md-12 text-center section-title"},[e("h2",[this._v("Đăng ký tài khoản")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn-style"},[e("span",[this._v("Đăng Ký")])])}]};var ft=i("VU/8")(pt,mt,!1,function(t){i("qjxw")},"data-v-7401b111",null).exports,gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"row justify-content-center m-0 mt-3"},[i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"simpleEdit"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Sửa Video")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/VideoEditting.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Cắt video\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Phụ đề\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Giọng đọc\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"newsVideo"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Tạo Video từ nhiều Layout")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/MakeVideo.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Tạo Video từ nhiều layout\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" .....")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"createVoice"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Tạo Giọng Đọc Từ Văn Bản")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/TextToVoice.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Chia text\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Giọng đọc\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Xuất file subtitle\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"exportSubtitleFromVideo"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Lấy Subtitle của video")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/exportSubtitle.jpg",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item font-weight-bold"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Giá 5k/1phút\n              ")]),t._v(" "),i("div",{staticClass:"item font-weight-bold"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Có timing\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Lấy Subtitle của video\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"CaptureTextOnVideo"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Lấy Text trong video")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/getTextInVideo.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Lấy text của video\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right font-weight-bold "}),t._v(" Miễn phí\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"TranslateFileSubtitle"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Dịch File Subtitle")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/iconTranslateSubtitle.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Dịch File Subtitle\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Sử dụng Google dịch\n              ")]),t._v(" "),i("div",{staticClass:"item font-weight-bold"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Miễn phí\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"autoReup"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Auto Reup")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/AutoReup.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Youtube\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Facebook\n              ")]),t._v(" "),i("div",{staticClass:"item font-weight-bold"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Tiktok\n              ")])])])])],1)]),t._v(" "),i("div",{staticClass:"container-item"},[i("div",{staticClass:"wrapper-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"FollowChannelYoutube"}}},[i("div",{staticClass:"single-choose text-center"},[i("p",{staticClass:"title"},[t._v("Theo Dõi KÊNH Youtube")]),t._v(" "),i("img",{staticClass:"img-item img-fluid",attrs:{src:"/static/assets/images/follow-channel.png",alt:""}}),t._v(" "),i("div",{staticClass:"features"},[i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Theo dõi số lượng\n              ")]),t._v(" "),i("div",{staticClass:"item"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" View")]),t._v(" "),i("div",{staticClass:"item font-weight-bold"},[i("i",{staticClass:"fad fa-angle-right"}),t._v(" Subtitle\n              ")])])])])],1)])])])},staticRenderFns:[]};var _t,bt,yt,Ct,xt,wt,kt,St,Tt,Vt=i("VU/8")({},gt,!1,function(t){i("7BBN")},"data-v-769392a6",null).exports,It=i("mvHQ"),Dt=i.n(It),Et=i("0xDb"),Lt=this,At=function t(){u()(this,t)};At.actionManagerVideo=function(){var t=r()(n.a.mark(function t(e){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/v1/video/action-manager-video",t.next=3,I.post(i,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,Lt)}));return function(e){return t.apply(this,arguments)}}(),At.createVideo=function(){var t=r()(n.a.mark(function t(e,i){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=m()({},i,{timeout:36e5,headers:{"Content-Type":"multipart/form-data"}}),a="/api/v1/video/create-video",t.next=4,I.post(a,e,i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,Lt)}));return function(e,i){return t.apply(this,arguments)}}(),At.getVideoById=(_t=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/get-video-by-id",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return _t.apply(this,arguments)}),At.getListVideo=(bt=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/get-videos",e,{timeout:1e4});case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return bt.apply(this,arguments)}),At.updateVideo=(yt=r()(n.a.mark(function t(e,i){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=m()({},i,{timeout:36e5,headers:{"Content-Type":"multipart/form-data"}}),t.abrupt("return",I.post("/api/v1/video/update-video",e,i));case 2:case"end":return t.stop()}},t,Lt)})),function(t,e){return yt.apply(this,arguments)}),At.renderVideo=(Ct=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/render-video",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return Ct.apply(this,arguments)}),At.deleteVideo=(xt=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/delete-video",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return xt.apply(this,arguments)}),At.stopRender=(wt=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/stop-render-video",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return wt.apply(this,arguments)}),At.uploadGGD=(kt=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/upload-ggd",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return kt.apply(this,arguments)}),At.getListGgd=r()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/get-list-ggd");case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),At.reUploadVideo=(St=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/reupload-video",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return St.apply(this,arguments)}),At.cloneVideo=(Tt=r()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.post("/api/v1/video/clone-video",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}},t,Lt,[[0,6]])})),function(t){return Tt.apply(this,arguments)});var $t=At,Pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-slide-item "},[i("div",{staticClass:"box-function",class:{"left-slide-item-active":0===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(0)}}},[i("img",{attrs:{src:"/static/assets/icons/video-project.png",alt:""}}),t._v("\n    Project\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":1===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(1)}}},[i("img",{attrs:{src:"/static/assets/icons/addtext.png",alt:""}}),t._v("\n    Thêm Chữ\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":7===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(7)}}},[i("img",{attrs:{src:"/static/assets/icons/subtitles.png",alt:""}}),t._v("\n    Subtitles\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":4===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(4)}}},[i("img",{attrs:{src:"/static/assets/icons/addimage.png",alt:""}}),t._v("\n    Hình Ảnh\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":3===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(3)}}},[i("img",{attrs:{src:"/static/assets/icons/addmusic.png",alt:""}}),t._v("\n    Âm Thanh\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":10===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(10)}}},[i("img",{attrs:{src:"/static/assets/icons/voice.png",alt:"",width:"30px"}}),t._v("\n    Giọng Đọc\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":6===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(6)}}},[i("i",{staticClass:"fas fa-video",staticStyle:{"font-size":"25px"}}),t._v("\n    Videos\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":9===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(9)}}},[i("i",{staticClass:"fas fa-photo-video",staticStyle:{"font-size":"25px"}}),t._v("\n    Slide Video\n  ")]),t._v(" "),i("div",{staticClass:"box-function",class:{"left-slide-item-active":11===t.indexLeftItemActive},on:{click:function(e){return t.setIndex(11)}}},[i("i",{staticClass:"fas fa-sort-amount-down-alt",staticStyle:{"font-size":"25px"}}),t._v(" "),i("span",[t._v("Items")])])])},staticRenderFns:[]};var Ut=i("VU/8")({props:["indexLeftItemActive"],data:function(){return{}},methods:{setIndex:function(t){this.$emit("onChange",t)}}},Pt,!1,function(t){i("Wf58")},"data-v-e171f350",null).exports,Ft=i("bOdI"),Ot=i.n(Ft),Mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t.item?i("div",[i("div",{staticClass:"wrapper-show d-flex justify-content-between"},[i("div",{},[i("label",{staticClass:"label mr-2 fs-15 font-weight-bold reset",staticStyle:{color:"black"}},[t._v("Hiển thị:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.isFullVideo,expression:"item.isFullVideo"}],staticClass:"mx-2 px-0 ",attrs:{type:"checkbox",id:"full-video-"+t.item.id},domProps:{checked:Array.isArray(t.item.isFullVideo)?t._i(t.item.isFullVideo,null)>-1:t.item.isFullVideo},on:{change:function(e){var i=t.item.isFullVideo,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.item,"isFullVideo",i.concat([null])):n>-1&&t.$set(t.item,"isFullVideo",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.item,"isFullVideo",s)}}}),t._v(" "),i("label",{staticClass:"label",staticStyle:{margin:"0"},attrs:{for:"full-video-"+t.item.id}},[t._v("Full Video")])]),t._v(" "),t.enableIconShowListItem?i("div",[t.item.isShowListItem?i("span",{staticClass:"hide-list-item",on:{click:function(e){t.item.isShowListItem=!t.item.isShowListItem}}},[t._v("\n          Ẩn list item\n          "),i("i",{staticClass:"fal fa-chevron-double-up"})]):i("span",{staticClass:"show-list-item",on:{click:function(e){t.item.isShowListItem=!t.item.isShowListItem}}},[t._v("\n          Hiện list item\n          "),i("i",{staticClass:"fal fa-chevron-double-down"})])]):t._e()]),t._v(" "),t.item.isFullVideo?t._e():i("div",{staticClass:"text-left"},[i("div",{staticClass:"align-items-center row-custom-show"},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("Thời gian bắt đầu xuất hiện:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.item.startTime,expression:"item.startTime",modifiers:{number:!0}}],staticClass:"wrapper-item mx-2 text-center",attrs:{type:"number",min:"0",max:t.videoLength,step:"0.01"},domProps:{value:t.item.startTime},on:{input:function(e){e.target.composing||t.$set(t.item,"startTime",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"14px"}},[t._v("(s)")]),t._v(" "),i("i",{staticClass:"fab fa-get-pocket ml-2",attrs:{id:"tooltip-id-get-current-time-video-"+t.item.id},on:{click:function(e){t.item.startTime=t.currentTimeVideo}}}),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-id-get-current-time-video-"+t.item.id,triggers:"hover",variant:"info"}},[i("b",[t._v("Lấy time video hiện")])])],1),t._v(" "),i("div",{staticClass:"align-items-center row-custom-show"},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("Xuất hiện trong:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.item.showTime,expression:"item.showTime",modifiers:{number:!0}}],staticClass:"mx-2 wrapper-item text-center",attrs:{type:"number",min:"0",max:t.videoLength,step:"0.01"},domProps:{value:t.item.showTime},on:{input:function(e){e.target.composing||t.$set(t.item,"showTime",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("(s)")])]),t._v(" "),"slideVideo"!=t.parent?i("div",{staticClass:"align-items-center row-custom-show"},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("Lặp lại sau mỗi:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.item.repeatTime,expression:"item.repeatTime",modifiers:{number:!0}}],staticClass:"mx-2 wrapper-item text-center",attrs:{type:"number",min:"0",max:t.videoLength,step:"1"},domProps:{value:t.item.repeatTime},on:{input:function(e){e.target.composing||t.$set(t.item,"repeatTime",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("(s)")])]):t._e(),t._v(" "),"slideVideo"!=t.parent?i("div",{staticClass:"align-items-center row-custom-show"},[i("span",{staticStyle:{"font-size":"14px"}},[t._v("Số lần lặp lại:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.item.repeatCount,expression:"item.repeatCount",modifiers:{number:!0}}],staticClass:"mx-2 wrapper-item text-center",attrs:{type:"number",min:"0",max:t.videoLength,step:"1"},domProps:{value:t.item.repeatCount},on:{input:function(e){e.target.composing||t.$set(t.item,"repeatCount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("(s)")])]):t._e()]),t._v(" "),"slideVideo"!=t.parent?i("div",{staticClass:"align-items-center row-custom-show wrapper-show",staticStyle:{height:"35px"}},[i("label",{staticClass:"font-weight-bold reset fs-15",attrs:{for:"replace",id:"tooltip-replace"}},[t._v("Thay thế:")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-replace",triggers:"hover",variant:"info"}},[t._v("\n        Thay Item này khi tạo video Tin Tức\n      ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.isReplaceItem,expression:"item.isReplaceItem"}],staticClass:"mx-2 px-0",attrs:{type:"checkbox",id:"replace"},domProps:{checked:Array.isArray(t.item.isReplaceItem)?t._i(t.item.isReplaceItem,null)>-1:t.item.isReplaceItem},on:{change:[function(e){var i=t.item.isReplaceItem,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.item,"isReplaceItem",i.concat([null])):n>-1&&t.$set(t.item,"isReplaceItem",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.item,"isReplaceItem",s)},function(e){t.item.replaceName=null}]}}),t._v(" "),t.item.isReplaceItem?i("b-form-input",{key:t.keyUpdate,staticStyle:{flex:"1"},attrs:{state:null==t.item.replaceName?null:""!=t.item.replaceName&&""!=t.item.replaceName.trim(),placeholder:"Nhập tên thay thế"},model:{value:t.item.replaceName,callback:function(e){t.$set(t.item,"replaceName",e)},expression:"item.replaceName"}}):t._e()],1):t._e(),t._v(" "),"AddVideo"==t.parent?i("div",{staticClass:"align-items-center row-custom-show wrapper-show",staticStyle:{height:"35px"}},[i("label",{staticClass:"font-weight-bold reset fs-15",attrs:{for:"isRemoveColorBackground",id:"tooltip-isRemoveColorBackground"}},[t._v("Lọc bỏ màu nền:")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-isRemoveColorBackground",triggers:"hover",variant:"info"}},[t._v("\n        Lọc bỏ màu nền của video\n      ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.isRemoveColorBackground,expression:"item.isRemoveColorBackground"}],staticClass:"mx-2 px-0",attrs:{type:"checkbox",id:"isRemoveColorBackground"},domProps:{checked:Array.isArray(t.item.isRemoveColorBackground)?t._i(t.item.isRemoveColorBackground,null)>-1:t.item.isRemoveColorBackground},on:{change:function(e){var i=t.item.isRemoveColorBackground,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.item,"isRemoveColorBackground",i.concat([null])):n>-1&&t.$set(t.item,"isRemoveColorBackground",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.item,"isRemoveColorBackground",s)}}}),t._v(" "),t.item.isRemoveColorBackground?i("b-form-input",{key:t.keyUpdate,staticStyle:{flex:"1"},attrs:{state:null==t.item.colorBackgroundRemove?null:""!=t.item.colorBackgroundRemove&&""!=t.item.colorBackgroundRemove.trim(),placeholder:"VD: #04b700"},model:{value:t.item.colorBackgroundRemove,callback:function(e){t.$set(t.item,"colorBackgroundRemove",e)},expression:"item.colorBackgroundRemove"}}):t._e()],1):t._e()]):i("div",[t._m(0),t._v(" "),i("div",{staticClass:"align-items-center row-custom-show wrapper-show",staticStyle:{height:"35px"}},[i("label",{staticClass:"font-weight-bold reset fs-15",attrs:{for:"replace",id:"tooltip-replace"}},[t._v("Thay thế:")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-replace",triggers:"hover",variant:"info"}},[t._v("\n        Thay Item này khi tạo video Tin Tức\n      ")]),t._v(" "),i("input",{staticClass:"mx-2 px-0",attrs:{type:"checkbox",id:"replace"}})],1),t._v(" "),"AddVideo"==t.parent?i("div",{staticClass:"align-items-center row-custom-show wrapper-show",staticStyle:{height:"35px"}},[i("label",{staticClass:"font-weight-bold reset fs-15",attrs:{for:"isRemoveColorBackground",id:"tooltip-isRemoveColorBackground"}},[t._v("Loại bỏ nền xanh:")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-isRemoveColorBackground",triggers:"hover",variant:"info"}},[t._v("\n        Lọc bỏ màu nền của video\n      ")]),t._v(" "),i("input",{staticClass:"mx-2 px-0",attrs:{type:"checkbox",id:"isRemoveColorBackground"}})],1):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper-show"},[e("span",{staticClass:"font-weight-bold mr-2 fs-15"},[this._v("Hiển thị:")]),this._v(" "),e("input",{staticClass:"mx-2 px-0",attrs:{type:"checkbox",id:"fullVideo"}}),this._v(" "),e("label",{staticClass:"font-weight-bold mr-3 fs-15",attrs:{for:"fullVideo"}},[this._v("Full Video")])])}]};var Rt=i("VU/8")({name:"ItemProperties",data:function(){return{keyUpdate:0}},methods:{checkData:function(){return this.item&&this.item.isReplaceItem&&!this.item.replaceName?(this.$notify({type:"error",title:"Chưa Nhập Đủ Thông Tin"}),this.item.replaceName="",this.keyUpdate++,!1):!(this.item&&this.item.isRemoveColorBackground&&!this.item.colorBackgroundRemove&&(this.$notify({type:"error",title:"Chưa Nhập Đủ Thông Tin"}),this.item.colorBackgroundRemove="",this.keyUpdate++,1))}},props:["item","currentTimeVideo","videoLength","parent","enableIconShowListItem"]},Mt,!1,function(t){i("2nDv")},"data-v-2e1457da",null).exports,Nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"columns",staticStyle:{"overflow-y":"scroll","max-height":"500px",height:"500px",padding:"5px"}},t._l(t.selectedData,function(e,a){return i("li",{key:"selected1"+a,staticClass:"has-child finder_0_0 folder_0",attrs:{value:"D:/"}},[i("i",{class:e.isFolder?"fa fa-folder":t.listExtFileVideo.indexOf(e.label.split(".")[e.label.split(".").length-1])>-1?"fas fa-file-video":"fas fa-file",staticStyle:{"font-size":"25px","margin-top":"5px"},style:e.isFolder?"color: rgb(144, 228, 255);":""}),t._v(" "),i("span",[t._v(t._s(e.label))]),t._v(" "),e.isFolder?i("img",{attrs:{src:"/static/assets/icons/triangle-arrow.svg",alt:""}}):t._e()])}),0)])},staticRenderFns:[]};var zt=i("VU/8")({data:function(){return{}},props:["selectedData","listExtFileVideo"],mounted:function(){},methods:{}},Nt,!1,function(t){i("YbVR")},"data-v-50b0c537",null).exports,Bt=i("fZjL"),Ht=i.n(Bt),jt=i("o/zv"),Gt=i.n(jt),Yt={props:["item","isSelect","rowIndex","rowIndex","columnIndex"],computed:{getText:function(){var t=this.item.text;return t&&t.length>30&&(t=t.substring(0,15)+"..."+t.substring(t.length-15)),t},getIcon:function(){var t=Gt.a.extname(this.item.text).toLowerCase();return Z.EXT_VIDEO.includes(t)?"fa-file-video":Z.EXT_IMAGE.includes(t)?"fa-file-image":Z.EXT_AUDIO.includes(t)?"fa-file-audio":"fa-file"}},methods:{onChange:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.rowIndex,a=t.columnIndex,t.onChange,s=t.item,t.$emit("onChange",i,a,s);case 2:case"end":return e.stop()}},e,t)}))()},onDblClick:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.item.isFolder||t.$emit("onDblClick",t.item);case 1:case"end":return e.stop()}},e,t)}))()}}},Kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:{"has-child":t.item.isFolder,select:t.isSelect},on:{click:t.onChange,dblclick:t.onDblClick}},[t.item.isFolder?i("div",{staticStyle:{display:"flex",width:"100%"}},[i("i",{staticClass:"fa fa-folder",staticStyle:{"font-size":"25px","margin-top":"5px",color:"rgb(144, 228, 255)"}}),t._v(" "),i("span",{staticStyle:{width:"100%","text-align":"left","font-weight":"600","padding-left":"10px"}},[t._v(t._s(t.getText))]),t._v(" "),t._m(0)]):i("div",{staticClass:"text-left",staticStyle:{display:"flex"}},[i("i",{class:"fa "+t.getIcon,staticStyle:{"font-size":"22px","margin-top":"5px"}}),t._v(" "),i("span",{staticClass:"text-left",staticStyle:{width:"100%","text-align":"left","font-weight":"500","padding-left":"10px","font-size":"14px"}},[t._v(t._s(t.getText))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:"/static/assets/icons/triangle-arrow.svg",alt:""}})])}]};var Wt=i("VU/8")(Yt,Kt,!1,function(t){i("Y8gf")},"data-v-06eccb5b",null).exports,qt={data:function(){return{SERVER_FILE:"https://api.alidamedia.com/file/"}},computed:{typeMedia:function(){var t="";if(this.file){var e=Gt.a.extname(this.file.value).toLowerCase();t=Z.EXT_AUDIO.includes(e)?"audio":Z.EXT_VIDEO.includes(e)?"video":Z.EXT_IMAGE.includes(e)?"image":"file"}return t}},props:{file:Object},mounted:function(){}},Xt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-file"},["video"===t.typeMedia?i("video",{staticStyle:{width:"80%",height:"50%"},attrs:{src:t.SERVER_FILE+t.file.value,controls:""}}):"audio"===t.typeMedia?i("audio",{staticStyle:{width:"80%",height:"50%"},attrs:{src:t.SERVER_FILE+t.file.value,controls:""}}):"image"===t.typeMedia?i("img",{staticStyle:{width:"80%",height:"50%"},attrs:{src:t.SERVER_FILE+t.file.value}}):i("i",{staticClass:"fa fa-file",staticStyle:{"font-size":"100px","margin-top":"5px"}}),t._v(" "),i("p",[t._v(t._s(t.file.text))]),t._v(" "),i("p",[t._v(t._s(t.$moment(t.file.date).format("DD/MM/YYYY")))])])},staticRenderFns:[]};var Jt={data:function(){return{itemPreview:null,keyMediaItem:0}},components:{FinderItem:Wt,MediaFile:i("VU/8")(qt,Xt,!1,function(t){i("h3S/")},"data-v-42eaf3b1",null).exports},props:["item","isEnd","data","selectIndex","id"],methods:{onChange:function(t,e,i){this.$emit("onChange",t,e,i),this.keyMediaItem++},selectFile:function(){},onDblClick:function(t){this.$emit("onDblClick",t)}}},Qt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.data?i("ul",{staticClass:"columns"},[t.data&&!t.data.isPreview?i("div",t._l(t.data,function(e,a){return i("finder-item",{key:a,attrs:{isSelect:t.selectIndex==a,rowIndex:a,columnIndex:t.id,item:e},on:{onChange:t.onChange,onDblClick:t.onDblClick}})}),1):i("div",{staticClass:"container-preview-file"},[i("media-file",{key:t.keyMediaItem,attrs:{file:t.data}})],1)]):t._e()},staticRenderFns:[]};var Zt={data:function(){return{columns:[],selectIndexs:[],dataKeys:{text:"text",value:"value",disable:"disable",child:"child"}}},components:{FinderColumn:i("VU/8")(Jt,Qt,!1,function(t){i("s5Uo")},"data-v-af62ca7c",null).exports},props:["data","value"],methods:{getValueIndexs:function(t,e,i){var a=this.getTreePath(e,i),s=a.dataPathByValue;a.dataWithPathByValue;return s[t]?s[t].indexs:[]},getTreePath:function(t){var e={},i=function t(i,a,s){var n=[];for(var o in i){var r=i[o],l=JSON.parse(Dt()(s));l.push(o),r.indexs=l,r[a.child]&&Ht()(r[a.child]).length>0&&(r.child=t(r[a.child],a,l)),n.push(r),e[r[a.value]]=r}return n}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{child:"child",value:"value"},[]);return{dataPathByValue:e,dataWithPathByValue:i}},parseData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0,s=JSON.parse(Dt()(e)),n=[],o=[];do{n.push(s);var r=s[t[a]]?t[a]:-1;o.push(r),s=Array.isArray(s)&&s[r]&&s[r][i.child],a++}while(s);return{columns:n,newSelectIndexs:o}},onChange:function(t,e,i){this.data,this.dataKeys;var a=this.disabled,s=this.selectIndexs;a||(s[e]=t,s.length>e&&(s=s.slice(0,e+1)),this.selectIndexs=s,this.$emit("onChange",i,s))},onDblClick:function(t){this.$emit("onDblClick",t)}},created:function(){var t=this.data,e=this.dataKeys,i=(this.defaultSelectIndexs,this.selectIndexs,this.value);i&&this.getValueIndexs(i,t,e);this.columns=this.data}},te={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"finder"},t._l(t.columns,function(e,a){return i("finder-column",{key:a,attrs:{id:a,data:e,selectIndex:t.selectIndexs[a]},on:{onChange:t.onChange,onDblClick:t.onDblClick}})}),1)},staticRenderFns:[]};var ee=i("VU/8")(Zt,te,!1,function(t){i("++Sy")},"data-v-5c1b1aa1",null).exports,ie={getListOnFolder:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/get-list-on-folder",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},searchFile:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/search-file",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},getFileOfUser:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.get("api/v1/finder/get-file-user",{timeout:3e5});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,t)}))()},getFileOfAdmin:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.get("api/v1/finder/get-file-admin",{timeout:3e5});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,t)}))()},createFolder:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/create-folder",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},removeFile:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/remove-file",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},getFilesOfVideo:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/get-files-of-video",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},uploadFileToVideo:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/upload-file-to-video",t,{timeout:36e5,headers:{"Content-Type":"multipart/form-data"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},downloadImageToVideo:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/download-image-to-video",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},selectVideoBackgroundCa:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/select-video-background-ca",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()},downloadVideoFromLinkToVideo:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("api/v1/finder/download-video-from-link-to-video",t,{timeout:3e5});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i,e)}))()}},ae={data:function(){return{selectIndexs:[],value:null,isEnd:!0,data:[],textSearchFile:"",originalPath:"D:/",isPreview:!1}},props:{typeEdit:String,typeFile:String},methods:{onSearchFile:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.value?t.value:t.originalPath,t.value&&t.isEnd&&((i=i.replace("/"+Path.basename(i),""))||(i=t.originalPath)),e.next=4,ie.searchFile({dirPath:i,filter:t.textSearchFile,typeFile:""});case 4:a=e.sent,1===t.data.length?(t.data.push(a.data.listFileSearch),t.data.push({a:1}),t.data.pop()):t.data.length>1&&(t.data[t.data.length-1]=a.data.listFileSearch,t.data.push({a:1}),t.data.pop());case 6:case"end":return e.stop()}},e,t)}))()},onChange:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isFolder){a.next=7;break}return a.next=3,ie.getListOnFolder({path:t.value,typeFile:i.typeFile});case 3:(s=a.sent)&&200===s.status&&(i.data.length>e.length?(i.data[e.length]=[].concat(F()(s.data.result)),i.data.length=e.length+1,i.data.push({a:1}),i.data.pop()):i.data.push([].concat(F()(s.data.result)))),a.next=9;break;case 7:i.data.length>e.length&&(i.data.length=e.length),i.isPreview&&i.data.push(m()({},t,{isPreview:!0}));case 9:i.value=t.value,i.isEnd=!t.isFolder,i.selectIndexs=e;case 12:case"end":return a.stop()}},a,i)}))()},addFile:function(t){t.preventDefault()},childrenElement:function(t){return t.children},saveFunc:function(t){this.$emit("onFileSelected",t),this.$refs.myModal.hide()}},components:{SelectedFolder:zt,FinderIndex:ee},mounted:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()}},se={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{ref:"myModal",attrs:{size:"xl",id:"modal-select-file-on-server",title:"Select File On Server","ok-title":"Save","cancel-title":"Add File"},on:{ok:function(e){return t.saveFunc(e)},cancel:function(e){return t.addFile(e)}}},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.textSearchFile,expression:"textSearchFile"}],staticClass:"form-control",attrs:{type:"text",name:"",id:"",placeholder:"Search....."},domProps:{value:t.textSearchFile},on:{input:function(e){e.target.composing||(t.textSearchFile=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-2"},[i("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.onSearchFile}},[t._v("Search")])]),t._v(" "),i("div",{staticClass:"col-2 my-auto"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isPreview,expression:"isPreview"}],attrs:{type:"checkbox",name:"",id:"checkbox"},domProps:{checked:Array.isArray(t.isPreview)?t._i(t.isPreview,null)>-1:t.isPreview},on:{change:function(e){var i=t.isPreview,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&(t.isPreview=i.concat([null])):n>-1&&(t.isPreview=i.slice(0,n).concat(i.slice(n+1)))}else t.isPreview=s}}}),t._v(" "),i("label",{staticStyle:{margin:"0"},attrs:{for:"checkbox"}},[t._v("Preview File")])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 ml-3"},[i("div",{staticClass:"folder mt-2"},[i("div",{staticStyle:{display:"flex"}},["SIMPLE_EDIT"!=t.typeEdit?i("div",{staticClass:"container-file-selected"},[i("div",{staticClass:"container-title"},[i("span",[t._v("Selected File")])]),t._v(" "),i("div",[i("ul",{staticStyle:{"list-style-type":"none"}})])]):t._e(),t._v(" "),i("div",{staticClass:"container-fluid mx-1",staticStyle:{overflow:"auto"},attrs:{id:"container-finder"}},[i("div",{staticClass:"finder row"},[i("div",{staticClass:"container-finder"},[i("div",{staticClass:"finder-demo",staticStyle:{"max-height":"500px",height:"500px"}},[i("finder-index",{attrs:{value:t.value,data:t.data},on:{onChange:t.onChange,onDblClick:t.saveFunc}})],1)])])])])])])])])])],1)},staticRenderFns:[]};var ne=i("VU/8")(ae,se,!1,function(t){i("R5BT")},null,null).exports,oe={name:"modal-input-file",data:function(){return{totalVideo:0,isLoading:!1,isShowInput:!1,linkVideoType:"local",textInputLinkVideo:""}},components:{Loading:c.a,ModalSelectFileOnServer:ne},props:{totalVideoProps:{type:Number,default:0},typeInput:{type:String,default:"video"},typeEdit:{type:String},typeFile:{type:String}},mounted:function(){this.totalVideo=this.totalVideoProps},computed:{getAcceptType:function(){var t="";return this.typeInput.includes("video")&&(t+="video/mp4,"),this.typeInput.includes("image")&&(t+="image/png, image/jpeg,image/gif"),this.typeInput.includes("audio")&&(t+="audio/mp3,audio/wav"),t}},methods:{onFileSelected:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e.isLoading=!0,i.next=4,E.getInfoVideoOnServer({videoPath:t.value});case 4:a=i.sent,e.isLoading=!1,(s=a.data.infoVideo).duration=s.duration?parseFloat(s.duration.toFixed(2)):0,o={id:Et.a.generateKey(),name:t.text,date:t.date,typeFile:e.typeFile,url:t.value,urlOriginal:t.value,size:s.size?Et.a.bytesToSize(s.size):"",thumbnail:s.thumbnail,resolution:{width:s.width,height:s.height,display:s.width+"x"+s.height},duration:{value:s.duration,display:s.duration?Et.a.secondsToHms(s.duration):""},activeSplitTimeIndex:0,isLoading:!1,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:""},splitTime:0,listSplitTime:s.duration?[{index:0,startTime:0,endTime:s.duration}]:[],typeUrl:"server"},e.$emit("pushNewVideo",o),e.hideModal(),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),console.log(i.t0);case 16:case"end":return i.stop()}},i,e,[[0,13]])}))()},getIconLink:function(){switch(this.linkVideoType){case"youtube":return'<i class="fab fa-youtube"></i>';case"facebook":return'<i class="fab fa-facebook"></i>';case"google-driver":return'<img class="icon-google-driver" src="https://www.gstatic.com/images/branding/product/1x/drive_48dp.png" alt />'}return""},onSaveClick:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hideModal(),i=t.textInputLinkVideo,t.textInputLinkVideo="",""===i){e.next=39;break}return a={id:Et.a.generateKey(),name:"Loading...",date:"Loading...",size:"Loading...",typeFile:"Loading...",url:"",thumbnail:"https://getuikit.com/v2/docs/images/placeholder_600x400.svg",resolution:{width:0,height:0,display:"Loading..."},duration:{value:0,display:"Loading..."},activeSplitTimeIndex:0,isLoading:!0,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:"Loading..."}},t.$emit("pushNewVideo",a),t.totalVideo++,e.prev=7,e.next=10,E.getInfoVideoYoutubeDL({urlVideo:i});case 10:if(!(s=e.sent)||200!==s.status){e.next=30;break}if((o=s.data).duration=o.duration?parseFloat(o.duration.toFixed(2)):0,(a={urlOriginal:o.webpageUrl,id:a.id,name:o.title,date:"",size:o.size?Et.a.bytesToSize(o.size):"",typeFile:t.typeInput,url:o.url,thumbnail:o.thumbnail,resolution:{width:o.width,height:o.height,display:o.width+"x"+o.height},duration:{value:o.duration,display:o.duration?Et.a.secondsToHms(o.duration):""},activeSplitTimeIndex:0,isLoading:!1,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:""},splitTime:0,listSplitTime:o.duration?[{index:0,startTime:0,endTime:o.duration}]:[],typeUrl:t.linkVideoType}).duration.value&&a.resolution.width){e.next=26;break}return e.prev=16,e.next=19,Et.a.getInfoVideoByUrl(o.url);case 19:(r=e.sent)&&r.duration&&(l=parseFloat(r.duration.toFixed(2)),a=m()({},a,{duration:{value:l,display:Et.a.secondsToHms(l)},resolution:{width:r.width,height:r.height,display:r.width+"x"+r.height},listSplitTime:[{index:0,startTime:0,endTime:l}]})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),a.resolution={width:1280,height:720,display:"1280x720"};case 26:t.$emit("pushNewVideo",a),t.$swal.fire({type:"success",title:"Get Video Success",showConfirmButton:!1,timer:800}),e.next=32;break;case 30:t.$emit("pushNewVideo",a,"error"),t.$swal.fire({type:"error",title:"Server is Overload",showConfirmButton:!1});case 32:e.next=39;break;case 34:e.prev=34,e.t1=e.catch(7),console.log(" #### ",e.t1),t.$swal.fire({type:"error",title:"Error "+e.t1,showConfirmButton:!0}),t.$emit("pushNewVideo",a,"error");case 39:case"end":return e.stop()}},e,t,[[7,34],[16,23]])}))()},onAddLinkVideoClick:function(t){this.isShowInput=!0,this.linkVideoType=t},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},toggleModal:function(){this.$refs["my-modal"].toggle("#toggle-btn")},addVideoLocalClick:function(){this.linkVideoType="local",this.isShowInput=!1,this.textInputLinkVideo="",this.$refs.inputVideoFile.click()},onSelectFile:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hideModal(),t.$refs.inputVideoFile&&t.$refs.inputVideoFile.files){e.next=3;break}return e.abrupt("return");case 3:for(i=t.$refs.inputVideoFile.files,a=[],s=0;s<i.length;s++)o=i[s],r={id:Et.a.generateKey(),name:o.name,date:t.$moment(o.lastModifiedDate).format("DD/MM/YYYY"),size:Et.a.bytesToSize(o.size),typeFile:t.typeInput,url:URL.createObjectURL(o),thumbnail:"https://getuikit.com/v2/docs/images/placeholder_600x400.svg",resolution:{width:0,height:0,display:"0x0"},duration:{value:0,display:""},activeSplitTimeIndex:0,isLoading:!0,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:""}},a.push(r),t.$emit("pushNewVideo",r),t.totalVideo++;l=0;case 7:if(!(l<i.length)){e.next=19;break}return e.prev=8,c=i[l],e.next=12,t.loadInfoFileAsync(c,t,a[l].id);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:l++,e.next=7;break;case 19:case"end":return e.stop()}},e,t,[[8,14]])}))()},loadInfoFileAsync:function(t,e,i){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new st.a(function(s,o){try{var l={id:i,file:t,name:t.name,date:a.$moment(t.lastModifiedDate).format("DD/MM/YYYY"),size:Et.a.bytesToSize(t.size),typeFile:a.typeInput,url:URL.createObjectURL(t),thumbnail:"",resolution:{width:0,height:0,display:"0x0"},duration:{value:0,display:""},activeSplitTimeIndex:0,isLoading:!1,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:""},splitTime:0,listSplitTime:[],typeUrl:"local"},c=a,d=URL.createObjectURL(t);if(t&&t.type.includes("image")){var u=new Image;u.addEventListener("load",function(){l=m()({},l,{typeFile:"image",resolution:{width:u.naturalWidth,height:u.naturalHeight,display:u.naturalWidth+"x"+u.naturalHeight}}),e.$emit("pushNewVideo",l),s(!0)}),u.src=d}else{var v=document.createElement("video"),h=(p=r()(n.a.mark(function t(){var i,a,r,u,h;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,document.createElement("canvas");case 3:return(i=t.sent).width=v.videoWidth,i.height=v.videoHeight,t.next=8,i.getContext("2d").drawImage(v,0,0,i.width,i.height);case 8:return t.next=10,i.toDataURL();case 10:return a=t.sent,t.next=13,Et.a.canvasToUrl(i);case 13:return r=t.sent,(u=a.length>1e3)&&(URL.revokeObjectURL(d),h=parseFloat(v.duration.toFixed(2)),l=m()({},l,{typeFile:"video",thumbnail:r,duration:{value:h,display:Et.a.secondsToHms(h)},resolution:{width:v.videoWidth,height:v.videoHeight,display:v.videoWidth+"x"+v.videoHeight},listSplitTime:[{index:0,startTime:0,endTime:h}],splitTime:0}),e.$emit("pushNewVideo",l),s(!0)),t.abrupt("return",u);case 19:t.prev=19,t.t0=t.catch(0),console.log(" ########### 11 Can't load file",t.t0),c.$emit("pushNewVideo",l,"error"),c.$swal.fire({type:"error",title:"Can't load file",showConfirmButton:!0}),o(t.t0);case 25:case"end":return t.stop()}},t,this,[[0,19]])})),function(){return p.apply(this,arguments)});v.addEventListener("error",function(t){console.log(" ########### 222 Can't load file",t),c.$emit("pushNewVideo",l,"error"),c.$swal.fire({type:"error",title:"Can't load file",showConfirmButton:!0}),o(t)}),v.addEventListener("timeupdate",function t(){h()&&(v.removeEventListener("timeupdate",t),v.pause())}),v.preload="metadata",v.src=d,v.muted=!0,v.playsInline=!0,v.play()}}catch(t){$this.$swal.fire({type:"error",title:"Can't load file",showConfirmButton:!0}),o(t)}var p}));case 1:case"end":return s.stop()}},s,a)}))()}}},re={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Chọn File"}},[i("div",{staticClass:"d-flex align-items-center mb-3"},[i("div",{staticClass:"model-title mr-5"},[i("i",{staticClass:"fal fa-chevron-double-right color-pink"}),t._v(" Lấy file từ:\n      ")]),t._v(" "),i("div",{staticClass:"d-flex"},[i("span",{staticClass:"mr-4 btn-select-link",on:{click:function(e){return t.onAddLinkVideoClick("youtube")}}},[i("i",{staticClass:"fab fa-youtube"})]),t._v(" "),i("span",{staticClass:"mr-4 btn-select-link",on:{click:function(e){return t.onAddLinkVideoClick("facebook")}}},[i("i",{staticClass:"fab fa-facebook"})]),t._v(" "),i("span",{staticClass:"mr-4 btn-select-link",on:{click:function(e){return t.onAddLinkVideoClick("google-driver")}}},[i("img",{staticClass:"icon-google-driver",attrs:{src:"https://www.gstatic.com/images/branding/product/1x/drive_48dp.png",alt:""}})])])]),t._v(" "),t.isShowInput?i("b-container",{staticClass:"container-content row reset d-flex justify-content-between position-relative"},[i("b-form-input",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}],staticClass:"col-12",attrs:{id:"inputLink",name:"inputLink",placeholder:"Enter your link..."},model:{value:t.textInputLinkVideo,callback:function(e){t.textInputLinkVideo=e},expression:"textInputLinkVideo"}}),t._v(" "),i("span",{staticClass:"icon-link position-absolute",domProps:{innerHTML:t._s(t.getIconLink())}})],1):t._e(),t._v(" "),i("div",{staticClass:"from-computer",on:{click:t.addVideoLocalClick}},[i("div",{staticClass:"text-center fs-50 icon-upload"},[i("i",{staticClass:"fad fa-folder-upload"})]),t._v(" "),i("h5",{staticClass:"text-center"},[t._v("\n        Tải file lên từ máy\n      ")]),t._v(" "),i("input",{ref:"inputVideoFile",attrs:{type:"file",hidden:"",name:"inputVideoFile",id:"inputVideoFile",accept:t.getAcceptType,multiple:""},on:{change:t.onSelectFile}})]),t._v(" "),i("div",{staticClass:"from-server mt-3"},[t._v("\n      Hoặc lấy file từ\n      "),i("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-select-file-on-server",modifiers:{"modal-select-file-on-server":!0}}],staticClass:"color-pink font-weight-bold",attrs:{href:"#"}},[t._v("\n        SERVER\n      ")]),t._v(" "),i("modal-select-file-on-server",{attrs:{typeFile:t.typeFile,typeEdit:t.typeEdit},on:{onFileSelected:t.onFileSelected}})],1),t._v(" "),i("b-row",{staticClass:"mt-3"},[i("b-col",{attrs:{cols:"6"}}),t._v(" "),i("b-col",{attrs:{cols:"6",rows:""}},[i("b-row",{staticClass:"float-right"},[i("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:t.hideModal}},[t._v("Đóng")]),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:"local"!=t.linkVideoType,expression:"linkVideoType != 'local'"}],staticClass:"mr-2",attrs:{variant:"success"},on:{click:t.onSaveClick}},[t._v("Đồng ý")])],1)],1)],1)],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:40,width:40},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var le=i("VU/8")(oe,re,!1,function(t){i("kUq+")},null,null).exports,ce=i("u4Bf"),de=i.n(ce),ue={data:function(){return{typeInput:"image",indexSlideAddFile:null,keyInput:0}},props:["listSlideVideo","videoLength","currentTimeVideo"],components:{ItemProperties:Rt,ModalInputFile:le,draggable:de.a},methods:{addNewSlideVideo:function(){var t,e=(t={id:Et.a.generateKey(),listItem:[],isFullVideo:!0,showTime:30,startTime:0},Ot()(t,"id",Et.a.generateKey()),Ot()(t,"x",0),Ot()(t,"y",0),Ot()(t,"width",.4),Ot()(t,"height",.4),Ot()(t,"isShow",!0),Ot()(t,"isShowListItem",!1),Ot()(t,"isSave",!1),Ot()(t,"name","Slide Video "+(this.listSlideVideo.length+1)),t);this.listSlideVideo.push(e),this.$store.dispatch("pushTempArray",{id:e.id,value:e.name,type:Z.ITEM_ADD_TO_VIDEO_TYPE.SLIDE_VIDEO})},pushNewVideo:function(t,e){if("error"!==e&&!t.isLoading){t.resolution&&(t.resolution.width,t.resolution.height);var i=m()({},t,{volume:1,showTime:"video"===t.typeFile?t.duration.value:10});this.listSlideVideo[this.indexSlideAddFile].isShowListItem=!0,this.listSlideVideo[this.indexSlideAddFile].listItem.push(i)}},deleteItem:function(t,e){this.listSlideVideo[t].listItem=this.listSlideVideo[t].listItem.filter(function(t,i){return i!=e})},deleteSlideVideo:function(t,e){this.listSlideVideo.splice(t,1),this.$store.dispatch("deleteItemTempArray",{id:e})}},created:function(){}},ve={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-side",staticStyle:{height:"100%"}},[i("div",{staticStyle:{overflow:"auto","max-height":"calc(100% - 60px)"}},t._l(t.listSlideVideo,function(e,a){return i("div",{key:a,staticClass:"slide-video-item",staticStyle:{position:"relative"}},[i("i",{staticClass:"fad fa-times icon-close-slidebar",on:{click:function(i){return t.deleteSlideVideo(a,e.id)}}}),t._v(" "),i("div",{staticClass:"mb-2"},[i("div",{staticClass:"font-weight-bold"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isSave,expression:"slideVideo.isSave"}],staticClass:"mx-1 px-0",attrs:{type:"checkbox",id:"save-with-layout-"+a},domProps:{checked:Array.isArray(e.isSave)?t._i(e.isSave,null)>-1:e.isSave},on:{change:function(i){var a=e.isSave,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(e,"isSave",a.concat([null])):o>-1&&t.$set(e,"isSave",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"isSave",n)}}}),t._v(" "),i("label",{staticClass:"font-weight-bold mr-3 fs-15",attrs:{for:"save-with-layout-"+a}},[t._v("Lưu các item cùng layout")])]),t._v(" "),i("div",{staticClass:"row col-12 align-items-center my-2"},[i("span",{staticClass:"label fs-xl mr-2"},[t._v("Tên: ")]),t._v(" "),i("b-form-input",{staticClass:"input-style",staticStyle:{height:"35px",flex:"1"},attrs:{size:"sm",placeholder:"Nhập tên slide video"},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"slideVideo.name"}})],1),t._v(" "),i("ItemProperties",{ref:"ItemProperties",refInFor:!0,attrs:{item:e,currentTimeVideo:t.currentTimeVideo,videoLength:t.videoLength,parent:"slideVideo",enableIconShowListItem:!0}})],1),t._v(" "),e.isShowListItem?i("draggable",{on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:e.listItem,callback:function(i){t.$set(e,"listItem",i)},expression:"slideVideo.listItem"}},t._l(e.listItem,function(e,s){return i("div",{key:s,staticClass:"contain-image-default",class:{"contain-image":e.isActive}},[i("div",{staticClass:"wrapper-header"},[i("div",{staticClass:"circle-number"},[t._v(t._s(s+1))]),t._v(" "),i("div",{staticClass:"image-name"},[t._v("\n              "+t._s(e.name)+"\n              "),"video"===e.typeFile?i("div",[t._v("\n                "+t._s(e.duration.display)+"\n              ")]):t._e()]),t._v(" "),i("i",{staticClass:"fad fa-trash",on:{click:function(e){return t.deleteItem(a,s)}}})]),t._v(" "),i("div",[i("div",{staticClass:"text-left mt-3"},[i("span",{staticClass:"label"},[t._v("Thời gian hiển thị:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.showTime,expression:"item.showTime",modifiers:{number:!0}}],staticClass:"mx-2 item-input px-1",attrs:{type:"number",min:"0",max:t.videoLength,step:"1"},domProps:{value:e.showTime},on:{input:function(i){i.target.composing||t.$set(e,"showTime",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("(s)")])])])])}),0):t._e(),t._v(" "),i("a",{staticClass:"color-pink btn-add-video-img",on:{click:function(e){t.typeInput="video,image",t.indexSlideAddFile=a,t.$refs.modalInputFile.showModal()}}},[i("i",{staticClass:"fal fa-plus-circle"}),t._v(" Chọn Ảnh/Video\n      ")])],1)}),0),t._v(" "),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-upload-slide",on:{click:t.addNewSlideVideo}},[i("span",{staticStyle:{"font-size":"16px"}},[t._v("Thêm Slide")])])]),t._v(" "),i("ModalInputFile",{ref:"modalInputFile",attrs:{typeInput:t.typeInput},on:{pushNewVideo:t.pushNewVideo}}),t._v(" "),i("input",{ref:"inputImage",attrs:{type:"file",name:"inputImage",id:"inputImage",hidden:""}})],1)},staticRenderFns:[]};var he=i("VU/8")(ue,ve,!1,function(t){i("NlcO")},"data-v-0f78b1fb",null).exports,pe={data:function(){return{keyUp:0,statuss:this.status}},components:{},props:["project"],computed:{getBackgroundColor:function(){return this.project&&this.project.background&&this.project.background.rgb?"rgba("+this.project.background.rgb.r+","+this.project.background.rgb.g+","+this.project.background.rgb.b+","+this.project.background.opacity/100+")":"black"}},methods:{onClickRepeatVideo:function(){this.project.repeatVideo?this.project.changeSpeed=!1:this.project.changeSpeed=!0},onClickChangeSpeedVideo:function(){this.project.changeSpeed?this.project.repeatVideo=!1:this.project.repeatVideo=!0},showColorPicker:function(t){this.$refs.colorPickerCustom.show(t)},hideColorPicker:function(){this.$refs.colorPickerCustom.hide()},onReplaceVideo:function(){this.$emit("onReplaceVideo")}},directives:{ClickOutside:z.a}},me={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper-project pt-3"},[i("div",{staticClass:"wrap-row mt-0"},[i("label",{staticStyle:{cursor:"pointer"},attrs:{for:"isSaveVideoBackground"}},[t._v("Lưu video cùng layout:\n    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.project.isSaveVideoBackground,expression:"project.isSaveVideoBackground"}],staticClass:"mx-3",attrs:{type:"checkbox",id:"isSaveVideoBackground"},domProps:{checked:Array.isArray(t.project.isSaveVideoBackground)?t._i(t.project.isSaveVideoBackground,null)>-1:t.project.isSaveVideoBackground},on:{change:function(e){var i=t.project.isSaveVideoBackground,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.project,"isSaveVideoBackground",i.concat([null])):n>-1&&t.$set(t.project,"isSaveVideoBackground",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.project,"isSaveVideoBackground",s)}}})]),t._v(" "),i("div",{staticClass:"wrap-row"},[i("label",[t._v("Đổi video khác: ")]),t._v(" "),i("button",{staticClass:"btn-ratio",on:{click:t.onReplaceVideo}},[t._v("\n      Tải lên\n    ")])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker,expression:"hideColorPicker"}],staticClass:"wrap-row"},[i("span",[t._v("Màu nền:")]),t._v(" "),i("div",{staticClass:"background-color-preview",style:"background-color: "+t.getBackgroundColor,on:{click:function(e){return t.showColorPicker(t.project.background)}}})]),t._v(" "),i("div",{staticClass:"wrap-row"},[i("span",{staticClass:"mr-2"},[t._v("Âm lượng: ")]),t._v(" "),i("vue-slider",{staticStyle:{width:"230px","margin-right":"5px"},attrs:{min:0,max:100,tooltip:"none",dotSize:"16"},model:{value:t.project.volume,callback:function(e){t.$set(t.project,"volume",e)},expression:"project.volume"}}),t._v(" "),i("div",{staticStyle:{flex:"1",display:"inline-block"}},[i("span",{staticClass:"font-weight-bold mx-2"},[t._v(t._s(t.project.volume))])])],1),t._v(" "),i("div",{staticClass:"wrap-row"},[i("span",{staticClass:"mr-2",staticStyle:{width:"51px"}},[t._v("Tốc độ: ")]),t._v(" "),i("vue-slider",{staticStyle:{width:"250px","margin-right":"5px"},attrs:{min:50,max:150,tooltip:"none",dotSize:"16"},model:{value:t.project.speed,callback:function(e){t.$set(t.project,"speed",e)},expression:"project.speed"}}),t._v(" "),i("div",{staticStyle:{flex:"1",display:"inline-block"}},[i("span",{staticClass:"font-weight-bold mx-2"},[t._v(t._s(t.project.speed))])])],1),t._v(" "),i("div",{staticClass:"wrap-row"},[i("span",[t._v("Tỉ lệ khung hình:")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":"default"===t.project.ratio},on:{click:function(e){t.project.ratio="default"}}},[t._v("\n      Mặc định\n    ")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":1===t.project.ratio},on:{click:function(e){t.project.ratio=1}}},[t._v("\n      1:1\n    ")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":t.project.ratio===16/9},on:{click:function(e){t.project.ratio=16/9}}},[t._v("\n      16:9\n    ")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":.8===t.project.ratio},on:{click:function(e){t.project.ratio=.8}}},[t._v("\n      4:5\n    ")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":t.project.ratio===9/16},on:{click:function(e){t.project.ratio=9/16}}},[t._v("\n      9:16\n    ")])]),t._v(" "),i("div",{staticClass:"wrap-row"},[i("label",{staticStyle:{cursor:"pointer"},attrs:{for:"keepRatio"}},[t._v("Giữ tỉ lệ video: ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.project.keepRatio,expression:"project.keepRatio"}],staticClass:"mx-3",attrs:{type:"checkbox",id:"keepRatio"},domProps:{checked:Array.isArray(t.project.keepRatio)?t._i(t.project.keepRatio,null)>-1:t.project.keepRatio},on:{change:function(e){var i=t.project.keepRatio,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.project,"keepRatio",i.concat([null])):n>-1&&t.$set(t.project,"keepRatio",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.project,"keepRatio",s)}}})]),t._v(" "),i("div",{staticClass:"wrap-row"},[i("span",[t._v("Độ phân giải video: ")]),t._v(" "),i("span",[t._v(t._s(t.project.resolution?t.project.resolution.display:""))])]),t._v(" "),i("div",{staticClass:"wrap-row"},[i("span",[t._v("Lật Video: ")]),t._v(" "),i("div",[i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":t.project.flip.horizontal},on:{click:function(e){t.project.flip.horizontal=!t.project.flip.horizontal}}},[t._v("\n        Lật dọc\n      ")]),t._v(" "),i("button",{staticClass:"btn-ratio",class:{"btn-ratio-active":t.project.flip.vertical},on:{click:function(e){t.project.flip.vertical=!t.project.flip.vertical}}},[t._v("\n        Lật ngang\n      ")])])]),t._v(" "),i("div",{staticClass:"wrap-row",staticStyle:{"align-items":"end !important"}},[i("label",{staticStyle:{cursor:"pointer"},attrs:{for:"repeatVideo"}},[t._v("Video sẽ lặp lại cho = giọng đọc:\n    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.project.repeatVideo,expression:"project.repeatVideo"}],staticClass:"mx-3",attrs:{type:"checkbox",id:"repeatVideo"},domProps:{checked:Array.isArray(t.project.repeatVideo)?t._i(t.project.repeatVideo,null)>-1:t.project.repeatVideo},on:{change:[function(e){var i=t.project.repeatVideo,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.project,"repeatVideo",i.concat([null])):n>-1&&t.$set(t.project,"repeatVideo",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.project,"repeatVideo",s)},t.onClickRepeatVideo]}})]),t._v(" "),i("div",{staticClass:"wrap-row",staticStyle:{"align-items":"end !important"}},[i("label",{staticStyle:{cursor:"pointer"},attrs:{for:"changeSpeed"}},[t._v("Video tự thay đổi speed = giọng đọc:\n    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.project.changeSpeed,expression:"project.changeSpeed"}],staticClass:"mx-3",attrs:{type:"checkbox",id:"changeSpeed"},domProps:{checked:Array.isArray(t.project.changeSpeed)?t._i(t.project.changeSpeed,null)>-1:t.project.changeSpeed},on:{change:[function(e){var i=t.project.changeSpeed,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.project,"changeSpeed",i.concat([null])):n>-1&&t.$set(t.project,"changeSpeed",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.project,"changeSpeed",s)},t.onClickChangeSpeedVideo]}})]),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom",attrs:{stylePosition:"top: 0px; left: 530px"},on:{onChangeColor:function(e){t.project.background=e}}})],1)},staticRenderFns:[]};var fe=i("VU/8")(pe,me,!1,function(t){i("glUj")},"data-v-389842ad",null).exports,ge=(i("zF5W"),{props:["dataItem","layoutMain"],data:function(){return{listFont:this.$store.state.data.listFont,isShowAdvance:!1}},computed:{getColorShadow:function(){return this.dataItem&&this.dataItem.shadow&&this.dataItem.shadow.color&&this.dataItem.shadow.color.rgb?"rgba("+this.dataItem.shadow.color.rgb.r+","+this.dataItem.shadow.color.rgb.g+","+this.dataItem.shadow.color.rgb.b+","+this.dataItem.shadow.color.opacity/100+")":"black"},getColorText:function(){return this.dataItem&&this.dataItem.color&&this.dataItem.color.rgb?"rgba("+this.dataItem.color.rgb.r+","+this.dataItem.color.rgb.g+","+this.dataItem.color.rgb.b+","+this.dataItem.color.opacity/100+")":"black"},getColorBorder:function(){return this.dataItem&&this.dataItem.stroke&&this.dataItem.stroke.color&&this.dataItem.stroke.color.rgb?"rgba("+this.dataItem.stroke.color.rgb.r+","+this.dataItem.stroke.color.rgb.g+","+this.dataItem.stroke.color.rgb.b+","+this.dataItem.stroke.color.opacity/100+")":"black"},getColorBackground:function(){return this.dataItem&&this.dataItem.background&&this.dataItem.background.color&&this.dataItem.background.color.rgb?"rgba("+this.dataItem.background.color.rgb.r+","+this.dataItem.background.color.rgb.g+","+this.dataItem.background.color.rgb.b+","+this.dataItem.background.color.opacity/100+")":"black"}},methods:{onChangeSpacingSize:function(){this.dataItem.spacing.size=this.dataItem.spacing.sizeDisplay/this.layoutMain.width},onChangeShadowSize:function(){this.dataItem.shadow.size=this.dataItem.shadow.sizeDisplay/this.layoutMain.width},onChangeStrokeSize:function(){this.dataItem.stroke.size=this.dataItem.stroke.sizeDisplay/this.layoutMain.width},onChangeFontSize:function(){this.dataItem.fontsize=this.dataItem.fontsizeDisplay/this.layoutMain.width},hide:function(){this.hideColorPicker(),this.hideColorPicker1()},showColorPicker:function(){this.$refs.colorPickerCustom.show(this.dataItem.color)},hideColorPicker:function(){this.$refs.colorPickerCustom.hide()},showColorPicker1:function(){this.$refs.colorPickerCustom1.show(this.dataItem.stroke.color)},hideColorPicker1:function(){this.$refs.colorPickerCustom1.hide()},showColorPicker2:function(){this.$refs.colorPickerCustom2.show(this.dataItem.background.color)},hideColorPicker2:function(){this.$refs.colorPickerCustom2.hide()}},directives:{ClickOutside:z.a}}),_e={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"wrapper-property"},[t._m(0),t._v(" "),t.dataItem?t._e():i("div",{staticClass:"disable-content"}),t._v(" "),t.dataItem?i("div",{},[i("div",{staticClass:"property-default"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.dataItem.fontfamily,expression:"dataItem.fontfamily"}],staticClass:"input-style wrapper-item p-1",staticStyle:{width:"120px"},style:"font-size: 18px; font-family: "+t.dataItem.fontfamily,attrs:{id:"tooltip-font"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.dataItem,"fontfamily",e.target.multiple?i:i[0])}}},t._l(t.listFont,function(e,a){return i("option",{key:a,style:"font-size: 18px; font-family: "+e.name,domProps:{value:e.name}},[t._v(t._s(e.nameDisplay))])}),0),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.dataItem.fontsizeDisplay,expression:"dataItem.fontsizeDisplay"}],staticClass:"input-style wrapper-item",staticStyle:{width:"60px"},attrs:{id:"tooltip-font-size",type:"number",min:"1",step:"1"},domProps:{value:t.dataItem.fontsizeDisplay},on:{change:t.onChangeFontSize,input:function(e){e.target.composing||t.$set(t.dataItem,"fontsizeDisplay",e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker,expression:"hideColorPicker"}]},[i("div",{staticClass:"text-color-preview",style:"background-color: "+t.getColorText,attrs:{id:"tooltip-font-color"},on:{click:function(e){return t.showColorPicker()}}})]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.dataItem.stroke.sizeDisplay,expression:"dataItem.stroke.sizeDisplay"}],staticClass:"input-style wrapper-item",staticStyle:{width:"60px"},attrs:{id:"tooltip-border-size",type:"number",min:0,step:.1},domProps:{value:t.dataItem.stroke.sizeDisplay},on:{change:t.onChangeStrokeSize,input:function(e){e.target.composing||t.$set(t.dataItem.stroke,"sizeDisplay",e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker1,expression:"hideColorPicker1"}]},[i("div",{staticClass:"text-color-preview",style:"background-color: "+t.getColorBorder,attrs:{id:"tooltip-border-color"},on:{click:function(e){return t.showColorPicker1()}}})]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker2,expression:"hideColorPicker2"}]},[i("div",{staticClass:"text-color-preview",style:"background-color: "+t.getColorBackground,attrs:{id:"tooltip-background-color"},on:{click:function(e){return t.showColorPicker2()}}})]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-font",triggers:"hover",variant:"info"}},[t._v("Font chữ")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-font-size",triggers:"hover",variant:"info"}},[t._v("Font size")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-font-color",triggers:"hover",variant:"info"}},[t._v("Màu chữ")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-border-size",triggers:"hover",variant:"info"}},[t._v("Size viền chữ")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-border-color",triggers:"hover",variant:"info"}},[t._v("Màu viền chữ")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-background-color",triggers:"hover",variant:"info"}},[t._v("Màu nền")])],1)]):i("div",{staticClass:"property-default"},[i("select",{staticClass:"form-control wrapper-item",staticStyle:{width:"120px"}},t._l(t.listFont,function(e,a){return i("option",{key:a,domProps:{value:e.name}},[t._v(t._s(e.nameDisplay))])}),0),t._v(" "),i("input",{staticClass:"form-control wrapper-item",staticStyle:{width:"70px"},attrs:{type:"number",min:"1",step:"1"},domProps:{value:50}}),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker,expression:"hideColorPicker"}]},[i("div",{staticClass:"text-color-preview",style:"background-color: "+t.getColorText,on:{click:function(e){return t.showColorPicker()}}})]),t._v(" "),i("input",{staticClass:"form-control wrapper-item",staticStyle:{width:"70px"},attrs:{type:"number",min:1,step:.1},domProps:{value:50}}),t._v(" "),i("div",[i("div",{staticClass:"text-color-preview",style:"background-color: "+t.getColorBorder,on:{click:function(e){return t.showColorPicker1()}}})]),t._v(" "),i("div",[i("div",{staticClass:"text-background-preview",style:"background-color: "+t.getColorBorder,on:{click:function(e){return t.showColorPicker2()}}})])]),t._v(" "),t.isShowAdvance?i("div",{staticClass:"property-advance"}):t._e()]),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom",attrs:{stylePosition:"top: 85px;left: 280px;"},on:{onChangeColor:function(e){t.dataItem.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom1",attrs:{stylePosition:"top: 100px;left: 340px;"},on:{onChangeColor:function(e){t.dataItem.stroke.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom2",attrs:{stylePosition:"top: 100px;left: 350px;"},on:{onChangeColor:function(e){t.dataItem.background.color=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 font-weight-bold"},[e("i",{staticClass:"fad fa-calendar-check color-pink"}),this._v(" Chọn thuộc tính\n    ")])}]};var be={components:{TextProperties:i("VU/8")(ge,_e,!1,function(t){i("F84U")},"data-v-82a64622",null).exports,ItemProperties:Rt},data:function(){return{textSelected:null,TEXT_ANIMATION:Z.TEXT_ANIMATION,isShowAdvance:!1}},props:["addText","videoLength","listText","currentTimeVideo","layoutMain"],methods:{addNewText:function(){this.isShowAdvance=!1;var t=this.$store.state.data.listFont,e={id:Et.a.generateKey(),content:null,color:{rgb:{r:0,g:0,b:0},opacity:100,hex:"#000000"},fontsizeDisplay:30,fontsize:30/this.layoutMain.width,fontfamily:t&&t.length>0&&t[0].name,textalign:1,texttransform:"normal",stroke:{sizeDisplay:1,size:1/this.layoutMain.width,color:{rgb:{r:255,g:255,b:255},opacity:100,hex:"#FFFFFF"}},background:{color:{rgb:{r:255,g:255,b:255},opacity:0,hex:"#FFFFFF"}},startTime:0,showTime:this.videoLength,repeatTime:0,repeatCount:0,x:0,y:0,width:.1,height:.2,isReplaceItem:!1,isFullVideo:!0,isShow:!0,animation:this.TEXT_ANIMATION.NONE,shadow:{sizeDisplay:0,size:0,color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100}},spacing:{sizeDisplay:0,size:0},position:2,style:{bold:0,italic:0,underline:0,strikeout:0}};this.listText.push(e),this.textSelected=e,this.$store.dispatch("pushTempArray",{id:e.id,value:e.content,type:Z.ITEM_ADD_TO_VIDEO_TYPE.TEXT})},onSelectText:function(t){this.textSelected=this.listText[t],this.isShowAdvance=!1},onChangeText:function(t){var e=this.listText[t];this.$store.dispatch("updateItemTempArray",{id:e.id,value:event.target.value,type:"text"})},onDeleteItemText:function(t){var e=this.listText[t];this.textSelected&&this.textSelected.id===e.id&&(this.textSelected=null,this.isShowAdvance=!1),this.$store.dispatch("deleteItemTempArray",{id:e.id}),this.listText.splice(t,1),event.stopPropagation()}}},ye={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-add-text"},[i("TextProperties",{attrs:{dataItem:t.textSelected,layoutMain:t.layoutMain}}),t._v(" "),t.textSelected?i("div",{staticClass:"text-right mt-1"},[t.isShowAdvance?i("span",{staticClass:"text-advance",on:{click:function(e){t.isShowAdvance=!1}}},[i("i",{staticClass:"fad fa-minus"}),t._v(" Thu gọn\n    ")]):i("span",{staticClass:"text-advance",on:{click:function(e){t.isShowAdvance=!0}}},[i("i",{staticClass:"fad fa-plus"}),t._v(" Nâng cao\n    ")])]):t._e(),t._v(" "),t.isShowAdvance&&t.textSelected?i("div",{staticClass:"wrapper-addvance"},[i("ItemProperties",{ref:"ItemProperties",staticClass:"mb-3",attrs:{item:t.textSelected,currentTimeVideo:t.currentTimeVideo,videoLength:t.videoLength}}),t._v(" "),i("div",{staticClass:"col-12 text-left reset"},[i("div",[i("span",{staticClass:"font-weight-bold fs-15"},[t._v("Hiệu ứng:")]),t._v(" "),i("b-form-radio-group",{staticClass:"reset",staticStyle:{display:"inline"},model:{value:t.textSelected.animation,callback:function(e){t.$set(t.textSelected,"animation",e)},expression:"textSelected.animation"}},[i("b-form-radio",{staticClass:"mx-2 p-0",staticStyle:{display:"inline"},attrs:{value:t.TEXT_ANIMATION.NONE}},[t._v("None")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",staticStyle:{display:"inline"},attrs:{value:t.TEXT_ANIMATION.RUN_RIGHT_TO_LEFT}},[t._v("Chạy từ phải sang trái")])],1)],1)])],1):t._e(),t._v(" "),i("div",{staticClass:"wrapper-list-text mt-2",style:"max-height: "+(t.isShowAdvance&&t.textSelected?t.textSelected.isFullVideo?"calc(100% - 260px)":"calc(100% - 440px)":"calc(100% - 143px)")+";"},t._l(t.listText,function(e,a){return i("div",{key:a,staticClass:"mt-2 mb-2 item-text"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],key:a,staticClass:"form-control textarea",class:{"item-text-active":t.textSelected&&e.id===t.textSelected.id},staticStyle:{flex:"1"},attrs:{rows:"2",placeholder:"New text..."},domProps:{value:e.content},on:{click:function(e){return t.onSelectText(a)},change:function(e){return t.onChangeText(a)},input:function(i){i.target.composing||t.$set(e,"content",i.target.value)}}}),t._v(" "),i("div",{staticClass:"wrapper-trash mx-3"},[i("i",{staticClass:"fad fa-trash",on:{click:function(e){return t.onDeleteItemText(a)}}})])])}),0),t._v(" "),i("div",{staticClass:"wrapper-add-text"},[i("div",{staticClass:"content-add-text",on:{click:t.addNewText}},[t._m(0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fal fa-plus-circle"}),this._v(" Thêm text")])}]};var Ce=i("VU/8")(be,ye,!1,function(t){i("WeCB")},"data-v-3f72665a",null).exports,xe={data:function(){return{itemSelected:null}},props:["listVideo","videoLength","currentTimeVideo","layoutMain"],components:{ItemProperties:Rt,ModalInputFile:le},methods:{onClickItem:function(t){this.listVideo.length>0&&this.$refs.ItemProperties&&!this.$refs.ItemProperties.checkData()||this.listVideo&&(this.itemSelected=this.listVideo[t])},onAddItem:function(){this.listVideo.length>0&&this.$refs.ItemProperties&&!this.$refs.ItemProperties.checkData()||this.$refs.modalInputFile.showModal()},addNewItem:function(t,e){if(!t.isLoading&&"error"!=e){var i=t.resolution?t.resolution.width/t.resolution.height:1,a=.3*this.layoutMain.width/i/this.layoutMain.height;t=m()({},t,{width:.3,height:a,volume:1,x:0,y:0,startTime:0,showTime:this.videoLength?this.videoLength:0,repeatTime:0,repeatCount:0,isReplaceItem:!1,isActive:!0,isDeleted:!1,playTime:0,isFullVideo:!0,isRemoveColorBackground:!1,colorBackgroundRemove:"#04b700",isShow:!0}),this.itemSelected=t,this.listVideo.push(t),this.$store.dispatch("pushTempArray",{id:t.id,value:t.name,type:Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO})}},deleteItem:function(t){var e=this.listVideo[t];this.itemSelected&&e.id===this.itemSelected.id&&(this.itemSelected=null),this.$store.dispatch("deleteItemTempArray",{id:e.id}),this.listVideo.splice(t,1),event.stopPropagation()}}},we={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"text-left",staticStyle:{height:"100%"}},[t.itemSelected?i("div",{staticClass:"container-header"},[i("ItemProperties",{ref:"ItemProperties",attrs:{item:t.itemSelected,currentTimeVideo:t.currentTimeVideo,videoLength:t.videoLength,parent:"AddVideo"}}),t._v(" "),t.itemSelected?t._e():i("div",{staticClass:"disable-header"})],1):t._e(),t._v(" "),i("div",{staticClass:"conteiner-video-item",style:"max-height: "+(!t.itemSelected||t.itemSelected.isFullVideo?"calc(100% - 200px)":"calc(100% - 380px)")+";"},t._l(t.listVideo,function(e,a){return i("div",{key:a,staticClass:"video-item",class:{"video-item-active":t.itemSelected&&e.id===t.itemSelected.id},on:{click:function(e){return t.onClickItem(a)}}},[i("div",{staticClass:"circle-number"},[t._v(t._s(a+1))]),t._v(" "),i("div",{staticClass:"item-name mx-1"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"ml-1",staticStyle:{"font-size":"20px",color:"#696969"},on:{click:function(e){return t.deleteItem(a)}}},[i("i",{staticClass:"fad fa-trash",staticStyle:{"font-size":"16px"}})])])}),0),t._v(" "),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-upload-video",on:{click:t.onAddItem}},[i("span",{staticStyle:{"font-size":"16px"}},[t._v("Thêm Video")])])])]),t._v(" "),i("ModalInputFile",{ref:"modalInputFile",attrs:{typeInput:"video/*"},on:{pushNewVideo:t.addNewItem}})],1)},staticRenderFns:[]};var ke=i("VU/8")(xe,we,!1,function(t){i("UN7U")},"data-v-688eb750",null).exports,Se={data:function(){return{imageSelected:null}},props:["listImage","videoLength","currentTimeVideo","layoutMain"],components:{ItemProperties:Rt,ModalInputFile:le},methods:{onClickItem:function(t){this.listImage.length>0&&this.$refs.ItemProperties&&!this.$refs.ItemProperties.checkData()||this.listImage&&(this.imageSelected=this.listImage[t])},onAddImage:function(){this.listImage.length>0&&this.$refs.ItemProperties&&!this.$refs.ItemProperties.checkData()||this.$refs.modalInputFile.showModal()},addNewImage:function(t,e){if(!t.isLoading&&"error"!=e){var i=t.resolution.width/t.resolution.height,a=.3*this.layoutMain.width/i/this.layoutMain.height;t=m()({},t,{startTime:0,showTime:this.videoLength?this.videoLength:0,repeatTime:0,repeatCount:0,isReplaceItem:!1,isActive:!0,isFullVideo:!0,isShow:!0,x:0,y:0,width:.3,height:a}),this.imageSelected=t,this.listImage.push(t),this.$store.dispatch("pushTempArray",{id:t.id,value:t.name,type:Z.ITEM_ADD_TO_VIDEO_TYPE.IMAGE})}},deleteItem:function(t){var e=this.listImage[t];this.imageSelected&&e.id===this.imageSelected.id&&(this.imageSelected=null),this.$store.dispatch("deleteItemTempArray",{id:e.id}),this.listImage.splice(t,1),event.stopPropagation()}}},Te={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"text-left",staticStyle:{height:"100%"}},[t.imageSelected?i("div",{staticClass:"container-header"},[i("ItemProperties",{ref:"ItemProperties",attrs:{item:t.imageSelected,currentTimeVideo:t.currentTimeVideo,videoLength:t.videoLength}}),t._v(" "),t.imageSelected?t._e():i("div",{staticClass:"disable-header"})],1):t._e(),t._v(" "),i("div",{staticClass:"conteiner-image-item",style:"max-height: "+(!t.imageSelected||t.imageSelected.isFullVideo?"calc(100% - 170px)":"calc(100% - 350px)")+";"},t._l(t.listImage,function(e,a){return i("div",{key:a,staticClass:"image-item",class:{"image-item-active":t.imageSelected&&e.id===t.imageSelected.id},on:{click:function(e){return t.onClickItem(a)}}},[i("div",{staticClass:"circle-number"},[t._v(t._s(a+1))]),t._v(" "),i("img",{staticClass:"wrapper-image mx-1",attrs:{src:e.url}}),t._v(" "),i("div",{staticClass:"image-name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"ml-1",staticStyle:{"font-size":"20px",color:"#696969"},on:{click:function(e){return t.deleteItem(a)}}},[i("i",{staticClass:"fad fa-trash",staticStyle:{"font-size":"16px"}})])])}),0),t._v(" "),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn px-5 btn-upload",on:{click:t.onAddImage}},[i("span",{staticStyle:{"font-size":"16px"}},[t._v("Thêm hình ảnh")])])])]),t._v(" "),i("ModalInputFile",{ref:"modalInputFile",attrs:{typeInput:"image/*"},on:{pushNewVideo:t.addNewImage}})],1)},staticRenderFns:[]};var Ve=i("VU/8")(Se,Te,!1,function(t){i("j2f+")},"data-v-8344d14e",null).exports,Ie=function(){function t(){u()(this,t)}return h()(t,null,[{key:"getConfig",value:function(t){return I.get("/api/v1/voice/get-config",t)}},{key:"updateConfig",value:function(t){return I.post("/api/v1/voice/update-config",t)}},{key:"addConfig",value:function(t){return I.post("/api/v1/voice/add-config",t)}},{key:"deleteConfig",value:function(t){return I.post("/api/v1/voice/delete-config",t)}}]),t}(),De={name:"modal-video",data:function(){return{textPreview:null,stateTextPreview:null,urlVoicePreview:null,isLoading:!1,voiceSelect:null,voiceType:Z.VOICE,nameNewConfig:"",isShowInputAddNewConfig:!1,listVoiceConfig:this.$store.state.data.listVoiceConfig||[],listVoice:this.$store.state.data.listVoice,voice:{voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null}},idVoiceConfigSelected:null,indexItem:null,languageSelected:null,listLanguageVoice:this.$store.state.data.listLanguageVoice}},components:{Loading:c.a},methods:{onChangeLanguage:function(){this.voiceSelect=null,this.voice={voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null}}},onSaveData:function(){var t=null;t=null==this.indexItem?this.voice:{voice:this.voice,indexItem:this.indexItem},this.$emit("returnData",t),this.hide()},onChangeSelectVoiceConfig:function(t){var e=t.target.value;if(e){var i=this.listVoiceConfig.find(function(t){return t._id==e});if(this.voice={voice:i.data.voice,voiceData:m()({},i.data.voiceData)},i){var a=this.listVoice.find(function(t){return t._id==i.voiceId});a&&(this.languageSelected=a.language)}this.nameNewConfig=i.name,this.isShowInputAddNewConfig=!0}else this.isShowInputAddNewConfig=!1},onClickCreateConfig:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isShowInputAddNewConfig){e.next=16;break}return t.isLoading=!0,e.prev=2,i={name:t.nameNewConfig,voiceId:t.voice.voice,data:Dt()(t.voice)},e.next=6,Ie.addConfig(i);case 6:200===(a=e.sent).status&&a.data.newConfig&&(s=m()({},a.data.newConfig,{data:JSON.parse(a.data.newConfig.data)}),t.listVoiceConfig.push(s),t.$store.dispatch("updateListConfigVoice",t.listVoiceConfig),t.$notify({type:"success",text:"Tạo Thành Công"}),t.idVoiceConfigSelected=s._id,t.isShowInputAddNewConfig=!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$notify({type:"error",text:e.t0});case 13:t.isLoading=!1,e.next=17;break;case 16:t.isShowInputAddNewConfig=!0;case 17:case"end":return e.stop()}},e,t,[[2,10]])}))()},onClickSaveConfig:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.idVoiceConfigSelected){e.next=3;break}return t.$notify({type:"error",text:"Chưa chọn config"}),e.abrupt("return");case 3:return t.isLoading=!0,e.prev=4,i={_id:t.idVoiceConfigSelected,name:t.nameNewConfig,voiceId:t.voice.voice,data:Dt()(t.voice)},e.next=8,Ie.updateConfig(i);case 8:200===e.sent.status&&(t.listVoiceConfig=t.listVoiceConfig.map(function(e){return e._id==t.idVoiceConfigSelected?m()({},e,i,{data:JSON.parse(i.data)}):e}),t.$store.dispatch("updateListConfigVoice",t.listVoiceConfig)),t.$notify({type:"success",text:"Lưu Thành Công"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t.$notify({type:"error",text:e.t0});case 16:t.isLoading=!1;case 17:case"end":return e.stop()}},e,t,[[4,13]])}))()},onClickDeleteConfig:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.idVoiceConfigSelected){e.next=3;break}return t.$notify({type:"error",text:"Chưa chọn config"}),e.abrupt("return");case 3:return t.isLoading=!0,e.prev=4,i={id:t.idVoiceConfigSelected},e.next=8,Ie.deleteConfig(i);case 8:200===e.sent.status&&(t.listVoiceConfig=t.listVoiceConfig.filter(function(e){return e._id!=t.idVoiceConfigSelected}),t.idVoiceConfigSelected=null,t.$store.dispatch("updateListConfigVoice",t.listVoiceConfig)),t.$notify({type:"success",text:"Xóa Thành Công"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t.$notify({type:"error",text:e.t0});case 16:t.isLoading=!1;case 17:case"end":return e.stop()}},e,t,[[4,13]])}))()},onSetOldConfig:function(){},onChangeVoice:function(t){this.checkDataVoice()},checkDataVoice:function(){var t=this,e=this.listVoice.find(function(e){return e._id===t.voice.voice});this.voiceSelect=e,e&&e.type===Z.VOICE.GOOGLE?(this.voice.voiceData.speed=1,this.voice.voiceData.pitch=0):e&&e.type===Z.VOICE.WINDOWS?this.voice.voiceData.speed=1:!e||e.type!==Z.VOICE.AI_JP&&e.type!==Z.VOICE.AI_JP_DEMO?!e||e.type!==Z.VOICE.FPT_AI&&e.type!==Z.VOICE.VIETTEL_AI?e&&e.type===Z.VOICE.VINA?this.voice.voiceData.speed=1:(this.voice.voiceData.speed=100,this.voice.voiceData.pitch=100,this.voice.voiceData.volume=100,this.voice.voiceData.feeling=2):this.voice.voiceData.speed=0:(this.voice.voiceData.volume=2,this.voice.voiceData.speed=1,this.voice.voiceData.pitch=1,this.voice.voiceData.range=1,this.voice.voiceData.anger=0,this.voice.voiceData.sadness=0,this.voice.voiceData.joy=0)},onChangeSelectVoice:function(t){this.checkDataVoice()},show:function(t,e){var i=this;this.voice={voice:t.voice,voiceData:m()({},t.voiceData)};var a=this.listVoice.find(function(t){return t._id===i.voice.voice});a&&(this.languageSelected=a.language),this.voiceSelect=a,this.indexItem=e,this.$refs.myModal.show()},hide:function(){this.$refs.myModal.hide()},onPreviewClick:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.textPreview&&t.textPreview.trim()){e.next=4;break}return t.$notify({type:"error",title:"Điền Text Nghe Thử"}),t.stateTextPreview=!1,e.abrupt("return");case 4:if(t.voice.voice){e.next=7;break}return t.$notify({type:"error",title:"Chọn Voice"}),e.abrupt("return");case 7:return t.urlVoicePreview="",t.isLoading=!0,i={voice:t.voice.voice,voiceData:t.voice.voiceData,textPreview:t.textPreview},e.next=12,E.previewVoice(i);case 12:(a=e.sent)&&200===a.status&&(t.urlVoicePreview=a.data.url+"?"+Date.now()),t.isLoading=!1;case 15:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.listLanguageVoice=this.$store.state.data.listLanguageVoice}},Ee={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"myModal",attrs:{size:"lg",id:"myModal","hide-footer":"",title:"Tùy chỉnh Voice","no-close-on-backdrop":""}},[i("div",{staticClass:"col-12 pl-2"},[i("span",{staticClass:"fs-14 font-weight-bold"},[t._v("Config")]),t._v(" "),i("div",{staticClass:"row col-12 align-items-center reset"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.idVoiceConfigSelected,expression:"idVoiceConfigSelected"}],staticClass:"form-control form-control-sm fs-14",staticStyle:{flex:"1"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.idVoiceConfigSelected=e.target.multiple?i:i[0]},t.onChangeSelectVoiceConfig]}},[i("option",{domProps:{value:null}},[t._v("---- Chọn Config ----")]),t._v(" "),t._l(t.listVoiceConfig,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n          "+t._s(e.name)+"\n        ")])})],2),t._v(" "),t.isShowInputAddNewConfig?i("b-form-input",{staticClass:"form-control form-control-sm col-3 ml-3",attrs:{type:"text",placeholder:"Nhập tên config mới"},model:{value:t.nameNewConfig,callback:function(e){t.nameNewConfig=e},expression:"nameNewConfig"}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-sm ml-3 btn-primary",on:{click:t.onClickCreateConfig}},[i("i",{staticClass:"fas fa-plus"})]),t._v(" "),i("button",{staticClass:"btn btn-sm mx-2 btn-info",on:{click:t.onClickSaveConfig}},[i("i",{staticClass:"far fa-save"})]),t._v(" "),i("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.onClickDeleteConfig}},[i("i",{staticClass:"fas fa-times"})])],1)]),t._v(" "),i("div",{staticClass:" col-12 pl-2",staticStyle:{"flex-direction":"row",display:"flex"}},[i("div",{staticClass:"col-4 reset"},[i("span",{staticClass:"fs-14 font-weight-bold"},[t._v("Ngôn ngữ")]),t._v(" "),i("div",{staticClass:"row col-12 align-items-center reset"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.languageSelected,expression:"languageSelected"}],staticClass:"form-control form-control-sm fs-14",staticStyle:{flex:"1"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.languageSelected=e.target.multiple?i:i[0]},t.onChangeLanguage]}},[i("option",{domProps:{value:null}},[t._v("---- Chọn Ngôn Ngữ ----")]),t._v(" "),t._l(t.listLanguageVoice,function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v("\n            "+t._s(e)+"\n          ")])})],2)])]),t._v(" "),i("div",{staticClass:"col-8 "},[i("span",{staticClass:"fs-14 font-weight-bold"},[t._v("Giọng đọc")]),t._v(" "),i("div",{staticClass:"row col-12 align-items-center reset"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.voice.voice,expression:"voice.voice"}],staticClass:"form-control form-control-sm fs-14",staticStyle:{flex:"1"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.voice,"voice",e.target.multiple?i:i[0])},t.onChangeSelectVoice]}},[i("option",{domProps:{value:null}},[t._v("---- Chọn Giọng Đọc ----")]),t._v(" "),t._l(t.listVoice.filter(function(e){return e.language===t.languageSelected}),function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2)])])]),t._v(" "),t.voiceSelect&&t.voiceSelect.type===t.voiceType.VOICE_TEXT_JP?i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:50,max:200,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Volume")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:0,max:200,tooltip:"always"},model:{value:t.voice.voiceData.volume,callback:function(e){t.$set(t.voice.voiceData,"volume",e)},expression:"voice.voiceData.volume"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Pitch")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:50,max:200,tooltip:"always"},model:{value:t.voice.voiceData.pitch,callback:function(e){t.$set(t.voice.voiceData,"pitch",e)},expression:"voice.voiceData.pitch"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Feeling")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:1,max:4,tooltip:"always"},model:{value:t.voice.voiceData.feeling,callback:function(e){t.$set(t.voice.voiceData,"feeling",e)},expression:"voice.voiceData.feeling"}})],1)])]):t._e(),t._v(" "),t.voiceSelect&&t.voiceSelect.type===t.voiceType.NOTE_VIBES?i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 col-lg-3"},[t._v("Pauses (Tạm dừng):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:null},{text:"0.5s",value:"0.5"},{text:"1s",value:"1"},{text:"2s",value:"2"},{text:"3s",value:"3"},{text:"4s",value:"4"},{text:"5s",value:"5"},{text:"6s",value:"6"}]},model:{value:t.voice.voiceData.noteVibes_pauses,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_pauses",e)},expression:"voice.voiceData.noteVibes_pauses"}})],1),t._v(" "),i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 reset col-lg-3"},[t._v("Emphasis (Nhấn mạnh):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:null},{text:"Strong - Nhấn mạnh",value:"strong"},{text:"Moderate - Vừa phải",value:"moderate"},{text:"Reduced - Giảm",value:"reduced"}]},model:{value:t.voice.voiceData.noteVibes_emphasis,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_emphasis",e)},expression:"voice.voiceData.noteVibes_emphasis"}})],1),t._v(" "),i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 col-lg-3"},[t._v("Volume (Âm lượng):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:null},{text:"x-soft - Rất nhỏ",value:"x-soft"},{text:"Soft - Nhỏ",value:"soft"},{text:"Medium - Vừa phải",value:"medium"},{text:"Loud - To",value:"loud"},{text:"x-loud - Rất to",value:"x-loud"}]},model:{value:t.voice.voiceData.noteVibes_volume,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_volume",e)},expression:"voice.voiceData.noteVibes_volume"}})],1),t._v(" "),i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 col-lg-3"},[t._v("Say as (Kiểu phát âm):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:null},{text:"Spell-out",value:"spell-out"},{text:"Cardinal",value:"cardinal"},{text:"Ordinal",value:"ordinal"}]},model:{value:t.voice.voiceData.noteVibes_sayAs,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_sayAs",e)},expression:"voice.voiceData.noteVibes_sayAs"}})],1),t._v(" "),i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 col-lg-3"},[t._v("Speed (Tốc độ):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:1},{text:"Faster",value:1.3},{text:"x-faster",value:1.6},{text:"2xFaster",value:2},{text:"Slow",value:.8},{text:"x-slow",value:.6},{text:"2xSlow",value:.3}]},model:{value:t.voice.voiceData.noteVibes_speed,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_speed",e)},expression:"voice.voiceData.noteVibes_speed"}})],1),t._v(" "),i("div",{staticClass:"row col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2 col-3 col-md-5 col-lg-3"},[t._v("Pitch (Tốc độ):\n      ")]),t._v(" "),i("b-form-select",{staticClass:"col-5",attrs:{size:"sm",options:[{text:"------- Mặc định -------",value:0},{text:"-3",value:-3},{text:"-5",value:-5},{text:"-10",value:-10},{text:"-15",value:-15},{text:"+3",value:3},{text:"+5",value:5},{text:"+10",value:10},{text:"+15",value:15},{text:"+20",value:20}]},model:{value:t.voice.voiceData.noteVibes_pitch,callback:function(e){t.$set(t.voice.voiceData,"noteVibes_pitch",e)},expression:"voice.voiceData.noteVibes_pitch"}})],1)]):t._e(),t._v(" "),t.voiceSelect&&t.voiceSelect.type===t.voiceType.GOOGLE?i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:.25,max:4,interval:.05,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Pitch")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:-20,max:20,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.pitch,callback:function(e){t.$set(t.voice.voiceData,"pitch",e)},expression:"voice.voiceData.pitch"}})],1)])]):t._e(),t._v(" "),t.voiceSelect&&t.voiceSelect.type===t.voiceType.WINDOWS?i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:.1,max:2,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)])]):t._e(),t._v(" "),!t.voiceSelect||t.voiceSelect.type!==t.voiceType.FPT_AI&&t.voiceSelect.type!==t.voiceType.VIETTEL_AI?t._e():i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:-3,max:3,interval:1,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)])]),t._v(" "),t.voiceSelect&&t.voiceSelect.type===t.voiceType.VINA?i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:.8,max:1.2,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)])]):t._e(),t._v(" "),!t.voiceSelect||t.voiceSelect.type!==t.voiceType.AI_JP&&t.voiceSelect.type!==t.voiceType.AI_JP_DEMO?t._e():i("div",{staticClass:"setting-voice-jp"},[i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Speed")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:.5,max:1.4,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.speed,callback:function(e){t.$set(t.voice.voiceData,"speed",e)},expression:"voice.voiceData.speed"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Pitch")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:.5,max:2,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.pitch,callback:function(e){t.$set(t.voice.voiceData,"pitch",e)},expression:"voice.voiceData.pitch"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Range")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:0,max:2,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.range,callback:function(e){t.$set(t.voice.voiceData,"range",e)},expression:"voice.voiceData.range"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Anger")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:0,max:1,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.anger,callback:function(e){t.$set(t.voice.voiceData,"anger",e)},expression:"voice.voiceData.anger"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Sadness")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:0,max:1,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.sadness,callback:function(e){t.$set(t.voice.voiceData,"sadness",e)},expression:"voice.voiceData.sadness"}})],1)]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Joy")]),t._v(" "),i("div",{},[i("vue-slider",{attrs:{min:0,max:1,interval:.1,tooltip:"always"},model:{value:t.voice.voiceData.joy,callback:function(e){t.$set(t.voice.voiceData,"joy",e)},expression:"voice.voiceData.joy"}})],1)])]),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3"},[i("span",{staticClass:"fs-14 font-weight-bold mb-2"},[t._v("Text Nghe Thử")]),t._v(" "),i("div",{},[i("b-form-textarea",{attrs:{rows:3,"max-rows":5,state:t.stateTextPreview},on:{input:function(e){t.stateTextPreview=null}},model:{value:t.textPreview,callback:function(e){t.textPreview=e},expression:"textPreview"}})],1)]),t._v(" "),t.urlVoicePreview?i("div",{staticClass:"col-12 mt-3"},[i("audio",{staticStyle:{width:"100%"},attrs:{src:t.urlVoicePreview,controls:""}})]):t._e(),t._v(" "),i("div",{staticClass:"col-12 pl-2 mt-3 text-center"},[i("button",{staticClass:"btn btn-primary px-4",on:{click:t.onPreviewClick}},[t._v("\n      Nghe Thử\n    ")]),t._v(" "),i("button",{staticClass:"btn btn-success px-5 mx-3",on:{click:t.onSaveData}},[t._v("Lưu")]),t._v(" "),i("button",{staticClass:"btn btn-danger px-3",on:{click:function(e){return t.hide()}}},[t._v("Đóng")])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Le=i("VU/8")(De,Ee,!1,function(t){i("ytUP")},"data-v-14fe4b64",null).exports,Ae={data:function(){return{textContent:""}},methods:{onChangeSelectFileText:function(t,e){try{var i=new FileReader,a=this;i.onload=function(){var t=i.result,e=[];if(t&&t.includes("Script generated by Aegisub"))e=(e=(e=t.split("\n")).filter(function(t){return t.startsWith("Dialogue")})).map(function(t){var e=t.split(",");return e[e.length-1]});else{var s=[],n=[];e=(e=t.split("\n")).map(function(t){""!==t.trim()?s.push(t):(n.push(s),s=[])}),e=n.map(function(t){return t.shift(),t.shift(),t.join("\n")})}a.textContent=e.join("\n\n")},i.readAsText(t.target.files[0])}catch(t){}},onSave:function(){this.$emit("returnData",this.textContent),this.hide()},show:function(t){this.textContent=t,this.$refs.modalEditRawText.show()},hide:function(){this.$refs.modalEditRawText.hide()},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)},onChangeCharacterDelete:function(t){this.$store.dispatch("setUserData_Text",{type:"characterDelete",value:t})},onChangeSubRegex:function(t){this.$store.dispatch("setUserData_Text",{type:"subRegex",value:t})},onChangeCharacterDivide:function(t){this.$store.dispatch("setUserData_Text",{type:"countCharacterDivide",value:t})},onDivideSubtitleByCharacter:function(){for(var t=[],e="",i=0,a=this.textContent;a.includes("\n");)a=a.replace("\n"," ");for(var s=0;s<a.length;s++){e+=a[s],++i!==this.$store.state.userData.text.countCharacterDivide&&s!==a.length-1||(t.push(e),i=0,e="")}this.textContent=t.join("\n\n")},onSubRegex:function(){this.textContent=Et.a.subRegex(this.textContent,this.$store.state.userData.text.subRegex)},onRemoveCharacter:function(){this.textContent=Et.a.removeCharacter(this.textContent,this.$store.state.userData.text.characterDelete)}}},$e={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalEditRawText",attrs:{id:"modalEditRawText",title:"Chỉnh sửa Subtitle",size:"xl","auto-focus-button":"ok","cancel-title-html":"s","hide-footer":""}},[i("div",{staticClass:"col-12 row mb-3 align-items-center"},[i("span",{staticClass:"col-5 col-lg-3 col-xl-2 font-weight-bold fs-md"},[t._v("Regex chia sub:")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-2",attrs:{size:"sm",value:t.$store.state.userData.text.subRegex},on:{change:t.onChangeSubRegex}}),t._v(" "),i("button",{staticClass:"btn btn-primary px-4 btn-sm",on:{click:t.onSubRegex}},[t._v("\n      Chia\n    ")])],1),t._v(" "),i("div",{staticClass:"col-12 row mb-3 align-items-center"},[i("span",{staticClass:"col-5 col-lg-3 col-xl-2 font-weight-bold fs-md"},[t._v("Chia theo kí tự:")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-2",attrs:{size:"sm",type:"number",value:t.$store.state.userData.text.countCharacterDivide},on:{change:t.onChangeCharacterDivide}}),t._v(" "),i("button",{staticClass:"btn btn-primary px-4 btn-sm",on:{click:t.onDivideSubtitleByCharacter}},[t._v("\n      Chia\n    ")])],1),t._v(" "),i("div",{staticClass:"col-12 row mb-3 align-items-center"},[i("span",{staticClass:"col-5 col-lg-3 col-xl-2 font-weight-bold fs-md"},[t._v("Xóa ký tự đặc biệt:")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-2",attrs:{size:"sm",value:t.$store.state.userData.text.characterDelete},on:{change:t.onChangeCharacterDelete}}),t._v(" "),i("button",{staticClass:"btn btn-danger px-4 btn-sm",on:{click:t.onRemoveCharacter}},[t._v("\n      Xóa\n    ")])],1),t._v(" "),i("div",{staticClass:"col-12 row mb-3 align-items-center"},[i("button",{staticClass:"btn btn-primary px-4",on:{click:function(e){return t.$refs.inputfileSubtitle.click()}}},[t._v("\n      Import từ file subtitle (.srt, .ass)\n    ")]),t._v(" "),i("input",{ref:"inputfileSubtitle",attrs:{type:"file",accept:".srt, .ass",id:"inputfileSubtitle",hidden:""},on:{change:t.onChangeSelectFileText}})]),t._v(" "),i("b-form-textarea",{attrs:{placeholder:"Nhập Text Subtitle",rows:"15","max-rows":"20"},model:{value:t.textContent,callback:function(e){t.textContent=e},expression:"textContent"}}),t._v(" "),i("div",{staticClass:"mt-2"},[i("span",[t._v("\n      Số kí tự:\n      "),i("b",[t._v("\n        "+t._s(t.formatNumber(t.textContent?t.textContent.length:0))+"\n      ")])])]),t._v(" "),i("div",{staticClass:"mt-2"},[i("span",[t._v("\n      Số dòng:\n      "),i("b",[t._v("\n        "+t._s(t.textContent?t.textContent.split("\n\n").length:0)+"\n      ")])])]),t._v(" "),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-primary px-5 mr-3",on:{click:t.onSave}},[t._v("Lưu")]),t._v(" "),i("button",{staticClass:"btn btn-danger px-5",on:{click:t.hide}},[t._v("Hủy")])])],1)},staticRenderFns:[]};var Pe=i("VU/8")(Ae,$e,!1,function(t){i("doAF")},null,null).exports,Ue={props:["subtitle","layoutMain"],components:{ModalSettingVoice:Le,ModalEditText:Pe},data:function(){return{listFont:this.$store.state.data.listFont,listVoice:this.$store.state.data.listVoice,CONSTANT_SUB_TYPE:{NONE:Z.SUBTITLE_TYPE.NONE,DEFAULT:Z.SUBTITLE_TYPE.DEFAULT,BOTTOM_TO_TOP:Z.SUBTITLE_TYPE.BOTTOM_TO_TOP}}},methods:{onChangeOpaqueBox:function(){this.subtitle.data.opaqueBoxType||(this.subtitle.data.opaqueBoxType="FIXED")},onSaveContentText:function(t){this.subtitle.data.content=t,this.onChangeTextOrPosition()},reciveVoiceData:function(t){this.subtitle.data.voice=t.voice,this.subtitle.data.voiceData=t.voiceData},onChangeVoice:function(t){var e=this.listVoice.find(function(e){return e._id===t.target.value});e&&e.type===Z.VOICE.GOOGLE?(this.subtitle.data.voiceData.speed=1,this.subtitle.data.voiceData.pitch=0):e&&e.type===Z.VOICE.WINDOWS?this.subtitle.data.voiceData.speed=1:!e||e.type!==Z.VOICE.AI_JP&&e.type!==Z.VOICE.AI_JP_DEMO?!e||e.type!==Z.VOICE.FPT_AI&&e.type!==Z.VOICE.VIETTEL_AI?e&&e.type===Z.VOICE.VINA?this.subtitle.data.voiceData.speed=1:(this.subtitle.data.voiceData.speed=100,this.subtitle.data.voiceData.pitch=100,this.subtitle.data.voiceData.volume=100,this.subtitle.data.voiceData.feeling=2):this.subtitle.data.voiceData.speed=0:(this.subtitle.data.voiceData.volume=2,this.subtitle.data.voiceData.speed=1,this.subtitle.data.voiceData.pitch=1,this.subtitle.data.voiceData.range=1,this.subtitle.data.voiceData.anger=0,this.subtitle.data.voiceData.sadness=0,this.subtitle.data.voiceData.joy=0)},onChangeFontSize:function(){this.subtitle.data.fontsize=this.subtitle.data.fontsizeDisplay/this.layoutMain.width},onChangeStrokeSize:function(){this.subtitle.data.stroke.size=this.subtitle.data.stroke.sizeDisplay/this.layoutMain.width},onChangeShadowSize:function(){this.subtitle.data.shadow.size=this.subtitle.data.shadow.sizeDisplay/this.layoutMain.width},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)},hideColorPicker1:function(){this.$refs.colorPickerCustom1&&this.$refs.colorPickerCustom1.hide()},hideColorPicker2:function(){this.$refs.colorPickerCustom2&&this.$refs.colorPickerCustom2.hide()},hideColorPicker3:function(){this.$refs.colorPickerCustom3&&this.$refs.colorPickerCustom3.hide()},onChangePosition:function(t){this.onChangeTextOrPosition()},onChangeText:function(t){this.onChangeTextOrPosition()},onChangeTextOrPosition:function(){var t="";"AUTO"===this.subtitle.data.opaqueBoxType&&(t='style="background-color: rgba('+this.subtitle.data.shadow.color.rgb.r+","+this.subtitle.data.shadow.color.rgb.g+","+this.subtitle.data.shadow.color.rgb.b+","+this.subtitle.data.shadow.color.opacity/100+')"');var e="<span "+t+">";this.subtitle.data.content.split("\n\n").map(function(t,i){e+='<span class="reset" >'+t.replace("\n","</br>")+"</span>\n\n"}),e+="</span>",this.subtitle.data.contentHtml=e.trim(),this.subtitle.data=m()({},this.subtitle.data)}},mounted:function(){this.onChangePosition(this.subtitle.data.position)},directives:{ClickOutside:z.a},created:function(){}},Fe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left",staticStyle:{"margin-right":"10px"}},[i("div",{staticClass:"sub-box"},[i("span",{staticClass:"font-weight-bold box-label"},[t._v("Kiểu Subtitle")]),t._v(" "),i("div",{staticClass:"mt-2 container-box justify-content-center"},[i("b-form-radio-group",{staticClass:"wrapper-type-subtitle text-gray px-0",attrs:{size:"sm"},model:{value:t.subtitle.data.type,callback:function(e){t.$set(t.subtitle.data,"type",e)},expression:"subtitle.data.type"}},[i("b-form-radio",{staticClass:"p-0 m-0",attrs:{value:t.CONSTANT_SUB_TYPE.NONE}},[t._v("Ẩn")]),t._v(" "),i("b-form-radio",{staticClass:"p-0 m-0",attrs:{value:t.CONSTANT_SUB_TYPE.DEFAULT}},[t._v("Bình thường")]),t._v(" "),i("b-form-radio",{staticClass:"p-0 m-0",attrs:{value:t.CONSTANT_SUB_TYPE.BOTTOM_TO_TOP}},[t._v("Chạy dưới lên")])],1)],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.subtitle.data.type!=t.CONSTANT_SUB_TYPE.NONE,expression:"subtitle.data.type != CONSTANT_SUB_TYPE.NONE"}],staticClass:"text-properties sub-box"},[i("span",{staticClass:"fs-14 font-weight-bold"},[t._v("Font chữ")]),t._v(" "),i("div",{staticClass:"container-box"},[i("div",{staticClass:"wrapper-style-name"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.fontfamily,expression:"subtitle.data.fontfamily"}],staticClass:"form-control wrapper-item-input mr-1",staticStyle:{width:"250px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitle.data,"fontfamily",e.target.multiple?i:i[0])}}},t._l(t.listFont,function(e,a){return i("option",{key:a,domProps:{value:e.name}},[t._v("\n            "+t._s(e.nameDisplay)+"\n          ")])}),0),t._v(" "),i("b-form-input",{staticClass:"wrapper-item-input",staticStyle:{width:"80px",padding:"4px 6px"},attrs:{type:"number",min:"1",step:"1"},on:{change:t.onChangeFontSize},model:{value:t.subtitle.data.fontsizeDisplay,callback:function(e){t.$set(t.subtitle.data,"fontsizeDisplay",e)},expression:"subtitle.data.fontsizeDisplay"}})],1),t._v(" "),i("div",{staticClass:"wrapper-style-text text-gray"},[i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{value:-1,"unchecked-value":0,size:"sm"},model:{value:t.subtitle.data.style.bold,callback:function(e){t.$set(t.subtitle.data.style,"bold",e)},expression:"subtitle.data.style.bold"}},[t._v("Bold")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.italic,callback:function(e){t.$set(t.subtitle.data.style,"italic",e)},expression:"subtitle.data.style.italic"}},[t._v("Italic")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.underline,callback:function(e){t.$set(t.subtitle.data.style,"underline",e)},expression:"subtitle.data.style.underline"}},[t._v("Underline")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.strikeout,callback:function(e){t.$set(t.subtitle.data.style,"strikeout",e)},expression:"subtitle.data.style.strikeout"}},[t._v("Strikeout")])],1)]),t._v(" "),i("span",{staticClass:"mt-2 box-label fs-14 font-weight-bold"},[t._v("Màu")]),t._v(" "),i("div",{staticClass:"container-box pt-0"},[i("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-around"}},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker1,expression:"hideColorPicker1"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Chữ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 10px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom1.show(t.subtitle.data.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.color.rgb.r+","+t.subtitle.data.color.rgb.g+","+t.subtitle.data.color.rgb.b+","+t.subtitle.data.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker2,expression:"hideColorPicker2"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Viền")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom2.show(t.subtitle.data.stroke.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.stroke.color.rgb.r+","+t.subtitle.data.stroke.color.rgb.g+","+t.subtitle.data.stroke.color.rgb.b+","+t.subtitle.data.stroke.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker3,expression:"hideColorPicker3"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v(t._s(t.subtitle.data.opaqueBox?"Màu nền":"Bóng đổ"))]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom3.show(t.subtitle.data.shadow.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.shadow.color.rgb.r+","+t.subtitle.data.shadow.color.rgb.g+","+t.subtitle.data.shadow.color.rgb.b+","+t.subtitle.data.shadow.color.opacity/100+")"}})])])])])]),t._v(" "),i("div",{staticClass:"container-box fs-14 my-2",staticStyle:{"flex-direction":"row",display:"flex"}},[i("div",{staticClass:"align-items-center mr-3"},[i("span",{staticClass:"fs-sm font-weight-bold mr-2"},[t._v("Viền chữ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.stroke.sizeDisplay,expression:"subtitle.data.stroke.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitle.data.stroke.sizeDisplay},on:{change:t.onChangeStrokeSize,input:function(e){e.target.composing||t.$set(t.subtitle.data.stroke,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v(t._s("Bóng đổ"))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.shadow.sizeDisplay,expression:"subtitle.data.shadow.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitle.data.shadow.sizeDisplay},on:{change:t.onChangeShadowSize,input:function(e){e.target.composing||t.$set(t.subtitle.data.shadow,"sizeDisplay",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"container-box fs-14 mt-3",staticStyle:{"flex-direction":"row",display:"flex","align-items":"center"}},[i("label",{staticClass:"fs-sm font-weight-bold m-0",attrs:{for:"subtitle.data_opaqueBox"}},[t._v("Nền Subtitle:")]),t._v(" "),i("div",{staticClass:"align-items-center mx-1",staticStyle:{display:"flex"}},[i("b-form-checkbox",{staticClass:"reset",attrs:{id:"subtitle.data_opaqueBox",value:!0,"unchecked-value":!1},on:{input:t.onChangeOpaqueBox},model:{value:t.subtitle.data.opaqueBox,callback:function(e){t.$set(t.subtitle.data,"opaqueBox",e)},expression:"subtitle.data.opaqueBox"}}),t._v("\n        :\n      ")],1),t._v(" "),i("b-form-radio-group",{attrs:{id:"subtitle.data_opaqueBoxType",name:"subtitle.data_opaqueBoxType",size:"sm",disabled:!t.subtitle.data.opaqueBox},on:{input:t.onChangeTextOrPosition},model:{value:t.subtitle.data.opaqueBoxType,callback:function(e){t.$set(t.subtitle.data,"opaqueBoxType",e)},expression:"subtitle.data.opaqueBoxType"}},[i("div",{staticClass:"d-flex justify-content-between"},[i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:"FIXED"}},[t._v("Cố định")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:"AUTO"}},[t._v("Theo chữ")])],1)])],1),t._v(" "),i("div",{staticClass:"col-12 row reset"},[i("div",{staticClass:"col-6 ml-0 pl-0"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Vị trí")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-1 pl-2 align-items-center justify-content-center"},[i("b-form-radio-group",{attrs:{id:"subtitle.data_position",name:"subtitle.data_position",size:"sm"},on:{input:t.onChangePosition},model:{value:t.subtitle.data.position,callback:function(e){t.$set(t.subtitle.data,"position",e)},expression:"subtitle.data.position"}},[i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:7}},[t._v("7")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:8}},[t._v("8")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:9}},[t._v("9")])],1),t._v(" "),i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:4}},[t._v("4")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:5}},[t._v("5")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:6}},[t._v("6")])],1),t._v(" "),i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:1}},[t._v("1")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:2}},[t._v("2")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:3}},[t._v("3")])],1)])],1)]),t._v(" "),i("div",{staticClass:"col-6 reset"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Căn chữ")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-2 pl-2"},[i("div",{staticClass:"col-12 row mb-2 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Giãn từ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.spacing,expression:"subtitle.data.spacing"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitle.data.spacing},on:{input:function(e){e.target.composing||t.$set(t.subtitle.data,"spacing",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("label",{staticClass:"col-8 p-0 mx-0 fs-sm text-gray my-2",attrs:{for:"autoSpacing"}},[t._v("Giãn dòng:")]),t._v(" "),i("b-form-checkbox",{staticClass:"col-4 reset",attrs:{id:"autoSpacing","checked-value":!0,"unchecked-value":!1},model:{value:t.subtitle.data.autoSpacing,callback:function(e){t.$set(t.subtitle.data,"autoSpacing",e)},expression:"subtitle.data.autoSpacing"}})],1),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-7 reset fs-sm text-gray"},[t._v("Số từ/dòng:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.limitCharacter,expression:"subtitle.data.limitCharacter"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitle.data.limitCharacter},on:{input:function(e){e.target.composing||t.$set(t.subtitle.data,"limitCharacter",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"sub-box"},[i("span",{staticClass:"box-label fs-14 font-weight-bold"},[t._v("Giọng đọc")]),t._v(" "),i("div",{staticClass:"container-box d-flex justify-content-between mt-2"},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.voice,expression:"subtitle.data.voice"}],staticClass:"form-control form-control-sm fs-14",staticStyle:{flex:"1"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitle.data,"voice",e.target.multiple?i:i[0])},t.onChangeVoice]}},[i("option",{domProps:{value:null}},[t._v("---- Chọn Giọng Đọc ----")]),t._v(" "),t._l(t.listVoice,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n            "+t._s(e.language+" - "+e.name)+"\n          ")])})],2),t._v(" "),i("i",{staticClass:"fad fa-sliders-h icon-setting-voice p-1 mx-2",on:{click:function(e){return t.$refs.modalSettingVoice.show(t.subtitle.data)}}})])]),t._v(" "),i("b-form-group",{staticClass:"mt-3",attrs:{label:"Text "},scopedSlots:t._u([{key:"label",fn:function(){return[i("div",{staticClass:"row col-12 reset",staticStyle:{"justify-content":"space-between","align-items":"center"}},[i("span",{staticClass:"type-subtitle mr-2 text-gray"},[t._v("\n            Số kí tự:\n            "),i("b",{staticClass:"ml-2"},[t._v("\n              "+t._s(t.formatNumber(t.subtitle.data.content?t.subtitle.data.content.length:0))+"\n            ")])]),t._v(" "),i("span",{staticClass:"type-subtitle text-gray"},[t._v("\n            Số dòng:\n            "),i("b",{staticClass:"ml-2"},[t._v("\n              "+t._s(t.subtitle.data.content?t.subtitle.data.content.split("\n\n").length:0)+"\n            ")])]),t._v(" "),i("button",{staticClass:"btn btn-search zoom-button mx-2",on:{click:function(e){return t.$refs.modalEditText.show(t.subtitle.data.content)}}},[i("i",{staticClass:"fad fa-search-plus fs-14"})])])]},proxy:!0}])},[t._v(" "),i("b-form-textarea",{attrs:{id:"textarea",placeholder:"Nhập Text Subtitle",rows:"10","max-rows":"10"},on:{input:t.onChangeText},model:{value:t.subtitle.data.content,callback:function(e){t.$set(t.subtitle.data,"content",e)},expression:"subtitle.data.content"}}),t._v(" "),i("div",{staticClass:"mt-2"}),t._v(" "),i("div",{staticClass:"mt-2"})],1)],1),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom1",attrs:{stylePosition:"top: 100px;left: 270px;"},on:{onChangeColor:function(e){t.subtitle.data.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom2",attrs:{stylePosition:"top: 100px; left: 390px"},on:{onChangeColor:function(e){t.subtitle.data.stroke.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom3",attrs:{stylePosition:"top: 100px; left: 490px"},on:{onChangeColor:function(e){t.subtitle.data.shadow.color=e}}}),t._v(" "),i("ModalEditText",{ref:"modalEditText",on:{returnData:t.onSaveContentText}}),t._v(" "),i("ModalSettingVoice",{ref:"modalSettingVoice",on:{returnData:t.reciveVoiceData}})],1)},staticRenderFns:[]};var Oe=i("VU/8")(Ue,Fe,!1,function(t){i("/zF+")},"data-v-1a2a18e3",null).exports,Me={props:["subtitle","layoutMain"],components:{ModalSettingVoice:Le,ModalEditText:Pe},data:function(){return{listFont:this.$store.state.data.listFont,listVoice:this.$store.state.data.listVoice,CONSTANT_SUB_TYPE:{NONE:Z.SUBTITLE_TYPE.NONE,DEFAULT:Z.SUBTITLE_TYPE.DEFAULT,BOTTOM_TO_TOP:Z.SUBTITLE_TYPE.BOTTOM_TO_TOP}}},computed:{getDescriptionSubtitle:function(){var t="";return this.subtitle.data.fileSubtitle.listLineSubtitle.map(function(e,i){t+=i+1+"\n",t+=Et.a.secondsToHms(e.subtitleStartTime)+" --\x3e "+Et.a.secondsToHms(e.subtitleEndTime)+"\n",t+=e.content+"\n\n"}),t}},methods:{onSelectFileSubtitle:function(t){var e=t.target.files[0];try{var i=new FileReader,a=this;i.onload=function(){try{var t=i.result,e=[];if(t&&t.includes("Script generated by Aegisub"))e=(e=(e=t.split("\n")).filter(function(t){return t.startsWith("Dialogue")})).map(function(t){for(var e=t.split(","),i="",a=0,s=0;s<t.length;s++){","===t[s]&&9===++a&&(i=t.substring(s+1,t.length))}var n=e[1],o=e[2],r=n+" --\x3e "+o;return{subtitleStartTime:n=Et.a.converTimeSubToSecound(n),subtitleEndTime:o=Et.a.converTimeSubToSecound(o),subtitleTimeString:r,content:i}}),console.log(" ###### Success: ",e),e&&e.length>0&&(a.subtitle.data.content=e[0].content,a.subtitle.data.contentHtml=e[0].content),a.subtitle.data.fileSubtitle.listLineSubtitle=e;else{var s=t.split("\n"),n=[],o=[];s=s.map(function(t,e){""!==t.trim()?n.push(t):n.length>0&&(o.push(Dt()(n)),n=[]),e===s.length-1&&o.push(Dt()(n))}),o=(o=(o=o.map(function(t){return JSON.parse(t)})).filter(function(t){return t.length>0})).map(function(t){t[0];var e=t[1],i=e.split(" --\x3e ")[0],a=e.split(" --\x3e ")[1];return t.shift(),t.shift(),{subtitleTimeString:e,subtitleStartTime:i=Et.a.converTimeSubToSecound(i),subtitleEndTime:a=Et.a.converTimeSubToSecound(a),content:t.join("\n")}}),console.log(" ###### Success: ",o),o&&o.length>0&&(a.subtitle.data.content=o[0].content,a.subtitle.data.contentHtml=o[0].content),a.subtitle.data.fileSubtitle.listLineSubtitle=o}}catch(t){a.$swal.fire({type:"error",title:"File Subtitle Lỗi.!"})}},a.subtitle.data.fileSubtitle.name=e.name,i.readAsText(e)}catch(t){this.$swal.fire({type:"error",title:"File Subtitle Lỗi.!"})}},onSaveContentText:function(t){this.subtitle.data.content=t,this.onChangeTextOrPosition()},reciveVoiceData:function(t){this.subtitle.data.voice=t.voice,this.subtitle.data.voiceData=t.voiceData},onChangeVoice:function(t){var e=this.listVoice.find(function(e){return e._id===t.target.value});e&&e.type===Z.VOICE.GOOGLE?(this.subtitle.data.voiceData.speed=1,this.subtitle.data.voiceData.pitch=0):e&&e.type===Z.VOICE.WINDOWS?this.subtitle.data.voiceData.speed=1:!e||e.type!==Z.VOICE.AI_JP&&e.type!==Z.VOICE.AI_JP_DEMO?!e||e.type!==Z.VOICE.FPT_AI&&e.type!==Z.VOICE.VIETTEL_AI?e&&e.type===Z.VOICE.VINA?this.subtitle.data.voiceData.speed=1:(this.subtitle.data.voiceData.speed=100,this.subtitle.data.voiceData.pitch=100,this.subtitle.data.voiceData.volume=100,this.subtitle.data.voiceData.feeling=2):this.subtitle.data.voiceData.speed=0:(this.subtitle.data.voiceData.volume=2,this.subtitle.data.voiceData.speed=1,this.subtitle.data.voiceData.pitch=1,this.subtitle.data.voiceData.range=1,this.subtitle.data.voiceData.anger=0,this.subtitle.data.voiceData.sadness=0,this.subtitle.data.voiceData.joy=0)},onChangeFontSize:function(){this.subtitle.data.fontsize=this.subtitle.data.fontsizeDisplay/this.layoutMain.width},onChangeStrokeSize:function(){this.subtitle.data.stroke.size=this.subtitle.data.stroke.sizeDisplay/this.layoutMain.width},onChangeShadowSize:function(){this.subtitle.data.shadow.size=this.subtitle.data.shadow.sizeDisplay/this.layoutMain.width},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)},hideColorPicker1:function(){this.$refs.colorPickerCustom1&&this.$refs.colorPickerCustom1.hide()},hideColorPicker2:function(){this.$refs.colorPickerCustom2&&this.$refs.colorPickerCustom2.hide()},hideColorPicker3:function(){this.$refs.colorPickerCustom3&&this.$refs.colorPickerCustom3.hide()},onChangePosition:function(t){this.onChangeTextOrPosition()},onChangeText:function(t){this.onChangeTextOrPosition()},onChangeTextOrPosition:function(){var t="";"AUTO"===this.subtitle.data.opaqueBoxType&&(t='style="background-color: rgba('+this.subtitle.data.shadow.color.rgb.r+","+this.subtitle.data.shadow.color.rgb.g+","+this.subtitle.data.shadow.color.rgb.b+","+this.subtitle.data.shadow.color.opacity/100+')"');var e="<span "+t+">";this.subtitle.data.content.split("\n\n").map(function(t,i){e+='<span class="reset" >'+t.replace("\n","</br>")+"</span>\n\n"}),e+="</span>",this.subtitle.data.contentHtml=e.trim(),this.subtitle.data=m()({},this.subtitle.data)},onChangeOpaqueBox:function(){this.subtitle.data.opaqueBoxType||(this.subtitle.data.opaqueBoxType="FIXED")}},mounted:function(){this.onChangePosition(this.subtitle.data.position)},directives:{ClickOutside:z.a},created:function(){}},Re={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-left",staticStyle:{"margin-right":"10px"}},[i("div",{staticClass:"sub-box"},[i("span",{staticClass:"font-weight-bold box-label"},[t._v("File Subtitle:\n      "),i("span",{staticClass:"reset font-weight-normal"},[t._v(t._s(this.subtitle.data.fileSubtitle.name))])]),t._v(" "),i("div",{staticClass:"mt-2 container-box"},[i("button",{staticClass:"btn-style btn-style-sm-sm",on:{click:function(e){return t.$refs.inputSubtitleFile.click()}}},[t._v("\n        Chọn\n      ")]),t._v(" "),i("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.$refs.modalViewSubtitle.show()}}},[t._v("\n        Xem Nội Dung\n      ")]),t._v(" "),i("input",{ref:"inputSubtitleFile",attrs:{hidden:"",type:"file",accept:".srt,.ass",name:"",id:""},on:{change:t.onSelectFileSubtitle}})])]),t._v(" "),i("div",{staticClass:"sub-box"},[i("span",{staticClass:"font-weight-bold box-label"},[t._v("Kiểu Subtitle")]),t._v(" "),i("div",{staticClass:"mt-2 container-box"},[i("b-form-radio-group",{staticClass:"wrapper-type-subtitle text-gray px-0",attrs:{size:"sm"},model:{value:t.subtitle.data.type,callback:function(e){t.$set(t.subtitle.data,"type",e)},expression:"subtitle.data.type"}},[i("b-form-radio",{staticClass:"p-0 m-0 mr-3",attrs:{value:t.CONSTANT_SUB_TYPE.NONE}},[t._v("Ẩn")]),t._v(" "),i("b-form-radio",{staticClass:"p-0 m-0",attrs:{value:t.CONSTANT_SUB_TYPE.DEFAULT}},[t._v("Bình thường")])],1)],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.subtitle.data.type!=t.CONSTANT_SUB_TYPE.NONE,expression:"subtitle.data.type != CONSTANT_SUB_TYPE.NONE"}],staticClass:"text-properties sub-box"},[i("span",{staticClass:"fs-14 font-weight-bold"},[t._v("Font chữ")]),t._v(" "),i("div",{staticClass:"container-box"},[i("div",{staticClass:"wrapper-style-name"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.fontfamily,expression:"subtitle.data.fontfamily"}],staticClass:"form-control wrapper-item-input mr-1",staticStyle:{width:"250px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitle.data,"fontfamily",e.target.multiple?i:i[0])}}},t._l(t.listFont,function(e,a){return i("option",{key:a,domProps:{value:e.name}},[t._v("\n            "+t._s(e.nameDisplay)+"\n          ")])}),0),t._v(" "),i("b-form-input",{staticClass:"wrapper-item-input",staticStyle:{width:"80px",padding:"4px 6px"},attrs:{type:"number",min:"1",step:"1"},on:{change:t.onChangeFontSize},model:{value:t.subtitle.data.fontsizeDisplay,callback:function(e){t.$set(t.subtitle.data,"fontsizeDisplay",e)},expression:"subtitle.data.fontsizeDisplay"}})],1),t._v(" "),i("div",{staticClass:"wrapper-style-text text-gray"},[i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{value:-1,"unchecked-value":0,size:"sm"},model:{value:t.subtitle.data.style.bold,callback:function(e){t.$set(t.subtitle.data.style,"bold",e)},expression:"subtitle.data.style.bold"}},[t._v("Bold")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.italic,callback:function(e){t.$set(t.subtitle.data.style,"italic",e)},expression:"subtitle.data.style.italic"}},[t._v("Italic")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.underline,callback:function(e){t.$set(t.subtitle.data.style,"underline",e)},expression:"subtitle.data.style.underline"}},[t._v("Underline")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitle.data.style.strikeout,callback:function(e){t.$set(t.subtitle.data.style,"strikeout",e)},expression:"subtitle.data.style.strikeout"}},[t._v("Strikeout")])],1)]),t._v(" "),i("span",{staticClass:"mt-2 box-label fs-14 font-weight-bold"},[t._v("Màu")]),t._v(" "),i("div",{staticClass:"container-box pt-0"},[i("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-around"}},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker1,expression:"hideColorPicker1"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Chữ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 10px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom1.show(t.subtitle.data.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.color.rgb.r+","+t.subtitle.data.color.rgb.g+","+t.subtitle.data.color.rgb.b+","+t.subtitle.data.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker2,expression:"hideColorPicker2"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Viền")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom2.show(t.subtitle.data.stroke.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.stroke.color.rgb.r+","+t.subtitle.data.stroke.color.rgb.g+","+t.subtitle.data.stroke.color.rgb.b+","+t.subtitle.data.stroke.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker3,expression:"hideColorPicker3"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v(t._s(t.subtitle.data.opaqueBox?"Màu nền":"Bóng đổ"))]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom3.show(t.subtitle.data.shadow.color)}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitle.data.shadow.color.rgb.r+","+t.subtitle.data.shadow.color.rgb.g+","+t.subtitle.data.shadow.color.rgb.b+","+t.subtitle.data.shadow.color.opacity/100+")"}})])])])])]),t._v(" "),i("div",{staticClass:"container-box fs-14 my-2",staticStyle:{"flex-direction":"row",display:"flex"}},[i("div",{staticClass:"align-items-center mr-3"},[i("span",{staticClass:"fs-sm font-weight-bold mr-2"},[t._v("Viền chữ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.stroke.sizeDisplay,expression:"subtitle.data.stroke.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitle.data.stroke.sizeDisplay},on:{change:t.onChangeStrokeSize,input:function(e){e.target.composing||t.$set(t.subtitle.data.stroke,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v(t._s("Bóng đổ"))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.shadow.sizeDisplay,expression:"subtitle.data.shadow.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitle.data.shadow.sizeDisplay},on:{change:t.onChangeShadowSize,input:function(e){e.target.composing||t.$set(t.subtitle.data.shadow,"sizeDisplay",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"container-box fs-14 mt-3",staticStyle:{"flex-direction":"row",display:"flex","align-items":"center"}},[i("label",{staticClass:"fs-sm font-weight-bold m-0",attrs:{for:"subtitle.data_opaqueBox"}},[t._v("Nền Subtitle:")]),t._v(" "),i("div",{staticClass:"align-items-center mx-1",staticStyle:{display:"flex"}},[i("b-form-checkbox",{staticClass:"reset",attrs:{id:"subtitle.data_opaqueBox",value:!0,"unchecked-value":!1},on:{input:t.onChangeOpaqueBox},model:{value:t.subtitle.data.opaqueBox,callback:function(e){t.$set(t.subtitle.data,"opaqueBox",e)},expression:"subtitle.data.opaqueBox"}}),t._v("\n        :\n      ")],1),t._v(" "),i("b-form-radio-group",{attrs:{id:"subtitle.data_opaqueBox",name:"subtitle.data_opaqueBox",size:"sm",disabled:!t.subtitle.data.opaqueBox},on:{input:t.onChangeTextOrPosition},model:{value:t.subtitle.data.opaqueBoxType,callback:function(e){t.$set(t.subtitle.data,"opaqueBoxType",e)},expression:"subtitle.data.opaqueBoxType"}},[i("div",{staticClass:"d-flex justify-content-between"},[i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:"FIXED"}},[t._v("Cố định")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:"AUTO"}},[t._v("Theo chữ")])],1)])],1),t._v(" "),i("div",{staticClass:"col-12 row reset"},[i("div",{staticClass:"col-6 ml-0 pl-0"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Vị trí")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-1 pl-2 align-items-center justify-content-center"},[i("b-form-radio-group",{attrs:{id:"subtitle.data_position",name:"subtitle.data_position",size:"sm"},on:{input:t.onChangePosition},model:{value:t.subtitle.data.position,callback:function(e){t.$set(t.subtitle.data,"position",e)},expression:"subtitle.data.position"}},[i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:7}},[t._v("7")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 p-0",attrs:{value:8}},[t._v("8")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:9}},[t._v("9")])],1),t._v(" "),i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:4}},[t._v("4")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:5}},[t._v("5")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:6}},[t._v("6")])],1),t._v(" "),i("div",{staticClass:"d-flex justify-content-between mt-2"},[i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:1}},[t._v("1")]),t._v(" "),i("b-form-radio",{staticClass:"mr-2 m-0 p-0",attrs:{value:2}},[t._v("2")]),t._v(" "),i("b-form-radio",{staticClass:"m-0 p-0",attrs:{value:3}},[t._v("3")])],1)])],1)]),t._v(" "),i("div",{staticClass:"col-6 reset"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Căn chữ")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-2 pl-2"},[i("div",{staticClass:"col-12 row mb-2 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Giãn từ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.spacing,expression:"subtitle.data.spacing"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitle.data.spacing},on:{input:function(e){e.target.composing||t.$set(t.subtitle.data,"spacing",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("label",{staticClass:"col-8 p-0 mx-0 fs-sm text-gray my-2",attrs:{for:"autoSpacing"}},[t._v("Giãn dòng:")]),t._v(" "),i("b-form-checkbox",{staticClass:"col-4 reset",attrs:{id:"autoSpacing","checked-value":!0,"unchecked-value":!1},model:{value:t.subtitle.data.autoSpacing,callback:function(e){t.$set(t.subtitle.data,"autoSpacing",e)},expression:"subtitle.data.autoSpacing"}})],1),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-7 reset fs-sm text-gray"},[t._v("Số từ/dòng:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.limitCharacter,expression:"subtitle.data.limitCharacter"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitle.data.limitCharacter},on:{input:function(e){e.target.composing||t.$set(t.subtitle.data,"limitCharacter",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"sub-box"},[i("span",{staticClass:"box-label fs-14 font-weight-bold"},[t._v("Giọng đọc")]),t._v(" "),i("div",{staticClass:"container-box d-flex justify-content-between mt-2"},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitle.data.voice,expression:"subtitle.data.voice"}],staticClass:"form-control form-control-sm fs-14",staticStyle:{flex:"1"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitle.data,"voice",e.target.multiple?i:i[0])},t.onChangeVoice]}},[i("option",{domProps:{value:null}},[t._v("---- Chọn Giọng Đọc ----")]),t._v(" "),t._l(t.listVoice,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n            "+t._s(e.language+" - "+e.name)+"\n          ")])})],2),t._v(" "),i("i",{staticClass:"fad fa-sliders-h icon-setting-voice p-1 mx-2",on:{click:function(e){return t.$refs.modalSettingVoice.show(t.subtitle.data)}}})])]),t._v(" "),i("b-form-group",{staticClass:"mt-3"},[i("span",{staticClass:"box-label fs-14 font-weight-bold"},[t._v("Text Preview")]),t._v(" "),i("b-form-textarea",{attrs:{id:"textarea",placeholder:"Nhập Text Preview",rows:"2","max-rows":"2"},on:{input:t.onChangeText},model:{value:t.subtitle.data.content,callback:function(e){t.$set(t.subtitle.data,"content",e)},expression:"subtitle.data.content"}}),t._v(" "),i("div",{staticClass:"mt-2"}),t._v(" "),i("div",{staticClass:"mt-2"})],1)],1),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom1",attrs:{stylePosition:"top: 100px;left: 270px;"},on:{onChangeColor:function(e){t.subtitle.data.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom2",attrs:{stylePosition:"top: 100px; left: 390px"},on:{onChangeColor:function(e){t.subtitle.data.stroke.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom3",attrs:{stylePosition:"top: 100px; left: 490px"},on:{onChangeColor:function(e){t.subtitle.data.shadow.color=e}}}),t._v(" "),i("ModalEditText",{ref:"modalEditText",on:{returnData:t.onSaveContentText}}),t._v(" "),i("ModalSettingVoice",{ref:"modalSettingVoice",on:{returnData:t.reciveVoiceData}}),t._v(" "),i("b-modal",{ref:"modalViewSubtitle",attrs:{id:"modalViewSubtitle",title:"Nội Dung",size:"xl","auto-focus-button":"ok","cancel-title-html":"s","hide-footer":""}},[i("b-form-textarea",{attrs:{value:t.getDescriptionSubtitle,placeholder:"Nhập Text Subtitle",rows:"15","max-rows":"20"}})],1)],1)},staticRenderFns:[]};var Ne={components:{SubtitleVoice:Oe,ReviewSubtitleVoice:i("VU/8")(Me,Re,!1,function(t){i("QKdS")},"data-v-6895ad40",null).exports},props:["subtitle","currentTimeVideo","videoLength","layoutMain"],data:function(){return{}},methods:{onClickItem:function(t){switch(t){case"SUBTITLE_VOICE":this.subtitle.data={id:Et.a.generateKey(),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100},fontsizeDisplay:30,fontsize:30/this.layoutMain.width,fontfamily:this.$store.state.data.listFont.length>0?this.$store.state.data.listFont[0].name:null,stroke:{sizeDisplay:1,size:1/this.layoutMain.width,color:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100}},x:0,y:0,width:.3,height:.3,content:"Text Subtitle",contentHtml:"Text Subtitle",type:Z.SUBTITLE_TYPE.DEFAULT,style:{bold:0,italic:0,underline:0,strikeout:0},position:2,spacing:0,shadow:{sizeDisplay:1,size:1/this.layoutMain.width,color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100}},voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null},limitCharacter:0,isShow:!0};break;case"MANUAL":return;case"REVIEW_SUBTITLE_VOICE":this.subtitle.data={id:Et.a.generateKey(),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100},fontsizeDisplay:30,fontsize:30/this.layoutMain.width,fontfamily:this.$store.state.data.listFont.length>0?this.$store.state.data.listFont[0].name:null,stroke:{sizeDisplay:1,size:1/this.layoutMain.width,color:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100}},x:0,y:0,width:.3,height:.3,content:"Text Subtitle",contentHtml:"Text Subtitle",type:Z.SUBTITLE_TYPE.DEFAULT,style:{bold:0,italic:0,underline:0,strikeout:0},position:2,spacing:0,shadow:{sizeDisplay:1,size:1/this.layoutMain.width,color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100}},voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null},limitCharacter:0,isShow:!0,fileSubtitle:{listLineSubtitle:[],name:null}}}this.subtitle.type=t,this.$store.dispatch("pushTempArray",{id:this.subtitle.data.id,value:"Subtitle - Voice",type:Z.ITEM_ADD_TO_VIDEO_TYPE.SUBTITLE})},onRemoveSubtitle:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$swal.fire({type:"question",title:"Xóa Subtitle",showConfirmButton:!0,showCancelButton:!0});case 2:e.sent.value&&(t.$store.dispatch("deleteItemTempArray",{id:t.subtitle.data.id}),t.subtitle.type=null,t.subtitle.data=null);case 4:case"end":return e.stop()}},e,t)}))()}}},ze={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%",width:"100%"}},[t.subtitle.type?i("div",{staticStyle:{position:"relative",height:"20px"}},[i("i",{staticClass:"fas fa-times btn-trash",on:{click:t.onRemoveSubtitle}})]):t._e(),t._v(" "),t.subtitle.type?i("div",{staticStyle:{"max-height":"calc(100% - 20px)",width:"100%","overflow-y":"auto","overflow-x":"hidden"}},["SUBTITLE_VOICE"===t.subtitle.type?i("SubtitleVoice",{attrs:{subtitle:t.subtitle,layoutMain:t.layoutMain}}):t._e(),t._v(" "),"REVIEW_SUBTITLE_VOICE"===t.subtitle.type?i("ReviewSubtitleVoice",{attrs:{subtitle:t.subtitle,layoutMain:t.layoutMain}}):t._e(),t._v(" "),"MANUAL"===t.subtitle.type?i("ManualSubtitle",{attrs:{subtitle:t.subtitle}}):t._e()],1):i("div",{staticStyle:{height:"100%",width:"100%"}},[i("div",{staticClass:"box-function mt-0",on:{click:function(e){return t.onClickItem("SUBTITLE_VOICE")}}},[i("img",{attrs:{src:"/static/assets/icons/auto.svg",alt:""}}),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"box-function",on:{click:function(e){return t.onClickItem("MANUAL")}}},[i("img",{attrs:{src:"/static/assets/icons/manual_subtitles.svg",alt:""}}),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"box-function",on:{click:function(e){return t.onClickItem("REVIEW_SUBTITLE_VOICE")}}},[i("img",{attrs:{src:"/static/assets/icons/srt_subtitle.svg",alt:""}}),t._v(" "),t._m(2),t._v(" "),i("input",{attrs:{type:"file",hidden:"",accept:".srt, .ass"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-left ml-4 mt-3"},[e("b",{staticStyle:{"font-size":"14px"}},[this._v("Subtitle - Voice")]),this._v(" "),e("p",{staticClass:"sub-description"},[this._v("Chia subtitle tự động theo voice")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-left ml-4 mt-3"},[e("b",{staticStyle:{"font-size":"14px"}},[this._v("Subtitle thủ công")]),this._v(" "),e("p",{staticClass:"sub-description"},[this._v("Chia subtitle thủ công")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-left ml-4 mt-3"},[e("b",{staticStyle:{"font-size":"14px"}},[this._v("Review: Đọc Theo File Subtile (Giá 3k/phút)")]),this._v(" "),e("p",{staticClass:"sub-description"},[this._v("Tải lên file subtitle có sẵn")])])}]};var Be=i("VU/8")(Ne,ze,!1,function(t){i("0gRp")},"data-v-285bbe7a",null).exports,He={data:function(){return{keyInput:0,funcVal:1,trimData:[0,parseInt(this.audioItem.audioLength)]}},props:["audioItem","videoLength"],methods:{selectFunction:function(t){this.funcVal=t},onChangeTrimSlider:function(t){this.audioItem.playTime=t[0],this.audioItem.endTime=t[1]}},mounted:function(){this.trimData=[0,this.audioItem?parseInt(this.audioItem.audioLength):0]}},je={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-center mb-3"},[i("div",{staticClass:"btn-group",staticStyle:{width:"100%"},attrs:{role:"group"}},[i("button",{staticClass:"btn btn-outline-dark btn-in-group",attrs:{type:"button"},on:{click:function(e){return t.selectFunction(1)}}},[i("span",{staticStyle:{"font-weight":"500"}},[t._v("Volume")])]),t._v(" "),i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.selectFunction(2)}}},[i("span",{staticStyle:{"font-weight":"500"}},[t._v("Start Time")])]),t._v(" "),i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.selectFunction(3)}}},[i("span",{staticStyle:{"font-weight":"500"}},[t._v("Trim")])])])]),t._v(" "),i("div",{staticClass:"mx-1"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.funcVal,expression:"funcVal == 1"}],staticClass:"volume",staticStyle:{width:"100%"}},[i("div",{staticStyle:{"justify-content":"space-between",display:"flex"}},[i("span",[t._v("Volume")]),t._v(" "),i("span",[t._v(" "+t._s((100*t.audioItem.volume).toFixed())+"%")])]),t._v(" "),i("vue-slider",{staticClass:"mt-1",attrs:{min:0,max:1,interval:.01,tooltip:"none",dotSize:"16"},model:{value:t.audioItem.volume,callback:function(e){t.$set(t.audioItem,"volume",e)},expression:"audioItem.volume"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.funcVal,expression:"funcVal == 2"}],staticClass:"start-time",staticStyle:{width:"100%"}},[i("div",{staticStyle:{"justify-content":"space-between",display:"flex","align-items":"center"}},[i("span",[t._v("Start Time")]),t._v(" "),i("div",{staticClass:"end ml-auto"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.audioItem.startTime,expression:"audioItem.startTime"}],staticClass:"wrapper-item",attrs:{type:"number",min:"0",max:t.videoLength,step:"0.1"},domProps:{value:t.audioItem.startTime},on:{input:function(e){e.target.composing||t.$set(t.audioItem,"startTime",e.target.value)}}})])]),t._v(" "),i("div",[i("vue-slider",{staticClass:"mt-1",attrs:{min:0,max:t.videoLength?parseInt(t.videoLength):0,interval:.1,tooltip:"none",dotSize:"16"},model:{value:t.audioItem.startTime,callback:function(e){t.$set(t.audioItem,"startTime",e)},expression:"audioItem.startTime"}})],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.funcVal,expression:"funcVal == 3"}],key:t.keyInput,staticClass:"trim",staticStyle:{width:"100%"}},[i("div",{staticStyle:{"justify-content":"space-between",display:"flex","align-items":"center"}},[i("div",[i("span",[t._v("Start:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.audioItem.playTime,expression:"audioItem.playTime"}],staticClass:"wrapper-item",attrs:{type:"number",min:"0",max:t.audioItem.audioLength,step:"0.01"},domProps:{value:t.audioItem.playTime},on:{input:function(e){e.target.composing||t.$set(t.audioItem,"playTime",e.target.value)}}})]),t._v(" "),i("div",[i("span",[t._v("End:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.audioItem.endTime,expression:"audioItem.endTime"}],staticClass:"wrapper-item",attrs:{type:"number",min:"0",max:t.audioItem.audioLength,step:"0.01"},domProps:{value:t.audioItem.endTime},on:{input:function(e){e.target.composing||t.$set(t.audioItem,"endTime",e.target.value)}}})])]),t._v(" "),i("div",[i("vue-slider",{staticClass:"mt-1",attrs:{min:0,max:this.audioItem?parseInt(this.audioItem.audioLength):0,interval:.1,tooltip:"none",dotSize:"16"},on:{change:t.onChangeTrimSlider},model:{value:t.trimData,callback:function(e){t.trimData=e},expression:"trimData"}})],1)]),t._v(" "),i("audio",{attrs:{id:t.audioItem.id,controls:"",hidden:"",src:"local"==t.audioItem.typeUrl||"server"==t.audioItem.typeUrl?t.audioItem.path:t.audioItem.pathPreview}})])])},staticRenderFns:[]};var Ge=i("VU/8")(He,je,!1,function(t){i("O1Rs")},"data-v-4a021db2",null).exports,Ye={name:"modal-input-file",data:function(){return{totalVideo:0,isLoading:!1,isShowInput:!1,linkVideoType:"local",textInputLinkVideo:""}},components:{Loading:c.a},props:{totalVideoProps:{type:Number,default:0},typeInput:{type:String,default:"video"}},mounted:function(){this.totalVideo=this.totalVideoProps},methods:{getIconLink:function(){switch(this.linkVideoType){case"youtube":return'<i class="fab fa-youtube"></i>';case"facebook":return'<i class="fab fa-facebook"></i>';case"google-driver":return'<img class="icon-google-driver" src="https://www.gstatic.com/images/branding/product/1x/drive_48dp.png" alt />'}return""},onSaveClick:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hideModal(),i=t.textInputLinkVideo,t.textInputLinkVideo="",""===i){e.next=32;break}return a={id:Et.a.generateKey(),name:"Loading...",date:"Loading...",size:"Loading...",typeFile:"Loading...",url:"",thumbnail:"https://getuikit.com/v2/docs/images/placeholder_600x400.svg",resolution:{width:0,height:0,display:"Loading..."},duration:{value:0,display:"Loading..."},activeSplitTimeIndex:0,isLoading:!0,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:"Loading...",typeUrl:t.linkVideoType}},t.$emit("pushNewAudio",a),t.totalVideo++,e.prev=7,e.next=10,E.getInfoVideoYoutubeDL({urlVideo:i});case 10:if(!(s=e.sent)||200!==s.status){e.next=24;break}if((o=s.data).duration=o.duration?parseFloat(o.duration.toFixed(2)):0,(a={urlOriginal:o.webpageUrl,id:a.id,name:o.title,date:"",size:o.size?Et.a.bytesToSize(o.size):"",typeFile:t.typeInput,url:o.urlAudio,thumbnail:o.thumbnail,resolution:{width:o.width,height:o.height,display:o.width+"x"+o.height},duration:{value:o.duration,display:o.duration?Et.a.secondsToHms(o.duration):""},activeSplitTimeIndex:0,isLoading:!1,filter:{crop:{ratio:"",x:0,y:0,width:0,height:0},rotate:0,quality:""},splitTime:0,listSplitTime:o.duration?[{index:0,startTime:0,endTime:o.duration}]:[],typeUrl:t.linkVideoType}).duration.value&&a.resolution.width){e.next=20;break}return e.next=18,Et.a.getInfoVideoByUrl(o.url);case 18:(r=e.sent)&&r.duration&&(l=parseFloat(r.duration.toFixed(2)),a=m()({},a,{duration:{value:l,display:Et.a.secondsToHms(l)},resolution:{width:r.width,height:r.height,display:r.width+"x"+r.height},listSplitTime:[{index:0,startTime:0,endTime:l}]}));case 20:t.$emit("pushNewAudio",a),t.$swal.fire({type:"success",title:"Get Audio Success",showConfirmButton:!1,timer:800}),e.next=26;break;case 24:t.$emit("pushNewAudio",a,"error"),t.$swal.fire({type:"error",title:"Server is Overload",showConfirmButton:!1});case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(7),t.$swal.fire({type:"error",title:"Error "+e.t0,showConfirmButton:!0}),t.$emit("pushNewAudio",a,"error");case 32:case"end":return e.stop()}},e,t,[[7,28]])}))()},onAddLinkVideoClick:function(t){this.isShowInput=!0,this.linkVideoType=t},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},toggleModal:function(){this.$refs["my-modal"].toggle("#toggle-btn")},addVideoLocalClick:function(){this.linkVideoType="local",this.isShowInput=!1,this.textInputLinkVideo="",this.$refs.inputVideoFileAudio.click()},onSelectFile:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c,d,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t.hideModal(),t.$refs.inputVideoFileAudio.files,i=t.$refs.inputVideoFileAudio.files,a=[],s=0;s<i.length;s++)r=i[s],o={file:r,id:Et.a.generateKey(),name:r.name,date:t.$moment(r.lastModifiedDate).format("DD/MM/YYYY"),size:Et.a.bytesToSize(r.size),typeFile:t.typeInput,url:URL.createObjectURL(r),duration:{value:0,display:""},activeSplitTimeIndex:0,isLoading:!0},Ot()(o,"file",r),Ot()(o,"typeUrl","local"),l=o,a.push(l),t.$emit("pushNewAudio",l);c=0;case 6:if(!(c<a.length)){e.next=15;break}return d=a[c],e.next=10,Et.a.getInfoAudioByUrl(d.url);case 10:(u=e.sent)&&(d.duration={value:u.duration,display:Et.a.secondsToHms(u.duration)},d.isLoading=!1,t.$emit("pushNewAudio",d));case 12:c++,e.next=6;break;case 15:case"end":return e.stop()}},e,t)}))()}}},Ke={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Input Your Audio"}},[i("div",{staticClass:"d-block text-center"},[i("button",{staticClass:"btn btn-primary btn-lg jv-btn-add-video",on:{click:t.addVideoLocalClick}},[t._v("Local")]),t._v(" "),i("input",{ref:"inputVideoFileAudio",attrs:{type:"file",hidden:"",name:"inputVideoFileAudio",id:"inputVideoFileAudio",accept:"audio/mp3,audio/wav,.m4a,.aac,.webm",multiple:""},on:{change:t.onSelectFile}}),t._v(" "),i("button",{staticClass:"btn btn-lg",on:{click:function(e){return t.onAddLinkVideoClick("youtube")}}},[i("i",{staticClass:"fab fa-youtube"})]),t._v(" "),i("button",{staticClass:"btn btn-lg",on:{click:function(e){return t.onAddLinkVideoClick("facebook")}}},[i("i",{staticClass:"fab fa-facebook"})]),t._v(" "),i("button",{staticClass:"btn btn-lg",on:{click:function(e){return t.onAddLinkVideoClick("google-driver")}}},[i("img",{staticClass:"icon-google-driver",attrs:{src:"https://www.gstatic.com/images/branding/product/1x/drive_48dp.png",alt:""}})])]),t._v(" "),i("b-container",{staticClass:"container-content row reset"},[i("button",{staticClass:"btn btn-lg",domProps:{innerHTML:t._s(t.getIconLink())}}),t._v(" "),i("b-form-input",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}],staticClass:"my-3 col-9",attrs:{id:"inputLink",name:"inputLink",placeholder:"Enter Your Link"},model:{value:t.textInputLinkVideo,callback:function(e){t.textInputLinkVideo=e},expression:"textInputLinkVideo"}})],1),t._v(" "),i("b-row",{staticClass:"mt-3"},[i("b-col",{attrs:{cols:"6"}}),t._v(" "),i("b-col",{attrs:{cols:"6",rows:""}},[i("b-row",{staticClass:"float-right"},[i("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:t.hideModal}},[t._v("Close")]),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:"local"!=t.linkVideoType,expression:"linkVideoType != 'local'"}],staticClass:"mr-2",attrs:{variant:"success"},on:{click:t.onSaveClick}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:40,width:40},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var We=i("VU/8")(Ye,Ke,!1,function(t){i("/Ixv")},null,null).exports,qe={data:function(){return{}},props:["videoLength","audioData"],methods:{pushNewAudio:function(t,e){if("error"!==e&&!t.isLoading){var i=m()({},t,{volume:1,startTime:0,playTime:0,endTime:t.duration.value.toFixed(2),audioLength:t.duration.value.toFixed(2)});this.audioData.listAudio.push(i)}},addAudioCLick:function(){this.$refs.modalInputFile.showModal()},deleteAudio:function(t){this.audioData.listAudio[t];this.audioData.listAudio.splice(t,1)}},components:{AudioProperties:Ge,ModalInputAudio:We},mounted:function(){}},Xe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"text-left",staticStyle:{height:"100%"}},[t.audioData.listAudio&&t.audioData.listAudio.length>1?i("div",{staticClass:"container-type-audio text-center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.audioData.typeRenderAudio,expression:"audioData.typeRenderAudio"}],staticClass:"mr-1",attrs:{type:"radio",name:"typeAudio",id:"join",value:"join"},domProps:{checked:t._q(t.audioData.typeRenderAudio,"join")},on:{change:function(e){return t.$set(t.audioData,"typeRenderAudio","join")}}}),t._v(" "),i("label",{staticClass:"m-0 mr-4",attrs:{for:"join"}},[t._v("Nối tiếp")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.audioData.typeRenderAudio,expression:"audioData.typeRenderAudio"}],staticClass:"ml-3 mr-1",attrs:{type:"radio",name:"typeAudio",id:"parallel",value:"parallel"},domProps:{checked:t._q(t.audioData.typeRenderAudio,"parallel")},on:{change:function(e){return t.$set(t.audioData,"typeRenderAudio","parallel")}}}),t._v(" "),i("label",{staticClass:"m-0",attrs:{for:"parallel"}},[t._v("Song song")])]):t._e(),t._v(" "),i("div",{staticClass:"container-list-audio"},t._l(t.audioData.listAudio,function(e,a){return i("div",{key:a,staticClass:"audio-item"},[i("div",{staticClass:"header-audio-item"},[i("div",{staticClass:"circle-number"},[i("span",[t._v(t._s(a+1))])]),t._v(" "),i("span",{staticClass:"audio-name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"ml-1",staticStyle:{"font-size":"16px",color:"#696969"},on:{click:function(e){return t.deleteAudio(a)}}},[i("i",{staticClass:"fad fa-trash"})])]),t._v(" "),i("audio-properties",{attrs:{audioItem:e,videoLength:t.videoLength}})],1)}),0),t._v(" "),i("div",{staticClass:"container-random-audio"},[t._m(0),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.audioData.folderAudioRandom,expression:"audioData.folderAudioRandom"}],staticClass:"input-style",attrs:{name:"random_audio"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.audioData,"folderAudioRandom",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:void 0}},[t._v("-------------")]),t._v(" "),t._l(t.$store.state.data.listFolderUser,function(e,a){return i("option",{key:a,domProps:{value:e.path}},[t._v(t._s(e.name))])})],2),t._v(" "),i("div",{staticClass:"mt-3 mb-2"},[i("b-form-checkbox",{model:{value:t.audioData.isRandomAudio,callback:function(e){t.$set(t.audioData,"isRandomAudio",e)},expression:"audioData.isRandomAudio"}},[i("b",[t._v("Random Audio:")])])],1),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"random_audio-check",triggers:"hover",variant:"info"}},[t._v("\n        Tự động lấy random Audio trong thư mục\n      ")])],1),t._v(" "),t.audioData.isRandomAudio?i("div",[i("div",{},[i("div",{staticClass:"d-flex justify-content-between"},[i("span",{staticClass:"mr-2",staticStyle:{width:"51px"}},[t._v("Volume: ")]),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold mx-2"},[t._v(t._s(t.audioData.volumeAudioRandom))])])]),t._v(" "),i("vue-slider",{staticStyle:{width:"100%"},attrs:{min:1,max:200,tooltip:"none",dotSize:"16"},model:{value:t.audioData.volumeAudioRandom,callback:function(e){t.$set(t.audioData,"volumeAudioRandom",e)},expression:"audioData.volumeAudioRandom"}})],1)]):i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-upload-audio",on:{click:function(e){return t.addAudioCLick()}}},[t._v("Upload Audio")])])]),t._v(" "),i("modal-input-audio",{ref:"modalInputFile",attrs:{typeInput:"audio"},on:{pushNewAudio:t.pushNewAudio}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[e("i",{staticClass:"fad fa-folders"}),this._v(" Chọn thư mục")])}]};var Je=i("VU/8")(qe,Xe,!1,function(t){i("rXCm")},"data-v-d78bf306",null).exports,Qe={data:function(){return{}},props:["videoLength","voiceAudio"],methods:{pushNewAudio:function(t,e){if("error"===e||t.isLoading)this.audio=null;else{var i={id:t.id,name:t.name,file:t.file,typeUrl:t.typeUrl,volume:1,startTime:0,playTime:0,endTime:t.duration.value.toFixed(2),audioLength:t.duration.value.toFixed(2),isDeleted:!1};this.voiceAudio.listVoice.push(i)}},addAudioCLick:function(){this.$refs.modalInputFile.showModal()},deleteAudio:function(t){this.voiceAudio.listVoice.splice(t,1)}},components:{AudioProperties:Ge,ModalInputAudio:We},mounted:function(){}},Ze={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"text-left",staticStyle:{height:"100%"}},[i("div",{staticClass:"text-center container-type-audio"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.voiceAudio.isAddVoice,expression:"voiceAudio.isAddVoice"}],staticClass:"mr-1",attrs:{type:"checkbox",id:"is-add-voices"},domProps:{checked:Array.isArray(t.voiceAudio.isAddVoice)?t._i(t.voiceAudio.isAddVoice,null)>-1:t.voiceAudio.isAddVoice},on:{change:function(e){var i=t.voiceAudio.isAddVoice,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&t.$set(t.voiceAudio,"isAddVoice",i.concat([null])):n>-1&&t.$set(t.voiceAudio,"isAddVoice",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.voiceAudio,"isAddVoice",s)}}}),t._v(" "),i("label",{staticClass:"font-weight-bold reset",attrs:{for:"is-add-voices",id:"tooltip-is-add-voice"}},[t._v("Sử dụng giọng đọc")]),t._v(" "),i("b-tooltip",{staticClass:"tooltip ",attrs:{target:"tooltip-is-add-voice",triggers:"hover",variant:"info"}},[i("b",[t._v("Sử dụng giọng đọc khi tạo video Tin Tức")])])],1),t._v(" "),i("div",{staticClass:"container-list-audio"},t._l(t.voiceAudio.listVoice,function(e,a){return i("div",{key:a,staticClass:"audio-item"},[i("div",{staticClass:"header-audio-item"},[i("div",{staticClass:"circle-number"},[i("span",[t._v(t._s(a+1))])]),t._v(" "),i("span",{staticClass:"audio-name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"ml-1",staticStyle:{"font-size":"16px",color:"#696969"},on:{click:function(e){return t.deleteAudio(a)}}},[i("i",{staticClass:"fad fa-trash"})])]),t._v(" "),i("audio-properties",{attrs:{audioItem:e,videoLength:t.videoLength}})],1)}),0),t._v(" "),i("div",{staticClass:"text-center",staticStyle:{"margin-top":"10px"}},[i("button",{staticClass:"btn btn-upload-audio",on:{click:function(e){return t.addAudioCLick()}}},[i("span",{staticStyle:{"font-size":"16px"}},[t._v("Upload Audio")])])])]),t._v(" "),i("modal-input-audio",{ref:"modalInputFile",attrs:{typeInput:"audio"},on:{pushNewAudio:t.pushNewAudio}})],1)},staticRenderFns:[]};var ti=i("VU/8")(Qe,Ze,!1,function(t){i("5YaS")},"data-v-6c43c70d",null).exports,ei={data:function(){return{keyUpdate:0,tempArray:this.$store.state.tempArray}},props:["data"],methods:{onDeleteItem:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o,r,l;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.tempArray[t],i.next=3,e.$swal.fire({title:"Xóa "+a.type+": "+a.value,type:"error",showConfirmButton:!0,showCancelButton:!0});case 3:if(!i.sent.value){i.next=29;break}e.tempArray.splice(t,1),i.t0=a.type,i.next=i.t0===Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO?9:i.t0===Z.ITEM_ADD_TO_VIDEO_TYPE.TEXT?13:i.t0===Z.ITEM_ADD_TO_VIDEO_TYPE.IMAGE?17:i.t0===Z.ITEM_ADD_TO_VIDEO_TYPE.SUBTITLE?21:i.t0===Z.ITEM_ADD_TO_VIDEO_TYPE.SLIDE_VIDEO?23:27;break;case 9:return s=(s=e.data.listVideo).filter(function(t){return t.id!=a.id}),e.data.listVideo=s,i.abrupt("break",27);case 13:return o=(o=e.data.listText).filter(function(t){return t.id!=a.id}),e.data.listText=o,i.abrupt("break",27);case 17:return r=(r=e.data.listImage).filter(function(t){return t.id!=a.id}),e.data.listImage=r,i.abrupt("break",27);case 21:return e.data.subtitle={data:null,type:null},i.abrupt("break",27);case 23:return l=(l=e.data.listSlideVideo).filter(function(t){return t.id!=a.id}),e.data.listSlideVideo=l,i.abrupt("break",27);case 27:e.$store.dispatch("updateTempArray",e.tempArray),e.keyUpdate++;case 29:case"end":return i.stop()}},i,e)}))()},onClickEye:function(t){var e=this.tempArray[t];switch(this.tempArray[t].isShow=!this.tempArray[t].isShow,e.type){case Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO:var i=this.data.listVideo;i=i.map(function(t){return t.id===e.id?m()({},t,{isShow:!t.isShow}):t}),this.data.listVideo=i;break;case Z.ITEM_ADD_TO_VIDEO_TYPE.TEXT:var a=this.data.listText;a=a.map(function(t){return t.id===e.id?m()({},t,{isShow:!t.isShow}):t}),this.data.listText=a;break;case Z.ITEM_ADD_TO_VIDEO_TYPE.IMAGE:var s=this.data.listImage;s=s.map(function(t){return t.id===e.id?m()({},t,{isShow:!t.isShow}):t}),this.data.listImage=s;break;case Z.ITEM_ADD_TO_VIDEO_TYPE.SUBTITLE:var n=this.data.subtitle.data;n=m()({},n,{isShow:!n.isShow}),this.data.subtitle.data=n;break;case Z.ITEM_ADD_TO_VIDEO_TYPE.SLIDE_VIDEO:var o=this.data.listSlideVideo;o=o.map(function(t){return t.id===e.id?m()({},t,{isShow:!t.isShow}):t}),this.data.listSlideVideo=o;break;case Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO_MAIN:this.data.video.isShow=!this.data.video.isShow}this.$store.dispatch("updateTempArray",this.tempArray),this.keyUpdate++},onMoveTempArray:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("updateTempArray",t.tempArray);case 1:case"end":return e.stop()}},e,t)}))()}},components:{draggable:de.a}},ii={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.keyUpdate,staticClass:"container-list-item"},[i("draggable",{on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},change:t.onMoveTempArray},model:{value:t.tempArray,callback:function(e){t.tempArray=e},expression:"tempArray"}},t._l(t.$store.state.tempArray,function(e,a){return i("div",{key:a},[i("div",{staticClass:"item py-2 my-2"},[i("div",{staticClass:"row col-12 reset"},[i("div",{staticClass:"circle-number mx-2"},[t._v(t._s(a+1))]),t._v(" "),i("div",{staticStyle:{width:"70%","word-break":"break-word"}},[i("div",{staticClass:"text-content text-left truncate-text"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.type)+":")]),t._v("\n              "+t._s(e.value)+"\n            ")])]),t._v(" "),i("div",{staticClass:"mx-3"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!item.isShow"}],staticClass:"fad fa-eye",on:{click:function(e){return t.onClickEye(a)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"item.isShow"}],staticClass:"fad fa-eye-slash",on:{click:function(e){return t.onClickEye(a)}}})]),t._v(" "),"VIDEO_MAIN"!==e.type?i("div",[i("i",{staticClass:"fal fa-minus-circle",on:{click:function(e){return t.onDeleteItem(a)}}})]):t._e()])])])}),0)],1)},staticRenderFns:[]};var ai={components:{Project:fe,AddText:Ce,AddAudio:Je,AddVoice:ti,AddImage:Ve,AddVideo:ke,Subtitle:Be,SlideVideo:he,ListItemAdded:i("VU/8")(ei,ii,!1,function(t){i("p7cx")},"data-v-f09c8bcc",null).exports},props:["indexLeftItemActive","data","currentTimeVideo","layoutMain"],data:function(){return{}},methods:{onReplaceVideo:function(){this.$emit("onReplaceVideo")}}},si={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap-left-content"},[i("div",{staticClass:"left-content-item p-3"},[0==t.indexLeftItemActive?i("project",{attrs:{project:t.data.project},on:{onReplaceVideo:t.onReplaceVideo}}):t._e(),t._v(" "),1==t.indexLeftItemActive?i("add-text",{attrs:{listText:t.data.listText,videoLength:t.data.video?t.data.video.duration.value:0,currentTimeVideo:t.currentTimeVideo,layoutMain:t.layoutMain}}):t._e(),t._v(" "),7==t.indexLeftItemActive?i("subtitle",{attrs:{subtitle:t.data.subtitle,currentTimeVideo:t.currentTimeVideo,videoLength:t.data.video?t.data.video.duration.value:0,layoutMain:t.layoutMain}}):t._e(),t._v(" "),3==t.indexLeftItemActive?i("add-audio",{attrs:{audioData:t.data.audio,videoLength:t.data.video?t.data.video.duration.value:0}}):t._e(),t._v(" "),10==t.indexLeftItemActive?i("add-voice",{attrs:{voiceAudio:t.data.voiceAudio,videoLength:t.data.video?t.data.video.duration.value:0}}):t._e(),t._v(" "),4==t.indexLeftItemActive?i("add-image",{attrs:{listImage:t.data.listImage,videoLength:t.data.video?t.data.video.duration.value:0,currentTimeVideo:t.currentTimeVideo,layoutMain:t.layoutMain}}):t._e(),t._v(" "),6==t.indexLeftItemActive?i("add-video",{attrs:{listVideo:t.data.listVideo,videoLength:t.data.video?t.data.video.duration.value:0,currentTimeVideo:t.currentTimeVideo,layoutMain:t.layoutMain}}):t._e(),t._v(" "),9==t.indexLeftItemActive?i("SlideVideo",{attrs:{currentTimeVideo:t.currentTimeVideo,videoLength:t.data.video?t.data.video.duration.value:0,listSlideVideo:t.data.listSlideVideo,layoutMain:t.layoutMain}}):t._e(),t._v(" "),11==t.indexLeftItemActive?i("ListItemAdded",{attrs:{data:t.data}}):t._e()],1)])},staticRenderFns:[]};var ni=i("VU/8")(ai,si,!1,function(t){i("zery")},"data-v-247fd36f",null).exports,oi=function(){return I.get("/api/v1/layout/get-layout")},ri=function(t){return I.post("/api/v1/layout/create-layout",t,{timeout:36e5,headers:{headers:{"Content-Type":"multipart/form-data"}}})},li=function(t){return I.post("/api/v1/layout/save-layout",t,{timeout:36e5,headers:{headers:{"Content-Type":"multipart/form-data"}}})},ci=function(t){return I.post("/api/v1/layout/delete-layout",t)},di={data:function(){return{listLayout:[],idLayoutSelected:null,newConfigName:null}},props:["data"],methods:{getDataConfig:function(){var t=this.data.listImage.map(function(t){return m()({},t,{file:null})}),e=this.data.listVideo.map(function(t){return m()({},t,{file:null})}),i=this.data.audio.listAudio.map(function(t){return m()({},t,{file:null})}),a=this.data.listSlideVideo.map(function(t){var e=t.listItem.map(function(t){return m()({},t,{file:null})});return m()({},t,{listItem:e})}),s=this.$store.state.tempArray,n=m()({},this.data.video,{file:null});return this.data.project.isSaveVideoBackground||(n=m()({},n,{url:null,path:null})),{name:this.newConfigName,data:{video:n,project:this.data.project,listText:this.data.listText,listImage:t,audio:m()({},this.data.audio,{listAudio:i}),listVideo:e,voiceAudio:{isAddVoice:this.data.voiceAudio.isAddVoice,listVoice:[]},listSlideVideo:a,subtitle:this.data.subtitle,orderAddedItem:s}}},getPayload:function(){var t=this.getDataConfig(),e=new FormData;e.append("layoutId",this.idLayoutSelected),e.append("typeUpload",Z.UPLOAD_FILE_TYPE.LAYOUT_SIMPLE_EDIT),e.append("data",Dt()(t)),this.data.project.isSaveVideoBackground&&this.data.video.file&&"local"==this.data.video.typeUrl&&e.append("video",this.data.video.file,this.data.video.id),this.data.listImage.map(function(t){t.file&&e.append("listImage",t.file,t.id)}),this.data.listVideo.map(function(t){t.file&&e.append("listVideo",t.file,t.id)}),this.data.audio.listAudio.map(function(t){t.file&&e.append("listAudio",t.file,t.id)});for(var i=0;i<this.data.listSlideVideo.length;i++){var a=this.data.listSlideVideo[i];if(a.isSave)for(var s=0;s<a.listItem.length;s++){var n=a.listItem[s];"local"==n.typeUrl&&n.file&&n.file&&n.file.name&&e.append("slideVideo",n.file,n.id)}}return e},onCreateLayout:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("setLoading",!0),e.prev=1,i=t.getPayload(),e.next=5,ri(i);case 5:if((a=e.sent)&&200===a.status){if((s=JSON.parse(a.data.newLayout.data)).listSlideVideo)for(o=0;o<s.listSlideVideo.length;o++)(r=s.listSlideVideo[o]).isSave||(r.listItem=t.data.listSlideVideo[o].listItem),s.listSlideVideo[o]=r;l=s.video,!s.project.isSaveVideoBackground&&t.data.video&&"local"===t.data.video.typeUrl&&(l.url=t.data.video.url,l.file=t.data.video.file),c=m()({},t.data,s,{video:l}),t.$emit("setData",c),t.$refs.modalCreateLayout.hide(),t.idLayoutSelected=a.data.newLayout._id,t.$notify({type:"success",title:"Thành Công"})}else t.$notify({type:"error",title:"Lỗi: "+a.data.message});return e.next=9,t.getLayouts();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(" ## error: ",e.t0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 15:t.newConfigName="",t.$emit("setLoading",!1);case 17:case"end":return e.stop()}},e,t,[[1,11]])}))()},onSaveLayout:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("setLoading",!0),e.prev=1,i=t.getPayload(),e.next=5,li(i);case 5:if((a=e.sent)&&200===a.status){if(t.$notify({type:"success",title:"Thành Công"}),(s=JSON.parse(a.data.newLayout.data)).listSlideVideo)for(o=0;o<s.listSlideVideo.length;o++)(r=s.listSlideVideo[o]).isSave||(r.listItem=t.data.listSlideVideo[o].listItem),s.listSlideVideo[o]=r;l=s.video,!s.project.isSaveVideoBackground&&t.data.video&&"local"===t.data.video.typeUrl&&(l.url=t.data.video.url,l.file=t.data.video.file),c=m()({},t.data,s,{video:l}),t.$emit("setData",c)}return e.next=9,t.getLayouts();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.$notify({type:"error",titile:"Lỗi: "+e.t0.message});case 14:t.$emit("setLoading",!1);case 15:case"end":return e.stop()}},e,t,[[1,11]])}))()},onDeleteLayout:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.listLayout.find(function(e){return e._id===t.idLayoutSelected}),e.next=3,t.$swal.fire({title:"Xóa Layout",html:"Xác nhận xóa layout <b>"+i.name+"</b> ?",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0});case 3:if(!e.sent.value){e.next=25;break}return t.$emit("setLoading",!0),e.prev=6,e.next=9,ci({idLayout:t.idLayoutSelected});case 9:if(!(a=e.sent)||200!=a.status){e.next=19;break}return e.next=13,t.getLayouts();case 13:t.$notify({type:"success",title:"Xóa Thành Công"}),t.idLayoutSelected=null,(s=t.data.video)&&"local"==s.typeUrl&&s.file||(s=null),t.$emit("resetData",s),t.$store.dispatch("updateTempArray",[]);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),t.$notify({type:"error",title:"Lỗi Xóa Layout: "+e.t0.message});case 24:t.$emit("setLoading",!1);case 25:case"end":return e.stop()}},e,t,[[6,21]])}))()},getLayouts:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi();case 3:(i=e.sent)&&200===i.status&&i.data.listLayout&&(a=i.data.listLayout,t.$store.dispatch("setListLayout",i.data.listLayout),a=a.map(function(t){return m()({},t,{data:JSON.parse(t.data)})}),t.listLayout=a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi lấy danh sách Layout: "+e.t0.message});case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},onChangeLayout:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("setLoading",!0),event.target.value?(i=t.listLayout.find(function(t){return t._id===event.target.value}))&&(a=t.data.video,i.data.video?(a=i.data.video,!i.data.project.isSaveVideoBackground&&t.data.video&&"local"===t.data.video.typeUrl&&(a.url=t.data.video.url,a.file=t.data.video.file)):a&&"local"==a.typeUrl&&a.file||(a=null),s=m()({},t.data,i.data,{video:a}),t.$emit("setData",s),t.$store.dispatch("updateTempArray",i.data.orderAddedItem?i.data.orderAddedItem:[])):((o=t.data.video)&&"local"==o.typeUrl&&o.file||(o=null),t.$emit("resetData",o),t.$store.dispatch("updateTempArray",[])),t.$emit("setLoading",!1);case 3:case"end":return e.stop()}},e,t)}))()}},mounted:function(){var t=this.$store.state.data.listLayout;t=t.map(function(t){return m()({},t,{data:JSON.parse(t.data)})}),this.listLayout=t}},ui={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-layout py-2"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.idLayoutSelected,expression:"idLayoutSelected"}],staticClass:"input-style",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.idLayoutSelected=e.target.multiple?i:i[0]},t.onChangeLayout]}},[i("option",{attrs:{selected:""},domProps:{value:null}},[t._v("Chọn layout")]),t._v(" "),t._l(t.listLayout,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n      "+t._s(e.name)+"\n    ")])})],2),t._v(" "),t.idLayoutSelected?i("a",{staticClass:"mx-2 btn-edit",on:{click:t.onSaveLayout}},[t._m(1)]):i("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:" btn-create-channel"},[t._m(0)]),t._v(" "),t.idLayoutSelected?i("a",{staticClass:"btn-delete",on:{click:t.onDeleteLayout}},[t._m(2)]):t._e(),t._v(" "),i("b-modal",{ref:"modalCreateLayout",attrs:{id:"modal-1",title:"Tạo layout"},on:{ok:t.onCreateLayout}},[i("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onCreateLayout(e)}}},[i("b-form-group",{attrs:{label:"Tên layout:"}},[i("b-form-input",{attrs:{type:"text",required:"",placeholder:"Tên layout"},model:{value:t.newConfigName,callback:function(e){t.newConfigName=e},expression:"newConfigName"}})],1)],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-button-layout px-2"},[e("i",{staticClass:"fal fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-button-layout px-2"},[e("i",{staticClass:"fal fa-save"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-button-layout px-2"},[e("i",{staticClass:"fal fa-trash-alt"})])}]};var vi=i("VU/8")(di,ui,!1,function(t){i("nIV5")},"data-v-54ab32fc",null).exports,hi={props:["data","layoutMainWidth","layoutMainHeight","videoMain"],data:function(){return{keyUpdateItem:0,isActive:!1,reqId:null}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.data.video.id});return e+=4},getWithItem:function(){var t=this.data.video.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.data.video.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.data.video.x*this.layoutMainWidth},getYItem:function(){return this.data.video.y*this.layoutMainHeight},getCssVideo:function(){var t=this,e="";this.data.project.flip.horizontal&&(e+=" scaleX(-1)"),this.data.project.flip.vertical&&(e+=" scaleY(-1)");var i=this.$store.state.tempArray.findIndex(function(e){return e.id===t.data.video.id});return i+=3,{width:this.data.video.width*this.layoutMainWidth+"px",height:this.data.video.height*this.layoutMainHeight+"px",position:"absolute",top:this.data.video.y*this.layoutMainHeight+"px",left:this.data.video.x*this.layoutMainWidth+"px",transform:e,zIndex:i}}},watch:{"data.project.speed":function(){this.data.project.speed/100>.0625&&(this.$refs.videoMain.playbackRate=this.data.project.speed/100)},"data.project.volume":function(){this.$refs.videoMain.volume=this.data.project.volume/100},"data.project.keepRatio":function(){if(1==this.data.project.keepRatio){var t=(this.data.video.width,this.layoutMainWidth),e=this.data.video.height*this.layoutMainHeight;t=this.data.video.resolution.width/this.data.video.resolution.height*e,this.data.video.width=t/this.layoutMainWidth,this.keyUpdateItem++}},layoutMainWidth:function(){this.keyUpdateItem++},"videoMain.isPlay":function(){this.videoMain.isPlay?this.$refs.videoMain.play():this.$refs.videoMain.pause()},"videoMain.currentTime":function(){}},methods:{onEndVideo:function(){this.videoMain.isPlay=!1},startTracking:function(t){var e=this;this.reqId=requestAnimationFrame(function i(){var a=t.target.currentTime;a=parseFloat(a.toFixed(2)),e.videoMain.currentTime=a,e.reqId=requestAnimationFrame(i)})},stopTracking:function(){this.reqId&&cancelAnimationFrame(this.reqId)},updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onVideoLoaded:function(){this.videoMain.currentTime=0},OnTimeUpdate:function(t){parseFloat(t.target.currentTime.toFixed(2))},OnPause:function(t){},onSeeked:function(){},onSeeking:function(){},onResize:function(t,e,i,a){event.stopPropagation(),this.data.video.x=t/this.layoutMainWidth,this.data.video.y=e/this.layoutMainHeight,this.data.video.width=i/this.layoutMainWidth,this.data.video.height=a/this.layoutMainHeight},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.data.video.x=t/this.layoutMainWidth,this.data.video.y=e/this.layoutMainHeight,this.data.video.width=i/this.layoutMainWidth,this.data.video.height=a/this.layoutMainHeight},onDragStop:function(t,e){event.stopPropagation(),this.data.video.x=t/this.layoutMainWidth,this.data.video.y=e/this.layoutMainHeight},onDrag:function(t,e){event.stopPropagation(),this.data.video.x=t/this.layoutMainWidth,this.data.video.y=e/this.layoutMainHeight}}},pi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data.video.isShow?i("div",{attrs:{name:"VideoItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{w:t.getWithItem,h:t.getHeightItem,"min-width":50,"min-height":50,x:t.getXItem,y:t.getYItem,"class-name-active":"drag-resize-item-active","class-name":"drag-resize-item","lock-aspect-ratio":t.data.project.keepRatio,z:t.getIndexItemResize,active:t.isActive},on:{dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop,deactivated:t.onDeactiveItem}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"}},[i("video",{ref:"videoMain",staticStyle:{"object-fit":"fill",width:"100%",height:"100%","z-index":"1"},style:t.getCssVideo,attrs:{id:t.data.video.id,src:t.data.video.url},on:{seeked:t.onSeeked,seeking:t.onSeeking,timeupdate:t.OnTimeUpdate,loadeddata:t.onVideoLoaded,ended:t.onEndVideo,play:t.startTracking,pause:t.stopTracking}}),t._v(" "),i("div",{staticClass:"item-right-content",style:t.getCssVideo,on:{click:t.onActiveItem}})])],1):t._e()},staticRenderFns:[]};var mi={props:["layoutMainWidth","layoutMainHeight","itemData"],data:function(){return{keyUpdateItem:0,isActive:!1,cssWrapper:null}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=4},getTextContent:function(){return this.itemData.content?this.itemData.content.replace(/\n/g,"<br />"):"New Text"},getWithItem:function(){var t=this.itemData.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.itemData.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.itemData.x*this.layoutMainWidth},getYItem:function(){return this.itemData.y*this.layoutMainHeight},getCssItem:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});e+=3;var i={letterSpacing:this.itemData.spacing.size*this.layoutMainWidth+"px",fontSize:this.itemData.fontsize*this.layoutMainWidth+"px",color:"rgba(\n          "+this.itemData.color.rgb.r+",\n          "+this.itemData.color.rgb.g+",\n          "+this.itemData.color.rgb.b+",\n          "+this.itemData.color.opacity/100+"\n        )",backgroundColor:"rgba(\n          "+this.itemData.background.color.rgb.r+",\n          "+this.itemData.background.color.rgb.g+",\n          "+this.itemData.background.color.rgb.b+",\n          "+this.itemData.background.color.opacity/100+"\n        )",fontFamily:this.itemData.fontfamily,textTransform:this.itemData.texttransform,textShadow:Et.a.generateStroke(this.itemData.stroke.size*this.layoutMainWidth,"rgba(\n            "+this.itemData.stroke.color.rgb.r+",\n            "+this.itemData.stroke.color.rgb.g+",\n            "+this.itemData.stroke.color.rgb.b+",\n            "+this.itemData.stroke.color.opacity/100+"\n          )"),width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",position:"absolute",top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e};return this.cssWrapper=m()({},i,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.fontsize*this.layoutMainWidth+"px"}),i},getCssItemHolder:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=3,{top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e,width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",position:"absolute",lineHeight:"1.3em"}}},beforeUpdate:function(){this.cssWrapper=m()({},this.cssWrapper,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.fontsize*this.layoutMainWidth+"px"})},updated:function(){},mounted:function(){this.cssWrapper=m()({},this.cssWrapper,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.$refs.textItem.clientHeight+"px"})},watch:{layoutMainWidth:function(){this.itemData.fontsizeDisplay=Math.floor(this.itemData.fontsize*this.layoutMainWidth),this.itemData.stroke.sizeDisplay=(this.itemData.stroke.size*this.layoutMainWidth).toFixed(1),this.itemData.spacing.sizeDisplay=(this.itemData.spacing.size*this.layoutMainWidth).toFixed(1),this.keyUpdateItem++}},methods:{updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onResize:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onResizeStop:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onDragStop:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()},onDrag:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()}}},fi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData.isShow?i("div",{attrs:{name:"TextItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{w:t.getWithItem,h:t.getHeightItem,x:t.getXItem,y:t.getYItem,active:t.isActive,z:t.getIndexItemResize,minWidth:10,minHeight:10,"class-name-active":"drag-resize-item-active","class-name":"drag-resize-item"},on:{deactivated:t.onDeactiveItem,dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"}},[i("div",{ref:"textItem",staticStyle:{display:"flex","align-items":"flex-end","justify-content":"center","text-align":"center"},style:t.getCssItem,attrs:{id:t.itemData.id},domProps:{innerHTML:t._s(t.getTextContent)}}),t._v(" "),i("div",{staticClass:"item-right-content",style:t.getCssItemHolder,on:{click:t.onActiveItem}})])],1):t._e()},staticRenderFns:[]};var gi={props:["layoutMainWidth","layoutMainHeight","itemData"],data:function(){return{keyUpdateItem:0,isActive:!1}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=4},getTextContent:function(){return this.itemData.content?this.itemData.content.replace(/\n/g,"<br />"):"New Text"},getWithItem:function(){var t=this.itemData.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.itemData.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.itemData.x*this.layoutMainWidth},getYItem:function(){return this.itemData.y*this.layoutMainHeight},getCssItem:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=3,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e,position:"absolute"}}},watch:{layoutMainWidth:function(){this.keyUpdateItem++}},methods:{updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onResize:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,this.checkPosition(),event.stopPropagation()},onResizeStop:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,this.checkPosition(),event.stopPropagation()},onDragStop:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.checkPosition(),event.stopPropagation()},onDrag:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.checkPosition(),event.stopPropagation()},checkPosition:function(){},checkValue:function(t){return t<.006&&t>-.006&&(t=0),t}}},_i={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData.isShow?i("div",{attrs:{name:"ImageItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{w:t.getWithItem,h:t.getHeightItem,x:t.getXItem,y:t.getYItem,minWidth:10,minHeight:10,"class-name-active":"drag-resize-item-active","class-name":"drag-resize-item",z:t.getIndexItemResize,active:t.isActive},on:{dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop,deactivated:t.onDeactiveItem}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"},attrs:{id:t.itemData.id}},[i("img",{style:t.getCssItem,attrs:{src:t.itemData.url}}),t._v(" "),i("div",{staticClass:"item-right-content",style:t.getCssItem,on:{click:t.onActiveItem}})])],1):t._e()},staticRenderFns:[]};var bi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{name:"AudioItem"}},[e("audio",{attrs:{src:this.itemData.url,hidden:""}})])},staticRenderFns:[]};var yi={props:["layoutMainWidth","layoutMainHeight","itemData"],data:function(){return{keyUpdateItem:0,isActive:!1}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=4},getWithItem:function(){var t=this.itemData.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.itemData.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.itemData.x*this.layoutMainWidth},getYItem:function(){return this.itemData.y*this.layoutMainHeight},getCssVideo:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=3,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e,position:"absolute"}}},watch:{layoutMainWidth:function(){this.keyUpdateItem++}},methods:{updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onResize:function(t,e,i,a){event.stopPropagation(),this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight},onDragStop:function(t,e){event.stopPropagation(),this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight},onDrag:function(t,e){event.stopPropagation(),this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight}}},Ci={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData.isShow?i("div",{attrs:{name:"VideoItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{active:t.isActive,z:t.getIndexItemResize,w:t.getWithItem,h:t.getHeightItem,"min-width":50,"min-height":50,x:t.getXItem,y:t.getYItem,minWidth:10,minHeight:10,type:"video","class-name-active":"drag-resize-item-active","class-name":"drag-resize-item"},on:{dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop,deactivated:t.onDeactiveItem}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"}},[i("video",{ref:"video",staticStyle:{"object-fit":"fill",width:"100%",height:"100%","z-index":"1"},style:t.getCssVideo,attrs:{id:"video",type:"video",src:t.itemData.url},on:{click:t.onActiveItem}}),t._v(" "),i("div",{staticClass:"item-right-content",style:t.getCssVideo,on:{click:t.onActiveItem}})])],1):t._e()},staticRenderFns:[]};var xi={props:["layoutMainWidth","layoutMainHeight","itemData"],data:function(){return{keyUpdateItem:0,isActive:!1}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=4},getTextContent:function(){return this.itemData.content?this.itemData.content.replace(/\n/g,"<br />"):"New Text"},getWithItem:function(){var t=this.itemData.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.itemData.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.itemData.x*this.layoutMainWidth},getYItem:function(){return this.itemData.y*this.layoutMainHeight},getCssItemHolder:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=3,{top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e,width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",position:"absolute"}},getContentHTML:function(){var t="";"AUTO"===this.itemData.opaqueBoxType&&(t='style="background-color: rgba('+this.itemData.shadow.color.rgb.r+","+this.itemData.shadow.color.rgb.g+","+this.itemData.shadow.color.rgb.b+","+this.itemData.shadow.color.opacity/100+')"');var e="<span "+t+">";return this.itemData.content.split("\n\n").map(function(t,i){e+='<span class="reset" >'+t.replace("\n","</br>")+"</span>\n\n"}),e+="</span>",this.itemData.contentHtml=e.trim(),e.trim()},getCssItem:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});e+=3;var i=Et.a.generateStroke(this.itemData.stroke.size*this.layoutMainWidth,"rgba(\n            "+this.itemData.stroke.color.rgb.r+",\n            "+this.itemData.stroke.color.rgb.g+",\n            "+this.itemData.stroke.color.rgb.b+",\n            "+this.itemData.stroke.color.opacity/100+"\n          )","subtitle");this.itemData.shadow&&this.itemData.shadow.size&&(i+=","+this.itemData.shadow.size*this.layoutMainWidth+"px "+this.itemData.shadow.size*this.layoutMainWidth+"px 0px rgba(\n            "+this.itemData.shadow.color.rgb.r+",\n            "+this.itemData.shadow.color.rgb.g+",\n            "+this.itemData.shadow.color.rgb.b+",\n            "+this.itemData.shadow.color.opacity/100+"\n          )");var a={justifyContent:"center"};return 1==this.itemData.position||4==this.itemData.position||7==this.itemData.position?a.textAlign="start":2==this.itemData.position||5==this.itemData.position||8==this.itemData.position?a.textAlign="center":3!=this.itemData.position&&6!=this.itemData.position&&9!=this.itemData.position||(a.textAlign="end"),1==this.itemData.position||2==this.itemData.position||3==this.itemData.position?a.justifyContent="flex-end":4==this.itemData.position||5==this.itemData.position||6==this.itemData.position?a.justifyContent="center":7!=this.itemData.position&&8!=this.itemData.position&&9!=this.itemData.position||(a.justifyContent="flex-start"),console.log(" ######## this.itemData.opaqueBoxType: ",this.itemData.opaqueBoxType),m()({},a,{top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e,width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",position:"absolute",fontSize:this.itemData.fontsize*this.layoutMainWidth+"px",color:"rgba(\n          "+this.itemData.color.rgb.r+",\n          "+this.itemData.color.rgb.g+",\n          "+this.itemData.color.rgb.b+",\n          "+this.itemData.color.opacity/100+"\n        )",fontFamily:this.itemData.fontfamily,textTransform:this.itemData.texttransform,textShadow:i,backgroundColor:this.itemData.opaqueBox&&"FIXED"===this.itemData.opaqueBoxType?"rgba(\n            "+this.itemData.shadow.color.rgb.r+",\n            "+this.itemData.shadow.color.rgb.g+",\n            "+this.itemData.shadow.color.rgb.b+",\n            "+this.itemData.shadow.color.opacity/100+"\n          )":null,fontStyle:-1===this.itemData.style.italic?"italic":null,fontWeight:-1===this.itemData.style.bold?"bold":null,textDecoration:-1===this.itemData.style.underline||-1===this.itemData.style.strikeout?(-1===this.itemData.style.underline?"underline":"")+" "+(-1===this.itemData.style.strikeout?"line-through":""):null})}},watch:{layoutMainWidth:function(){this.itemData.fontsizeDisplay=Math.floor(this.itemData.fontsize*this.layoutMainWidth),this.itemData.stroke.sizeDisplay=(this.itemData.stroke.size*this.layoutMainWidth).toFixed(1),this.itemData.shadow.sizeDisplay=(this.itemData.shadow.size*this.layoutMainWidth).toFixed(1),this.keyUpdateItem++}},methods:{updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onResize:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onResizeStop:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onDragStop:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()},onDrag:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()}}},wi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData.isShow&&"NONE"!==t.itemData.type?i("div",{attrs:{name:"SubtitleVoiceItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{w:t.getWithItem,h:t.getHeightItem,x:t.getXItem,y:t.getYItem,active:t.isActive,z:t.getIndexItemResize,minWidth:10,minHeight:10,"class-name-active":"drag-resize-item-active","class-name":"drag-resize-item"},on:{deactivated:t.onDeactiveItem,dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"}},[i("div",{staticClass:"text-box",staticStyle:{"flex-direction":"column"},style:t.getCssItem,attrs:{id:t.itemData.id,type:"autoSubtitle"},domProps:{innerHTML:t._s(t.getContentHTML)},on:{click:t.onActiveItem}}),t._v(" "),i("div",{staticClass:"item-right-content",style:t.getCssItemHolder,on:{click:t.onActiveItem}})])],1):t._e()},staticRenderFns:[]};var ki={props:["layoutMainWidth","layoutMainHeight","itemData"],data:function(){return{keyUpdateItem:0,isActive:!1}},computed:{getIndexItemResize:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=4},getTextContent:function(){return this.itemData.content?this.itemData.content.replace(/\n/g,"<br />"):"New Text"},getWithItem:function(){var t=this.itemData.width*this.layoutMainWidth;return 0===t?void 0:t},getHeightItem:function(){var t=this.itemData.height*this.layoutMainHeight;return 0===t?void 0:t},getXItem:function(){return this.itemData.x*this.layoutMainWidth},getYItem:function(){return this.itemData.y*this.layoutMainHeight},getCssItem:function(){var t=this,e=this.$store.state.tempArray.findIndex(function(e){return e.id===t.itemData.id});return e+=3,{width:this.itemData.width*this.layoutMainWidth+"px",height:this.itemData.height*this.layoutMainHeight+"px",top:this.itemData.y*this.layoutMainHeight+"px",left:this.itemData.x*this.layoutMainWidth+"px",zIndex:e}}},watch:{layoutMainWidth:function(){this.keyUpdateItem++}},methods:{updateItem:function(){this.keyUpdateItem++},onActiveItem:function(){this.isActive=!0},onDeactiveItem:function(){this.isActive=!1},onResize:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onResizeStop:function(t,e,i,a){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,this.itemData.width=i/this.layoutMainWidth,this.itemData.height=a/this.layoutMainHeight,event.stopPropagation()},onDragStop:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()},onDrag:function(t,e){this.itemData.x=t/this.layoutMainWidth,this.itemData.y=e/this.layoutMainHeight,event.stopPropagation()}}},Si={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData.isShow?i("div",{attrs:{name:"SlideVideoItem"}},[t.isActive?i("vue-draggable-resizable",{key:t.keyUpdateItem,attrs:{w:t.getWithItem,h:t.getHeightItem,x:t.getXItem,y:t.getYItem,minWidth:10,minHeight:10,z:t.getIndexItemResize,active:t.isActive,"class-name-active":"drag-resize-item-active","class-name":"drag-resize-item"},on:{dragging:t.onDrag,dragstop:t.onDragStop,resizing:t.onResize,resizestop:t.onResizeStop,deactivated:t.onDeactiveItem}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})]):t._e(),t._v(" "),i("div",{staticStyle:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"}},[i("div",{staticClass:"slide-item-right-content",style:t.getCssItem,on:{click:t.onActiveItem}},[t._v("\n      "+t._s(t.itemData.name)+"\n    ")])])],1):t._e()},staticRenderFns:[]};var Ti={components:{VideoMain:i("VU/8")(hi,pi,!1,function(t){i("alY6")},null,null).exports,TextItem:i("VU/8")(mi,fi,!1,function(t){i("KG06")},null,null).exports,ImageItem:i("VU/8")(gi,_i,!1,function(t){i("ZBxE")},null,null).exports,AudioItem:i("VU/8")({props:["itemData"],data:function(){return{}}},bi,!1,function(t){i("s1/M")},null,null).exports,VideoItem:i("VU/8")(yi,Ci,!1,function(t){i("90Hn")},null,null).exports,SubtitleVoiceItem:i("VU/8")(xi,wi,!1,function(t){i("E3Fi")},null,null).exports,SlideVideoItem:i("VU/8")(ki,Si,!1,function(t){i("Ua8j")},null,null).exports},props:["data","videoMain"],data:function(){return{containerWidth:0,containerHeight:0,layoutMainWidth:0,layoutMainHeight:0}},mounted:function(){window.addEventListener("resize",this.onResizeWindow);var t=this.$refs.containerEditVideo;this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight},computed:{getStyleLayoutMain:function(){var t=void 0,e=void 0,i=void 0;return i="default"===this.data.project.ratio?this.data.video.resolution.width/this.data.video.resolution.height:this.data.project.ratio,this.containerWidth&&this.containerHeight&&i?(this.containerWidth>this.containerHeight||this.containerWidth===this.containerHeight&&i>1?(e=this.containerHeight,t=this.containerHeight*i):(e=this.containerWidth/i,t=this.containerWidth),t>this.containerWidth&&(e=(t=this.containerWidth)/i),e>this.containerHeight&&(t=(e=this.containerHeight)*i),this.layoutMainWidth=t,this.layoutMainHeight=e,this.$emit("setLayoutMain",t,e),{width:t+"px",height:e+"px",position:"relative",backgroundColor:"rgba(\n          "+this.data.project.background.rgb.r+",\n          "+this.data.project.background.rgb.g+",\n          "+this.data.project.background.rgb.b+",\n          "+this.data.project.background.opacity/100+"\n        )"}):""}},methods:{checkShowItem:function(t){var e=this.videoMain.currentTime;if(t.isShow){if(t.isFullVideo)return!0;if(t.startTime<=e){if(e>=t.startTime&&e<=t.startTime+t.showTime)return!0;if(t.repeatCount&&t.repeatCount>0)for(var i=t.startTime+t.showTime+t.repeatTime,a=1;a<=t.repeatCount;a++){if(e>=i&&e<=i+t.showTime)return!0;i+=t.showTime+t.repeatTime}}}return!1},setCurrentTimeVideo:function(t){this.$emit("setCurrentTimeVideo",t)},onResizeWindow:function(){var t=this.$refs.containerEditVideo;t&&t.clientWidth&&t.clientHeight&&(this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight)}},destroyed:function(){window.removeEventListener("resize",this.onResizeWindow)}},Vi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"containerEditVideo",staticClass:"container-right-content"},[i("div",{staticClass:"wrapper-content"},[i("div",{style:t.getStyleLayoutMain},[i("VideoMain",{attrs:{data:t.data,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight,videoMain:t.videoMain}}),t._v(" "),t._l(t.data.listText,function(e){return i("TextItem",{directives:[{name:"show",rawName:"v-show",value:t.checkShowItem(e),expression:"checkShowItem(item)"}],key:e.id,attrs:{itemData:e,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight}})}),t._v(" "),t._l(t.data.listImage,function(e){return i("ImageItem",{directives:[{name:"show",rawName:"v-show",value:t.checkShowItem(e),expression:"checkShowItem(item)"}],key:e.id,attrs:{itemData:e,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight}})}),t._v(" "),t._l(t.data.audio.listAudio,function(t){return i("AudioItem",{key:t.id,attrs:{itemData:t}})}),t._v(" "),t._l(t.data.voiceAudio.listVoice,function(t){return i("AudioItem",{key:t.id,attrs:{itemData:t}})}),t._v(" "),t._l(t.data.listVideo,function(e){return i("VideoItem",{directives:[{name:"show",rawName:"v-show",value:t.checkShowItem(e),expression:"checkShowItem(item)"}],key:e.id,attrs:{itemData:e,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight}})}),t._v(" "),!t.data.subtitle.data||"SUBTITLE_VOICE"!==t.data.subtitle.type&&"REVIEW_SUBTITLE_VOICE"!==t.data.subtitle.type?t._e():i("SubtitleVoiceItem",{attrs:{itemData:t.data.subtitle.data,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight}}),t._v(" "),t._l(t.data.listSlideVideo,function(e){return i("SlideVideoItem",{directives:[{name:"show",rawName:"v-show",value:t.checkShowItem(e),expression:"checkShowItem(item)"}],key:e.id,attrs:{itemData:e,layoutMainWidth:t.layoutMainWidth,layoutMainHeight:t.layoutMainHeight}})})],2)])])},staticRenderFns:[]};var Ii=i("VU/8")(Ti,Vi,!1,function(t){i("VzBL")},"data-v-79188670",null).exports,Di=i("Zu7s"),Ei=function(){function t(){u()(this,t)}return h()(t,null,[{key:"getProfiles",value:function(){return I.get("/api/v1/profile-render/get-profiles")}},{key:"findProfile",value:function(t){return I.post("/api/v1/profile-render/find-profile",t)}},{key:"createProfile",value:function(t){return I.post("/api/v1/profile-render/create-profile",t)}},{key:"deleteProfile",value:function(t){return I.post("/api/v1/profile-render/delete-profile",t)}}]),t}(),Li={name:"modal-create-profile",components:{Loading:c.a},data:function(){return{profile:{name:"",width:1280,height:720,bitrateVideo:4e3,bitrateAudio:192,fps:30,crf:18,deinterlace:!0,preset:"medium"},presetOptions:[{value:"ultrafast",text:"ultrafast"},{value:"superfast",text:"superfast"},{value:"veryfast",text:"veryfast"},{value:"faster",text:"faster"},{value:"fast",text:"fast"},{value:"medium",text:"medium"},{value:"slow",text:"slow"},{value:"slower",text:"slower"},{value:"veryslow",text:"veryslow"}]}},props:{isLoading:{type:Boolean,default:!1}},methods:{showModal:function(){this.profile={name:"",width:1280,height:720,bitrateVideo:4e3,bitrateAudio:192,fps:30,crf:18,deinterlace:!0,preset:"medium"},this.$refs.myModal.show()},hideModal:function(){this.$refs.myModal.hide()},onCreateClick:function(){this.$emit("createNewProfile",{profile:this.profile})}},created:function(){},mounted:function(){}},Ai={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"myModal",attrs:{"hide-footer":"","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"",size:"lg",id:"modal-upload-file",title:"Create Profile"}},[i("b-row",{staticClass:"container-fluid container"},[i("b-input-group",[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("Name")])]),t._v(" "),i("b-form-input",{attrs:{id:"name",name:"input-name",placeholder:"Enter Profile Name"},model:{value:t.profile.name,callback:function(e){t.$set(t.profile,"name",e)},expression:"profile.name"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("Resolution:")])]),t._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("Width")]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"0",max:"8000",value:"100"},model:{value:t.profile.width,callback:function(e){t.$set(t.profile,"width",e)},expression:"profile.width"}}),t._v(" "),i("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("Height")]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"0",max:"8000",value:"100"},model:{value:t.profile.height,callback:function(e){t.$set(t.profile,"height",e)},expression:"profile.height"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("Bitrate Video:")])]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"1000",max:"20000",value:"100"},model:{value:t.profile.bitrateVideo,callback:function(e){t.$set(t.profile,"bitrateVideo",e)},expression:"profile.bitrateVideo"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("Bitrate Audio:")])]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"100",max:"500",value:"192"},model:{value:t.profile.bitrateAudio,callback:function(e){t.$set(t.profile,"bitrateAudio",e)},expression:"profile.bitrateAudio"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("FPS:")])]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"10",max:"120",value:"100"},model:{value:t.profile.fps,callback:function(e){t.$set(t.profile,"fps",e)},expression:"profile.fps"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("CRF:")])]),t._v(" "),i("b-form-input",{attrs:{type:"number",min:"10",max:"50",value:"100"},model:{value:t.profile.crf,callback:function(e){t.$set(t.profile,"crf",e)},expression:"profile.crf"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b",[t._v("Preset:")])]),t._v(" "),i("b-form-select",{attrs:{options:t.presetOptions},model:{value:t.profile.preset,callback:function(e){t.$set(t.profile,"preset",e)},expression:"profile.preset"}})],1),t._v(" "),i("b-input-group",{staticClass:"mt-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b-form-checkbox",{model:{value:t.profile.deinterlace,callback:function(e){t.$set(t.profile,"deinterlace",e)},expression:"profile.deinterlace"}},[i("b",[t._v("Deinterlace")])])],1)],1)],1),t._v(" "),i("b-row",{staticClass:"footer my-auto"},[i("b-button",{staticClass:"mx-2",attrs:{variant:"primary"},on:{click:t.onCreateClick}},[t._v("Create")]),t._v(" "),i("b-button",{staticClass:"mx-2",attrs:{variant:"secondary"},on:{click:t.hideModal}},[t._v("Close")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1,height:40,width:40},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var $i=i("VU/8")(Li,Ai,!1,function(t){i("3yau")},"data-v-54c58664",null).exports,Pi={name:"button-quality",components:{ModalCreateProfile:$i},data:function(){return{selected:null,listProfile:[],isLoading:!1}},methods:{check:function(){var t=this,e=this.listProfile.find(function(e){return e._id===t.value});return!(!e||"ORIGINAL"===e.name)},createNewProfile:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e.isLoading=!0,i.next=4,Ei.createProfile(t);case 4:if(!(a=i.sent)||200!==a.status){i.next=13;break}return i.next=8,e.$swal.fire({type:"success",text:"Profile Created.!",timer:1e3});case 8:return i.next=10,e.getProfiles();case 10:e.$refs.modalCreateProfile.hideModal(),i.next=14;break;case 13:e.$swal.fire({type:"error",text:"Error",showConfirmButton:!0});case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),e.$swal.fire({type:"error",text:i.t0,showConfirmButton:!0});case 19:e.isLoading=!1;case 20:case"end":return i.stop()}},i,e,[[0,16]])}))()},onSelectItem:function(t){this.selected=t,this.$emit("onChange",t._id)},getProfiles:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei.getProfiles();case 2:(i=e.sent)&&200===i.status?(t.listProfile=i.data.listProfile,t.$store.dispatch("setListProfile",i.data.listProfile)):t.$swal.fire({type:"error",title:"Error Get Profiles",timer:1e3});case 4:case"end":return e.stop()}},e,t)}))()},onSelectCreate:function(){this.$refs.modalCreateProfile.showModal()},getName:function(t){var e="";switch(t){case 2160:e="4K";break;case 1440:e="2K";break;case 1080:e="Full HD";break;case 720:e="HD"}return e},displayValueSelected:function(){if(this.selected)return"default"===this.selected.type&&this.selected.quality.height?this.selected.quality.height+"p":this.selected.name},getDisplayValue:function(t){return"default"===t.type&&0!==t.quality.height?t.quality.height+"p":t.name},removeProfile:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return event.stopPropagation(),i.next=3,e.$swal.fire({type:"question",title:"Delete Profile",text:"Do you want to delete this profile: "+t.name,showConfirmBotton:!0,showCancelButton:!0}).then(function(){var i=r()(n.a.mark(function i(a){var s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!a||!0!==a.value){i.next=11;break}return i.next=3,Ei.deleteProfile({idProfile:t._id});case 3:if((s=i.sent)&&200===s.status){i.next=8;break}e.$swal.fire({type:"error",title:"Error Delete Profile",showConfirmButton:!0}),i.next=11;break;case 8:return i.next=10,e.getProfiles();case 10:e.selected&&e.selected._id===t._id&&e.setSelectedDefault();case 11:case"end":return i.stop()}},i,e)}));return function(t){return i.apply(this,arguments)}}());case 3:case"end":return i.stop()}},i,e)}))()},setSelectedDefault:function(){var t=this.listProfile.find(function(t){return t.name===Z.VIDEO_QUALITY.ORIGINAL&&"default"===t.type});t&&(this.selected=t,this.$emit("onChange",t._id))}},props:["value","resolutionRate"],mounted:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.listProfile=t.$store.state.data.listProfile,null===t.value||t.value==Z.VIDEO_QUALITY.ORIGINAL?t.setSelectedDefault():(i=t.listProfile.find(function(e){return e._id===t.value}))&&(t.selected=i);case 2:case"end":return e.stop()}},e,t)}))()}},Ui={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group dropup"},[i("button",{staticClass:"btn btn-quality dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("span",{staticClass:"selected"},[t._v(t._s(t.displayValueSelected()))])]),t._v(" "),i("div",{staticClass:"dropdown-menu"},[i("div",{staticClass:"dropdown-header"},[t._v("Quality")]),t._v(" "),t._l(t.listProfile.filter(function(e){return"default"===e.type&&(!t.resolutionRate||t.resolutionRate&&(e.quality.width/e.quality.height===t.resolutionRate||e.name===t.resolutionRate.display))}),function(e){return i("div",{key:e._id,staticClass:"dropdown-item",class:{"active-item":t.selected&&e._id===t.selected._id},on:{click:function(i){return t.onSelectItem(e)}}},[i("span",{staticClass:"container-active-item"},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.selected&&e._id===t.selected._id,expression:"selected && item._id === selected._id"}],staticClass:"fas fa-circle container-active-item"})]),t._v(" "),i("span",{staticClass:"display"},[t._v(t._s(t.getDisplayValue(e)))]),t._v(" "),i("span",{staticClass:"name",class:{"active-item":t.selected&&e._id===t.selected._id}},[t._v(t._s(t.getName(e.quality.height)))])])}),t._v(" "),i("div",{staticClass:"dropdown-header"},[t._v("Your Quality")]),t._v(" "),t._l(t.listProfile.filter(function(e){return"default"!==e.type&&(!t.resolutionRate||t.resolutionRate&&e.quality.width/e.quality.height==t.resolutionRate)}),function(e){return i("div",{key:e._id,staticClass:"dropdown-item",class:{"active-item":t.selected&&e._id===t.selected._id},on:{click:function(i){return t.onSelectItem(e)}}},[i("span",{staticClass:"trash",on:{click:function(i){return t.removeProfile(e)}}},[i("i",{staticClass:"fas fa-trash-alt"})]),t._v(" "),i("span",{staticClass:"container-active-item"},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.selected&&e._id===t.selected._id,expression:"selected && item._id === selected._id"}],staticClass:"fas fa-circle container-active-item"})]),t._v(" "),i("span",{staticClass:"display"},[t._v(t._s(t.getDisplayValue(e)))]),t._v(" "),i("span",{staticClass:"name",class:{"active-item":t.selected&&e._id===t.selected._id}},[t._v(t._s(t.getName(e.quality.height)))])])}),t._v(" "),i("div",{staticClass:"dropdown-item",on:{click:function(e){return t.onSelectCreate()}}},[i("span",{staticClass:"container-active-item"}),t._v(" "),i("span",{staticClass:"display"},[t._v("Tạo profile mới")])])],2),t._v(" "),i("modal-create-profile",{ref:"modalCreateProfile",attrs:{isLoading:t.isLoading},on:{createNewProfile:t.createNewProfile}})],1)},staticRenderFns:[]};var Fi=i("VU/8")(Pi,Ui,!1,function(t){i("XWwS")},"data-v-6f6ccc5c",null).exports,Oi={name:"modal-create-video",components:{ProgressCircle:Di.a,Loading:c.a,ButtonQuality:Fi},data:function(){return{listTime:["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],VIDEO_STATUS_UPLOAD:Z.VIDEO_STATUS_UPLOAD,isError:!1,isSuccess:!1,isUploading:!1,startCreate:!1,isLoading:!0,resolutionRate:16/9,urlThumbnail:null}},props:{persent:Number,isEditVideo:Boolean,isCreateFailed:Boolean,isFinish:Boolean,data:Object},methods:{onSelectImage:function(t){var e=t.target.files;e&&e.length>0&&(this.data.dataUpload.thumbnail={url:URL.createObjectURL(e[0]),file:e[0]},this.urlThumbnail=URL.createObjectURL(e[0]),this.keyThumbnail+=1)},onChangeProfile:function(t){this.data.idProfile=t},onChangeChannelUpload:function(){var t=event.target.value;if(t){var e=this.$store.state.data.listChannelUpload.find(function(e){return e._id===t});e&&(e.titleDefault&&(this.data.dataUpload.title=e.titleDefault),e.descriptionDefault&&(this.data.dataUpload.description=e.descriptionDefault),e.tagDefault&&(this.data.dataUpload.tag=e.tagDefault),e.typeVideoUpload&&(this.data.dataUpload.typeVideoUpload=e.typeVideoUpload))}else this.data.dataUpload={typeVideoUpload:Z.VIDEO_STATUS_UPLOAD.PRIVATE,datePublic:null,timePublic:null,title:null,idChannel:null,description:null,tag:null,thumbnail:null}},onCreateVideoClick:function(){return this.data.dataUpload.title&&this.data.dataUpload.title.trim()?!this.data.dataUpload.idChannel||this.data.dataUpload.typeVideoUpload!==Z.VIDEO_STATUS_UPLOAD.SCHEDULE||this.data.dataUpload.timePublic&&this.data.dataUpload.datePublic?void(this.$refs.buttonQuality.check()?(this.startCreate=!0,this.isEditVideo?this.$emit("onSave"):this.$emit("createVideo")):this.$swal.fire({type:"error",title:"Chọn profile render",showConfirmButton:!1,timer:1e3})):this.$swal.fire({type:"error",title:"Nhập ngày + giờ public",showConfirmButton:!1,timer:1e3}):this.$swal.fire({type:"error",title:"Nhập tên video",showConfirmButton:!1,timer:1e3})},showModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.urlThumbnail=this.data.dataUpload&&this.data.dataUpload.thumbnail?this.data.dataUpload.thumbnail.url:null,this.$refs.myModal.show(),"default"===this.data.project.ratio?this.resolutionRate=this.data.video.resolution.width/this.data.video.resolution.height:this.resolutionRate=this.data.project.ratio},uploadAgain:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.$emit("setStatus",!1),this.onCreateVideoClick()},hideModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.urlThumbnail=null}}},Mi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"myModal",attrs:{"hide-footer":"","no-close-on-backdrop":"",size:"lg",id:"modal-upload-file",title:t.isEditVideo?"Lưu Video":"Tạo Video Mới"}},[i("b-row",{staticClass:"container-fluid container"},[i("div",{staticClass:"row col-12 align-items-center mb-3"},[i("span",{staticClass:"font-weight-bold mr-2"},[t._v("Chọn kênh upload ?")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.data.dataUpload.idChannel,expression:"data.dataUpload.idChannel"}],staticClass:"form-control col-7",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.data.dataUpload,"idChannel",e.target.multiple?i:i[0])},t.onChangeChannelUpload]}},[i("option",{domProps:{value:null}},[t._v("-------------- Không Upload ------------")]),t._v(" "),t._l(t.$store.state.data.listChannelUpload,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v(t._s(e.name))])})],2)]),t._v(" "),t.data.dataUpload.idChannel?i("b-form-group",[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold mr-2"},[t._v("Chế độ hiển thị:")]),t._v(" "),i("b-form-radio",{staticClass:"mx-3 p-0",attrs:{name:t.VIDEO_STATUS_UPLOAD.PUBLIC,value:t.VIDEO_STATUS_UPLOAD.PUBLIC},model:{value:t.data.dataUpload.typeVideoUpload,callback:function(e){t.$set(t.data.dataUpload,"typeVideoUpload",e)},expression:"data.dataUpload.typeVideoUpload"}},[t._v("Công khai")]),t._v(" "),i("b-form-radio",{staticClass:"mx-3 p-0",attrs:{name:t.VIDEO_STATUS_UPLOAD.PRIVATE,value:t.VIDEO_STATUS_UPLOAD.PRIVATE},model:{value:t.data.dataUpload.typeVideoUpload,callback:function(e){t.$set(t.data.dataUpload,"typeVideoUpload",e)},expression:"data.dataUpload.typeVideoUpload"}},[t._v("Riêng tư")]),t._v(" "),i("b-form-radio",{staticClass:"mx-3 p-0",attrs:{name:t.VIDEO_STATUS_UPLOAD.UNLIST,value:t.VIDEO_STATUS_UPLOAD.UNLIST},model:{value:t.data.dataUpload.typeVideoUpload,callback:function(e){t.$set(t.data.dataUpload,"typeVideoUpload",e)},expression:"data.dataUpload.typeVideoUpload"}},[t._v("Không công khai")]),t._v(" "),i("b-form-radio",{staticClass:"mx-3 p-0",attrs:{name:t.VIDEO_STATUS_UPLOAD.SCHEDULE,value:t.VIDEO_STATUS_UPLOAD.SCHEDULE},model:{value:t.data.dataUpload.typeVideoUpload,callback:function(e){t.$set(t.data.dataUpload,"typeVideoUpload",e)},expression:"data.dataUpload.typeVideoUpload"}},[t._v("Đặt lịch")]),t._v(" "),t.data.dataUpload.typeVideoUpload!==t.VIDEO_STATUS_UPLOAD.SCHEDULE?i("div",{staticClass:"col-12"}):t._e(),t._v(" "),t.data.dataUpload.typeVideoUpload===t.VIDEO_STATUS_UPLOAD.SCHEDULE?i("div",{staticClass:"col-12"},[i("div",{staticClass:"row col-12"},[i("b-form-datepicker",{staticClass:"col-5 mx-3 col-md-12 col-lg-12 col-xl-5 my-2",attrs:{id:"example-datepicker",placeholder:"Chọn ngày",min:new Date},model:{value:t.data.dataUpload.datePublic,callback:function(e){t.$set(t.data.dataUpload,"datePublic",e)},expression:"data.dataUpload.datePublic"}}),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.data.dataUpload.timePublic,expression:"data.dataUpload.timePublic"}],staticClass:"form-control mx-3 col-4 col-md-12 col-lg-12 col-xl-5 my-2",attrs:{name:"",id:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.data.dataUpload,"timePublic",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:null}},[t._v("---- Chọn giờ ----")]),t._v(" "),t._l(t.listTime,function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})],2)],1)]):t._e()],1)]):t._e(),t._v(" "),i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("\n          Tên Video\n          "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":\n        ")]),t._v(" "),i("b-form-input",{staticClass:"col-8",attrs:{placeholder:"Nhập tên video"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCreateVideoClick(e)}},model:{value:t.data.dataUpload.title,callback:function(e){t.$set(t.data.dataUpload,"title",e)},expression:"data.dataUpload.title"}})],1),t._v(" "),t.data.dataUpload.idChannel?i("div",{staticClass:"row col-12 align-items-center my-2"},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("Miêu Tả:")]),t._v(" "),i("b-form-textarea",{staticClass:"col-8",attrs:{placeholder:"Nhập miêu tả video"},model:{value:t.data.dataUpload.description,callback:function(e){t.$set(t.data.dataUpload,"description",e)},expression:"data.dataUpload.description"}})],1):t._e(),t._v(" "),t.data.dataUpload.idChannel?i("div",{staticClass:"row col-12 align-items-center mb-2"},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("Tag:")]),t._v(" "),i("b-form-input",{staticClass:"col-8",attrs:{placeholder:"Nhập tag video"},model:{value:t.data.dataUpload.tag,callback:function(e){t.$set(t.data.dataUpload,"tag",e)},expression:"data.dataUpload.tag"}})],1):t._e(),t._v(" "),t.data.dataUpload.idChannel?i("div",{staticClass:"row col-12 align-items-center "},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("Thumbnail:")]),t._v(" "),i("div",{staticClass:"col-8"},[t.urlThumbnail?i("img",{staticStyle:{width:"100px",height:"56.25px","object-fit":"contain","border-radius":"10px",border:"1px solid black"},attrs:{src:t.urlThumbnail}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-primary px-4 ml-3",on:{click:function(e){return t.$refs.fileThumbnail.click()}}},[t._v("\n            Chọn\n          ")])]),t._v(" "),i("input",{ref:"fileThumbnail",attrs:{type:"file",accept:"image/*",name:"thumbnail",id:"thumbnail",hidden:""},on:{change:t.onSelectImage}})]):t._e(),t._v(" "),i("div",{staticClass:"row col-12 align-items-center mt-3"},[i("span",{staticClass:"font-weight-bold mr-2"},[t._v("Chọn Profile Render:")]),t._v(" "),i("button-quality",{ref:"buttonQuality",attrs:{value:t.data.idProfile,resolutionRate:t.resolutionRate},on:{onChange:t.onChangeProfile}})],1),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.startCreate,expression:"!startCreate"}],staticClass:"my-3 mt-4 px-4",attrs:{variant:"success",size:"lg"},on:{click:t.onCreateVideoClick}},[t._v(t._s(t.isEditVideo?"Lưu Video":"Tạo Video"))]),t._v(" "),i("progress-circle",{directives:[{name:"show",rawName:"v-show",value:t.startCreate,expression:"startCreate"}],attrs:{"completed-steps":t.persent,"total-steps":100,"start-color":t.isCreateFailed?"red":"green","stop-color":t.isCreateFailed?"red":"green","circle-color":"#e8e8e8",diameter:250,"animation-duration":300}},[i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v(t._s(t.persent)+"%")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed,expression:"persent === 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed&&t.isFinish,expression:"persent === 100 && !isCreateFailed && isFinish"}]},[i("span",{staticClass:"text-create"},[t._v("Thành Công")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.isCreateFailed,expression:"isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Lỗi")])])],1)],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"footer text-center"},[t.isCreateFailed?i("b-button",{attrs:{variant:"primary"},on:{click:t.uploadAgain}},[t._v("Thử Upload lại")]):t._e()],1)],1)],1)},staticRenderFns:[]};var Ri,Ni=i("VU/8")(Oi,Mi,!1,function(t){i("6EjJ")},"data-v-043da9a3",null).exports,zi={data:function(){return{activeItem:{index:0,startTime:0,endTime:0},listUrlThumbnail:[],videoActive:null,splitTime:0,keyContainerControl:0,isLoadingThumbnail:!1,slideWidth:0}},props:{data:{type:Object},splitTimeProp:{type:Number,default:0},enableSplit:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1},videoMain:{type:Object}},methods:{onResizeWindow:function(){Ri&&clearTimeout(Ri);var t=this;Ri=setTimeout(function(){t.genarateCoverVideo()},500)},genarateCoverVideo:function(){this.isLoadingThumbnail=!0;for(var t=this.getNumberImage(),e=0;e<t;e++)this.listUrlThumbnail.push(e);var i=this;if(console.log(this.data),this.data.file)FrameGrab.blob_to_video(this.data.file).then(function(e){var a=new FrameGrab({video:e});e.setAttribute("controls",""),document.getElementById("videoContainer").innerHTML="",document.getElementById("videoContainer").appendChild(e),t&&a.make_story("canvas",t).then(function(t){document.getElementById("frameGrabs").innerHTML="",t.forEach(function(t){t.container.style.height="50px",document.getElementById("frameGrabs").appendChild(t.container)}),i.isLoadingThumbnail=!1,console.log("Finish")},function(t){i.isLoadingThumbnail=!1,console.log(" Error")})},function(t){});else if(this.data.url){var a=document.createElement("video");a.src=this.data.url;var s=new FrameGrab({video:a});a.setAttribute("controls",""),document.getElementById("videoContainer").innerHTML="",document.getElementById("videoContainer").appendChild(a),t&&s.make_story("canvas",t).then(function(t){document.getElementById("frameGrabs").innerHTML="",t.forEach(function(t){t.container.style.height="50px",document.getElementById("frameGrabs").appendChild(t.container)}),i.isLoadingThumbnail=!1,console.log("Finish")},function(t){i.isLoadingThumbnail=!1,console.log(" Error")})}},renderDisableSpace:function(){$(".add-xxx").remove();for(var t=$(".noUi-connect"),e=[],i=0,a=0;a<t.length;a++){var s=t[a],n=s.style.transform.split(",")[0].replace("translate(","").replace("%",""),o=s.style.transform.split("scale(")[1].split(",")[0];if(0===a)e.push({width:n,margin:"0"});else{t[a-1].style.transform.split("(")[s.style.transform.split("(").length-1].split(",")[0],s.style.transform.split(",")[0].replace("translate(","").replace("%",""),t[a-1].style.transform.split(",")[0].replace("translate(","").replace("%","");e.push({width:parseFloat(n)-i,margin:i})}i=parseFloat(n)+100*parseFloat(o),i=parseFloat(i.toFixed(2)),a===t.length-1&&(i=parseFloat(n)+100*parseFloat(o),e.push({width:100-i,margin:i}))}e.map(function(t){$("#slider .noUi-connects").append('<div class="add-xxx" style="background-color: rgba(0, 0, 0, 0.1);height: 100%; transform: translate('+t.margin+"%, 0px) scale("+t.width/100+', 1);"></div>')})},renderSlider:function(){var t=this;try{var e=this;if(this.activeItem=this.videoActive.listSplitTime[this.videoActive.activeSplitTimeIndex],this.keyContainerControl=Et.a.generateKey(),this.enableSplit){var i=document.getElementById("sliderSplit");noUiSlider.create(i,{start:this.splitTime,range:{min:0,max:this.videoActive.duration.value},pips:{mode:"count",values:5},behaviour:"tap"}),i.noUiSlider.on("slide",function(t,i,a,s,n){e.splitTime=parseFloat(t[0]),document.getElementById(e.data.id).currentTime=t[0],e.videoMain.currentTime=t[0]?parseFloat(parseFloat(t[0]).toFixed(2)):0})}var a=[],s=[!1];this.videoActive.listSplitTime.map(function(t){s.push(!0),s.push(!1),a.push(t.startTime),a.push(t.endTime)});var n=document.getElementById("slider");noUiSlider.create(n,{start:a,connect:s,range:{min:0,max:this.videoActive.duration.value},behaviour:"drag"},!0);for(var o=n.querySelectorAll(".noUi-connect"),r=function(e){if(o[e].classList.add("noUi-handle-"+e),o[e].setAttribute("index",e),e!==t.videoActive.activeSplitTimeIndex){var i=o[e],a=i.cloneNode(!0);a.addEventListener("click",function(){t.videoActive.activeSplitTimeIndex=e,t.activeItem=t.videoActive.listSplitTime[e]}),a.classList.add("noUi-handle-disable"),i.parentNode.replaceChild(a,i)}},l=0;l<o.length;l++)r(l);var c=this;n.noUiSlider.on("slide",function(t,i,a,s,n){var o=0,r="";i%2==0?(r="startTime",o=i/2):(r="endTime",o=(i-1)/2),o===e.activeItem.index&&r&&(e.activeItem[r]=parseFloat(t[i]),e.$emit("onScroll",{key:r,value:parseFloat(t[i]),index:o}),e.keyContainerControl=Et.a.generateKey()),c.renderDisableSpace()}),n.noUiSlider.on("change",function(t,i,a,s,n){var o=0,r="";if(i%2==0?(r="startTime",o=i/2):(r="endTime",o=(i-1)/2),o===e.activeItem.index&&r){e.activeItem[r]=parseFloat(t[i]),e.keyContainerControl=Et.a.generateKey();var l=e.videoActive.listSplitTime;l[e.videoActive.activeSplitTimeIndex]=m()({},l[e.videoActive.activeSplitTimeIndex],Ot()({},r,parseFloat(t[i]))),e.videoActive=m()({},e.videoActive,{listSplitTime:l})}else e.renderActiveItem(o),e.activeItem=e.data.listSplitTime[o]}),this.renderActiveItem(this.videoActive.activeSplitTimeIndex)}catch(t){console.log(t)}},renderActiveItem:function(t){for(var e=document.getElementById("slider").querySelectorAll(".noUi-handle"),i=0;i<e.length;i++)i==2*t?(e[i].classList.remove("hide"),e[i+1].classList.remove("hide"),i++):e[i].classList.add("hide")},getNumberImage:function(){if(this.$refs.containerSlider&&this.$refs.containerSlider.clientWidth){var t=this.$refs.containerSlider.clientWidth;t=this.$refs.slider.clientWidth,this.slideWidth=t;var e=this.videoActive.resolution.width/this.videoActive.resolution.height*50;return e=Math.floor(e),Math.round(t/e)}},generateListThumbnail:function(){if(this.$refs.containerSlider&&this.$refs.containerSlider.clientWidth){var t=this.$refs.containerSlider.clientWidth;t=this.$refs.slider.clientWidth;var e=this.videoActive.resolution.width/this.videoActive.resolution.height*50;e=Math.floor(e);var i=Math.round(t/e);i++;for(var a=parseFloat(this.videoActive.duration.value/i),s=[],n=1;n<i+1;n++){var o=this.videoActive.url+"#t="+a*n;s.push(o)}this.listUrlThumbnail=s}},reRenderSlider:function(){$(".container-slider-time").html('<div id="slider" ref="slider"></div>'),this.enableSplit&&$(".container-slider-split").html('<div id="sliderSplit" ref="sliderSplit"></div>'),this.renderSlider(),this.renderDisableSpace()},updated:function(){this.renderDisableSpace()}},watch:{"videoMain.currentTime":function(){this.splitTime=this.$props.videoMain.currentTime,this.reRenderSlider()},data:function(t,e){if(e&&t&&e.url===t.url);else{this.videoActive=t,document.getElementById("frameGrabs").innerHTML="";var i=document.getElementById("sliderSplit"),a=document.getElementById("slider");i.noUiSlider.destroy(),a.noUiSlider.destroy(),this.genarateCoverVideo(),this.renderSlider()}}},mounted:function(){var t=this;window.addEventListener("resize",this.onResizeWindow),this.data&&-1!==this.data.duration.value&&0!==this.data.duration.value&&(this.videoActive=this.data,this.splitTime=this.data.splitTime,this.renderSlider(),setTimeout(function(){t.genarateCoverVideo()},100))}},Bi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-control-split-video"},[e("div",{staticStyle:{display:"none"},attrs:{id:"videoContainer"}}),this._v(" "),e("div",{staticClass:"container-slider"},[this.isPreview?e("div",{staticClass:"container-thumbnail-timming"},[e("div",{attrs:{id:"frameGrabs"}})]):this._e(),this._v(" "),e("div",{ref:"containerSlider",staticClass:"container-slider-time"},[e("div",{ref:"slider",attrs:{id:"slider"}})])]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.enableSplit,expression:"this.enableSplit"}],staticClass:"container-slider-split",attrs:{id:"container-slider-split"}},[e("div",{ref:"sliderSplit",attrs:{id:"sliderSplit"}})])])},staticRenderFns:[]};var Hi={components:{ModalCreateVideo:Ni,RangeTiming:i("VU/8")(zi,Bi,!1,function(t){i("pz6u")},null,null).exports},props:["data","videoMain","isEditVideo","idVideoEdit","parrentScreen"],data:function(){return{progressUpload:0,isCreateFailed:null,isFinish:!1}},computed:{displayCurrentTimeVideo:function(){return this.convertTime(this.videoMain.currentTime)},displayTimeVideo:function(){return this.convertTime(this.videoMain.length)}},methods:{setStatus:function(){this.isCreateFailed=!1},convertTime:function(t){var e=Math.floor(t/3600);e>=1?t-=3600*e:e="";var i=Math.floor(t/60);return i>=1?t-=60*i:i="",1==i.toString().length&&(i="0"+i),1==(t=t.toFixed(1)).toString().length&&(t="0"+t),t>0&&t<10&&(t="0"+t),""!==e||this.videoMain.length/3600>=1&&(e="00:"),e+(i=""!==i?i+":":"00:")+t.split(".")[0]+'<span class="fs-12 text-gray">.'+t.split(".")[1]+"</span>"},onClickCreateVideo:function(){this.statusCreateVideo=null,this.$refs.modalCreateVideo.showModal()},onClickPlayVideo:function(){this.videoMain.isPlay=!this.videoMain.isPlay},onUploadProgress:function(t){var e=100*parseFloat((t.loaded/t.total).toFixed(4));this.progressUpload=parseFloat(e.toFixed(2))},onScrollTiming:function(t){this.videoMain.currentTime=t.value?parseFloat(t.value.toFixed(2)):0,document.getElementById(this.data.video.id).currentTime=this.videoMain.currentTime,"startTime"==t.key?this.data.video.startTime=t.value:this.data.video.endTime=t.value},getPayload:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o,r,l,c,d,u,v,h,p,f,g,_;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:for(e.progressUpload=0,a=e.data.listImage.map(function(t){return m()({},t,{file:null})}),s=e.data.listVideo.map(function(t){return m()({},t,{file:null})}),o=e.data.audio.listAudio.map(function(t){return m()({},t,{file:null})}),r=e.data.voiceAudio.listVoice.map(function(t){return m()({},t,{file:null})}),l=e.data.listSlideVideo.map(function(t){var e=t.listItem.map(function(t){return m()({},t,{file:null})});return m()({},t,{listItem:e})}),c=m()({},e.data.video,{file:null}),d=m()({},e.data,{video:c,listImage:a,audio:m()({},e.data.audio,{listAudio:o}),listVideo:s,voiceAudio:{isAddVoice:e.data.voiceAudio.isAddVoice,listVoice:r},listSlideVideo:l,orderAddedItem:e.$store.state.tempArray,description:e.data.dataUpload.description,tag:e.data.dataUpload.tag}),u=new FormData,v={data:d,name:d.dataUpload.title,type:Z.VIDEO_TYPE.SIMPLE_EDIT,idProfile:d.idProfile,idChannel:d.dataUpload.idChannel,_id:t},h=Dt()(v),u.append("typeUpload",Z.UPLOAD_FILE_TYPE.SIMPLE_EDIT),u.append("payload",h),e.data.dataUpload&&e.data.dataUpload.thumbnail&&e.data.dataUpload.thumbnail.file&&u.append("thumbnail",e.data.dataUpload.thumbnail.file),e.data.video&&e.data.video.file&&"local"==e.data.video.typeUrl&&u.append("video",e.data.video.file,e.data.video.id),e.data.listImage.map(function(t){t.file&&"local"==t.typeUrl&&u.append("listImage",t.file,t.id)}),e.data.listVideo.map(function(t){t.file&&"local"==t.typeUrl&&u.append("listVideo",t.file,t.id)}),e.data.audio.listAudio.map(function(t){t.file&&"local"==t.typeUrl&&u.append("listAudio",t.file,t.id)}),e.data.voiceAudio.listVoice.map(function(t){t.file&&"local"==t.typeUrl&&u.append("listVoice",t.file,t.id)}),p=0;p<e.data.listSlideVideo.length;p++)for(f=e.data.listSlideVideo[p],g=0;g<f.listItem.length;g++)(_=f.listItem[g]).file&&"local"==_.typeUrl&&u.append("slideVideo",_.file,_.id);return i.abrupt("return",u);case 21:case"end":return i.stop()}},i,e)}))()},createVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.next=6,t.getPayload();case 6:return i=e.sent,e.next=9,$t.createVideo(i,{onUploadProgress:t.onUploadProgress});case 9:(a=e.sent)&&200===a.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Tạo Video Thành Công"}).then(function(e){t.$router.push("/manager-video")})):(t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 18:case"end":return e.stop()}},e,t,[[0,13]])}))()},updateVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.next=5,t.getPayload(t.idVideoEdit);case 5:return i=e.sent,e.prev=6,e.next=9,$t.updateVideo(i,{onUploadProgress:t.onUploadProgress});case 9:(a=e.sent)&&200===a.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Cập Video Thành Công",showConfirmButton:!1,timer:1e3}).then(function(e){t.$router.push("/manager-video")})):(t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 18:case"end":return e.stop()}},e,t,[[6,13]])}))()}}},ji={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-footer"},[t.data.video&&t.data.video.url?t._e():i("div",{staticClass:"disable-content"}),t._v(" "),i("div",{staticClass:"container-play"},[i("div",{staticClass:"wrapper-play-pause",on:{click:t.onClickPlayVideo}},[t.videoMain.isPlay?i("img",{staticClass:"icon-play",attrs:{src:"/static/assets/icons/pause-button.svg"}}):i("img",{staticClass:"icon-play",attrs:{src:"/static/assets/icons/play-button.svg"}})]),t._v(" "),i("div",[i("span",{staticClass:"text-time",domProps:{innerHTML:t._s(t.displayCurrentTimeVideo)}}),t._v(" "),i("span",{staticClass:"fs-13 text-gray"},[t._v("/")]),t._v(" "),i("span",{staticClass:"text-time",domProps:{innerHTML:t._s(t.displayTimeVideo)}})])]),t._v(" "),i("div",{staticClass:"container-timeline"},[t.data.video?i("range-timing",{ref:"rangeTiming",attrs:{data:t.data.video,enableSplit:!0,isPreview:!0,videoMain:t.videoMain},on:{onScroll:t.onScrollTiming}}):t._e()],1),t._v(" "),"NewsVideo"!==t.parrentScreen?i("div",{staticClass:"container-right-control"},[i("button",{staticClass:"btn btn-create-video",on:{click:t.onClickCreateVideo}},[t._v("\n      "+t._s(t.isEditVideo?"Cập nhật Video":"Tạo Video")+"\n    ")]),t._v(" "),i("ModalCreateVideo",{ref:"modalCreateVideo",attrs:{persent:t.progressUpload,isEditVideo:t.isEditVideo,data:t.data,isCreateFailed:t.isCreateFailed,isFinish:t.isFinish},on:{createVideo:t.createVideo,onSave:t.updateVideo,setStatus:t.setStatus}})],1):t._e()])},staticRenderFns:[]};var Gi=i("VU/8")(Hi,ji,!1,function(t){i("KJOl")},"data-v-69995a6e",null).exports,Yi=null,Ki={components:{Loading:c.a,LeftSlideItem:Ut,LeftContentItem:ni,LayoutSimpleEdit:vi,RightContent:Ii,FooterSimpleEdit:Gi,ModalInputFile:le},data:function(){return{videoMain:{isPlay:!1,length:0,currentTime:0},layoutMain:{with:0,height:0},keyUpdateLeftContent:0,indexLeftItemActive:0,isLoading:!1,isEditVideo:!1,data:{video:null,project:{repeatVideo:!0,changeSpeed:!1,isSaveVideoBackground:!1,keepRatio:!1,ratio:"default",composition:1,background:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100},volume:100,speed:100,flip:{vertical:!1,horizontal:!1}},listText:[],listVideo:[],listImage:[],audio:{listAudio:[],typeRenderAudio:"join",isRandomAudio:!1,volumeAudioRandom:100},voiceAudio:{listVoice:[],isAddVoice:!1},listSlideVideo:[],subtitle:{data:null,type:null},dataUpload:{typeVideoUpload:Z.VIDEO_STATUS_UPLOAD.PRIVATE,datePublic:null,timePublic:null,title:null,idChannel:null,description:null,tag:null,thumbnail:null},idProfile:null},dataDefault:{video:null,project:{repeatVideo:!0,changeSpeed:!1,isSaveVideoBackground:!1,keepRatio:!1,ratio:"default",composition:1,background:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100},volume:100,speed:100,flip:{vertical:!1,horizontal:!1}},listText:[],listVideo:[],listImage:[],audio:{listAudio:[],typeRenderAudio:"join",isRandomAudio:!1,volumeAudioRandom:100},voiceAudio:{listVoice:[],isAddVoice:!1},listSlideVideo:[],subtitle:{data:null,type:null},dataUpload:{typeVideoUpload:Z.VIDEO_STATUS_UPLOAD.PRIVATE,datePublic:null,timePublic:null,title:null,idChannel:null,description:null,tag:null,thumbnail:null},idProfile:null},idVideoEdit:null,listFont:this.$store.state.data.listFont,server_path_font:"https://api.alidamedia.com/public/assets/fonts/",listDataHistory:[],currentIndexDataHistory:0,isCtrlZing:!1,isCtrlZed:!1}},props:["parrentScreen","videoBackground","layoutEdit"],methods:{setLoading:function(t){this.isLoading=t},setLayoutMain:function(t,e){this.layoutMain={width:t,height:e}},onChangeLeftItem:function(t){this.indexLeftItemActive=t},onReplaceVideo:function(){this.$refs.modalInputFile.showModal()},uploadVideoMain:function(t,e){if(t.isLoading)this.isLoading=!0;else{t=m()({},t,{id:Et.a.generateKey(),isShow:!0,startTime:0,endTime:t.duration.value,width:1,height:1,x:0,y:0}),this.isLoading=!1,this.data.project.resolution=t.resolution,this.data.video?this.data.video=m()({},t,{width:this.data.video.width,height:this.data.video.height,x:this.data.video.x,y:this.data.video.y}):this.data.video=t,this.data.endTime=t.duration.value,this.videoMain.length=t.duration.value,this.keyUpdateLeftContent++;var i=this.$store.state.tempArray;(i=i.filter(function(t){return t.type!==Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO_MAIN})).unshift({id:t.id,value:t.name,type:Z.ITEM_ADD_TO_VIDEO_TYPE.VIDEO_MAIN}),this.$store.dispatch("updateTempArray",i)}},resetData:function(t){this.data=m()({},this.data,JSON.parse(Dt()(this.dataDefault)),{video:t}),this.videoMain={isPlay:!1,length:0,currentTime:0},this.$store.dispatch("updateTempArray",[])},setData:function(t){this.data=t,this.data&&this.data.video&&this.data.video.duration?this.videoMain.length=this.data.video.duration.value:this.videoMain={isPlay:!1,length:0,currentTime:0}},onKeyPress:function(t){if(t.ctrlKey&&26===t.which&&!t.shiftKey&&this.currentIndexDataHistory>0)return this.currentIndexDataHistory--,this.data=this.listDataHistory[this.currentIndexDataHistory],this.isCtrlZing=!0,void(this.isCtrlZed=!0);if(t.ctrlKey&&26===t.which&&t.shiftKey&&this.currentIndexDataHistory<this.listDataHistory.length)return this.currentIndexDataHistory===this.listDataHistory.length-1?this.data=this.listDataHistory[this.currentIndexDataHistory]:(this.currentIndexDataHistory++,this.data=this.listDataHistory[this.currentIndexDataHistory]),this.isCtrlZed=!0,void(this.isCtrlZing=!0);if(32==t.which){var e=document.getElementById(this.data.video.id);if(!e)return;e.paused?(e.play(),this.videoMain.isPlay=!0):(e.pause(),this.videoMain.isPlay=!1)}}},updated:function(){},created:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,!t.layoutEdit||!t.videoBackground){e.next=10;break}t.isEditVideo=!0,t.idVideoEdit=null,t.data=m()({},t.data,t.layoutEdit.data,{video:m()({},t.layoutEdit.data.video,{url:""})}),t.$store.dispatch("updateTempArray",t.layoutEdit.data.orderAddedItem),t.isLoading=!0,setTimeout(function(){t.data.video.url=t.videoBackground,t.isLoading=!1,t.listDataHistory.push(JSON.parse(Dt()(t.data)))},1e3),e.next=26;break;case 10:if(!t.$route.query||!t.$route.query.idVideo){e.next=24;break}return e.prev=11,e.next=14,$t.getVideoById({idVideo:t.$route.query.idVideo});case 14:200===(i=e.sent).status&&i.data.video&&((a=i.data.video).data=JSON.parse(a.data),console.log(" ########## video: ",a),t.isEditVideo=!0,t.idVideoEdit=a._id,t.data=a.data,t.videoMain.length=a.data.video.duration.value,t.$store.dispatch("updateTempArray",a.data.orderAddedItem)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 21:t.isLoading=!1,e.next=26;break;case 24:t.$store.dispatch("updateTempArray",[]),t.isLoading=!1;case 26:t.listDataHistory.push(JSON.parse(Dt()(t.data)));case 27:case"end":return e.stop()}},e,t,[[11,18]])}))()},destroyed:function(){},beforeRouteLeave:function(t,e,i){this.$store.dispatch("updateTempArray",[]),i()},watch:{data:{deep:!0,handler:function(){var t=this;this.isCtrlZing?this.isCtrlZing=!1:(this.isCtrlZed&&(this.isCtrlZed=!1,this.listDataHistory.length=this.currentIndexDataHistory),Yi&&clearTimeout(Yi),Yi=setTimeout(function(){console.log(" save data...! ");var e=JSON.parse(Dt()(t.data));t.listDataHistory.push(e),t.currentIndexDataHistory=t.listDataHistory.length-1},1e3))}}}},Wi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},[i("div",{staticStyle:{width:"0px",height:"0px"}},[t._l(t.listFont,function(e,a){return i("Style",{key:a},[t._v("\n      \x3c!-- @import url('"+t._s(e.fontUrl)+"'); --\x3e\n      @font-face { font-family: "+t._s(e.name)+"; src: url('"+t._s(e.fontUrl)+'\') format("truetype");; }\n    ')])}),t._v(" "),i("Style",[t._v("\n      .se-body { height:\n      "+t._s("NewsVideo"===this.parrentScreen?"":"calc(100vh - 175px )")+';\n      overflow-y: "auto"; }\n    ')])],2),t._v(" "),i("div",{staticClass:"se-body text-left"},[i("div",{staticStyle:{width:"520px",height:"100%"}},["NewsVideo"!==this.parrentScreen?i("LayoutSimpleEdit",{attrs:{data:t.data},on:{resetData:t.resetData,setData:t.setData,setLoading:t.setLoading}}):t._e(),t._v(" "),i("div",{key:t.keyUpdateLeftContent,staticClass:"container-body-content"},[t.data.video&&t.data.video.url?t._e():i("div",{staticClass:"disable-content"}),t._v(" "),i("LeftSlideItem",{attrs:{indexLeftItemActive:t.indexLeftItemActive},on:{onChange:t.onChangeLeftItem}}),t._v(" "),i("LeftContentItem",{attrs:{data:t.data,indexLeftItemActive:t.indexLeftItemActive,currentTimeVideo:t.videoMain.currentTime,layoutMain:t.layoutMain},on:{onReplaceVideo:t.onReplaceVideo}})],1)],1),t._v(" "),i("div",{staticClass:"container-edit-video"},[t.data.video&&t.data.video.url?i("div",{ref:"XXX",staticStyle:{width:"100%",height:"100%",padding:"0 20px"}},[i("RightContent",{attrs:{data:t.data,videoMain:t.videoMain},on:{setLayoutMain:t.setLayoutMain}})],1):i("div",{staticClass:"wrapper-no-video text-center"},[t._m(0),t._v(" "),i("h4",[t._v("Tải lên video để chỉnh sửa")]),t._v(" "),i("div",{staticClass:"mb-5"},[t._v("hoặc chọn layout có sẵn video.")]),t._v(" "),i("button",{staticClass:"btn btn-upload-video-main",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n          Tải Lên Video\n        ")])])])]),t._v(" "),i("div",{staticClass:"footer-simple-edit",style:"position: "+("NewsVideo"!==t.parrentScreen?"fixed":"none")+" ;"},[i("FooterSimpleEdit",{ref:"FooterSimpleEdit",attrs:{parrentScreen:this.parrentScreen,videoMain:t.videoMain,isEditVideo:t.isEditVideo,idVideoEdit:t.idVideoEdit,data:t.data},on:{setLoading:t.setLoading}})],1),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{typeEdit:"SIMPLE_EDIT",totalVideoProps:1},on:{pushNewVideo:t.uploadVideoMain}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:60,width:60},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"color-pink",staticStyle:{"font-size":"120px"}},[e("i",{staticClass:"fad fa-cloud-upload"})])}]};var qi,Xi=i("VU/8")(Ki,Wi,!1,function(t){i("1b5E")},"data-v-066cd11d",null).exports,Ji={name:"join-video-item",data:function(){return{}},components:{Loading:c.a},props:{item:{name:{type:String},data:{type:String},size:{type:String},typeFile:{type:String},url:{type:String},thumbnail:{type:String},resolution:{width:{type:Number},height:{type:Number},display:{type:String}},duration:{value:{type:Number},display:{type:String}}},isActive:{type:Boolean}},methods:{removeItem:function(){this.$emit("removeItem",this.item)},getTotalTime:function(){var t=0;if(this.item&&this.item.listSplitTime)for(var e=0;e<this.item.listSplitTime.length;e++){var i=this.item.listSplitTime[e];t+=i.endTime-i.startTime}return Et.a.secondsToHms(t)}},destroyed:function(){clearTimeout(qi)},mounted:function(){var t=this;qi=setTimeout(function(){t.item.isLoading&&(t.$emit("removeItem",t.item),t.$swal.fire({type:"error",title:"Can't load item"}))},1e4)}},Qi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"jv-item mb-2 row col-12 ml-0",class:{"jv-item-active":t.isActive}},[i("loading",{attrs:{active:t.item.isLoading,"can-cancel":!0,"is-full-page":!1,height:40,width:40},on:{"update:active":function(e){return t.$set(t.item,"isLoading",e)}}}),t._v(" "),i("div",{staticClass:"icon-remove",on:{click:function(e){return t.removeItem()}}},[i("i",{staticClass:"fas fa-trash-alt"})]),t._v(" "),i("div",{staticClass:"container-thumbnail"},["server"===t.item.typeUrl?i("video",{staticClass:"img-fluid jv-img-item",attrs:{src:t.item.url+"#t="+t.item.duration.value/2}}):i("img",{staticClass:"img-fluid jv-img-item",attrs:{src:t.item.thumbnail,alt:"",draggable:"false"}})]),t._v(" "),i("div",{staticClass:"col-11 col-lg-10 col-md-10",staticStyle:{flex:"1"}},[i("div",{staticClass:"container-title"},[i("span",{staticClass:"jv-item-title"},[t._v(t._s(t.item.name))])]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"col-12 col-lg-2 col-md-3 col-xl-2 col-sm-4 font-weight-bold"},[t._v("Source:")]),t._v(" "),i("div",{staticClass:"col-12 col-xl-4 col-lg-5 col-md-9 col-sm-12"},[i("i",{staticClass:"far fa-clock"}),t._v(" "),i("span",{staticClass:"font-weight-bold pl-2"},[t._v(t._s(t.item.duration.display))])]),t._v(" "),i("div",{staticClass:"col-12 col-xl-3 col-lg-4 col-md-6 col-sm-12 jv-item-child-item"},[i("i",{staticClass:"far fa-eye"}),t._v(" "),i("span",{staticClass:"font-weight-bold pl-2"},[t._v(t._s(t.item.resolution.display))])]),t._v(" "),i("div",{staticClass:"col-12 col-xl-3 col-lg-4 col-md-6 col-sm-12"},[i("i",{staticClass:"far fa-folder"}),t._v(" "),i("span",{staticClass:"font-weight-bold pl-2"},[t._v(t._s(t.item.size))])])]),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-4 font-weight-bold"},[t._v("Source:")]),t._v(" "),i("div",{staticClass:"col-12 col-xl-4 col-lg-4 col-md-9 col-sm-12"},[i("i",{staticClass:"far fa-clock"}),t._v(" "),i("span",{staticClass:"font-weight-bold pl-2"},[t._v(t._s(t.getTotalTime()))])])])])],1)},staticRenderFns:[]};var Zi=i("VU/8")(Ji,Qi,!1,function(t){i("KHgh")},"data-v-def8ae74",null).exports,ta={name:"input-time",data:function(){return{time:{hour:0,minute:0,second:0,milisecond:0},keyInputTime:0}},props:{returnType:{type:String,default:"time"},min:{type:Number,default:0},max:{type:Number},value:{type:Number},name:{type:String}},methods:{onChange:function(t){var e=this;if(setTimeout(function(){$("#"+e.name+" #"+t.target.name).focus()},10),t.target.value<0)this.keyInputTime++;else{var i=parseInt(t.target.value),a=0;switch(t.target.name){case"second":i>59&&(i=0),a=3600*this.time.hour+60*this.time.minute+i+this.time.milisecond/1e3;break;case"minute":i>59&&(i=0),a=3600*this.time.hour+60*i+this.time.second+this.time.milisecond/1e3;break;case"milisecond":i>999&&(i=0),a=3600*this.time.hour+60*this.time.minute+this.time.second+i/1e3;break;case"hour":i>23&&(i=0),a=3600*i+60*this.time.minute+this.time.second+this.time.milisecond/1e3}if(a>this.max||a<this.min){var s=0,n=(s=a>this.max?this.max:this.min)>=3600?parseInt(s/3600):0,o=s>=60?parseInt((s-3600*n)/60):0,r=s>0?parseInt(s-3600*n-60*o):0,l=s-3600*n-60*o-r;return l=parseFloat(l.toFixed(3)),l=parseInt(1e3*l),this.time={hour:n,minute:o,second:r,milisecond:l},this.keyInputTime++,void this.$emit("onChange",{key:this.name,value:s})}this.time[t.target.name]=i;switch(this.returnType){case"second":i;break;case"time":(this.time.hour>9?this.time.hour:"0"+this.time.hour)+":"+(this.time.minute>9?this.time.minute:"0"+this.time.minute)+":"+(this.time.second>9?this.time.second:"0"+this.time.second)+"."+(this.time.milisecond>9?this.time.milisecond>99?this.time.milisecond:"0"+this.time.milisecond:"00"+this.time.milisecond)}a=3600*this.time.hour+60*this.time.minute+this.time.second+this.time.milisecond/1e3,this.$emit("onChange",{key:this.name,value:a})}}},mounted:function(){var t=0;if(this.min&&this.max&&this.min>this.max)throw new Error("MIN must be less than MAX");this.value&&this.max&&this.value>this.max?t=this.max:this.value&&this.min&&this.min>this.value?t=this.min:this.value?t=this.value:this.min&&(t=this.min);var e=t>=3600?parseInt(t/3600):0,i=t>=60?parseInt((t-3600*e)/60):0,a=t>0?parseInt(t-3600*e-60*i):0,s=t-3600*e-60*i-a;s=parseFloat(s.toFixed(3)),s=parseInt(1e3*s),this.time={hour:e,minute:i,second:a,milisecond:s}}},ea={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{key:t.keyInputTime,staticClass:"container-input-time"},[i("input",{staticClass:"input-time",staticStyle:{"padding-left":"3px"},attrs:{id:"hour",type:"number",name:"hour"},domProps:{value:t.time.hour>9?t.time.hour:"0"+t.time.hour},on:{change:t.onChange}}),t._v(":\n    "),i("input",{staticClass:"input-time",attrs:{id:"minute",type:"number",name:"minute"},domProps:{value:t.time.minute>9?t.time.minute:"0"+t.time.minute},on:{change:t.onChange}}),t._v(":\n    "),i("input",{staticClass:"input-time-second",attrs:{id:"second",type:"number",name:"second"},domProps:{value:t.time.second>9?t.time.second:"0"+t.time.second},on:{change:t.onChange}}),t._v(".\n    "),i("input",{staticClass:"input-time-milisecond",attrs:{id:"milisecond",type:"number",name:"milisecond"},domProps:{value:t.time.milisecond>9?t.time.milisecond>99?t.time.milisecond:"0"+t.time.milisecond:"00"+t.time.milisecond},on:{change:t.onChange}})])])},staticRenderFns:[]};var ia=i("VU/8")(ta,ea,!1,function(t){i("Ux/M")},"data-v-560633e6",null).exports,aa={data:function(){return{activeItem:{index:0,startTime:0,endTime:0},listUrlThumbnail:[],videoActive:null,splitTime:0,keyContainerControl:0}},props:{data:{type:Object},splitTimeProp:{type:Number,default:0},enableSplit:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},methods:{renderDisableSpace:function(){$(".add-xxx").remove();for(var t=$(".noUi-connect"),e=[],i=0,a=0;a<t.length;a++){var s=t[a],n=s.style.transform.split(",")[0].replace("translate(","").replace("%",""),o=s.style.transform.split("scale(")[1].split(",")[0];if(0===a)e.push({width:n,margin:"0"});else{t[a-1].style.transform.split("(")[s.style.transform.split("(").length-1].split(",")[0],s.style.transform.split(",")[0].replace("translate(","").replace("%",""),t[a-1].style.transform.split(",")[0].replace("translate(","").replace("%","");e.push({width:parseFloat(n)-i,margin:i})}i=parseFloat(n)+100*parseFloat(o),i=parseFloat(i.toFixed(2)),a===t.length-1&&(i=parseFloat(n)+100*parseFloat(o),e.push({width:100-i,margin:i}))}e.map(function(t){$("#slider .noUi-connects").append('<div class="add-xxx" style="background-color: rgba(0, 0, 0, 0.1);height: 100%; transform: translate('+t.margin+"%, 0px) scale("+t.width/100+', 1);"></div>')})},renderSlider:function(){var t=this;try{var e=this;if(this.activeItem=this.videoActive.listSplitTime[this.videoActive.activeSplitTimeIndex],this.keyContainerControl=Et.a.generateKey(),this.enableSplit){var i=document.getElementById("sliderSplit");noUiSlider.create(i,{start:this.splitTime,range:{min:0,max:this.videoActive.duration.value},pips:{mode:"count",values:5},behaviour:"tap"}),i.noUiSlider.on("slide",function(t,i,a,s,n){e.splitTime=parseFloat(t[0]),e.$emit("receivedData",{key:"splitTime",value:parseFloat(t[0])})})}var a=[],s=[!1];this.videoActive.listSplitTime.map(function(t){s.push(!0),s.push(!1),a.push(t.startTime),a.push(t.endTime)});var n=document.getElementById("slider");noUiSlider.create(n,{start:a,connect:s,range:{min:0,max:this.videoActive.duration.value},behaviour:"drag"},!0);for(var o=n.querySelectorAll(".noUi-connect"),r=function(e){if(o[e].classList.add("noUi-handle-"+e),o[e].setAttribute("index",e),e!==t.videoActive.activeSplitTimeIndex){var i=o[e],a=i.cloneNode(!0);a.addEventListener("click",function(){t.videoActive.activeSplitTimeIndex=e,t.activeItem=t.videoActive.listSplitTime[e],t.$emit("receivedData",{key:"activeSplitTimeIndex",value:e}),t.reRenderSlider()}),a.classList.add("noUi-handle-disable"),i.parentNode.replaceChild(a,i)}},l=0;l<o.length;l++)r(l);var c=this;n.noUiSlider.on("slide",function(t,i,a,s,n){var o=0,r="";i%2==0?(r="startTime",o=i/2):(r="endTime",o=(i-1)/2),o===e.activeItem.index&&r&&(e.activeItem[r]=parseFloat(t[i]),e.$emit("onScroll",{key:r,value:parseFloat(t[i]),index:o}),e.keyContainerControl=Et.a.generateKey()),c.renderDisableSpace()}),n.noUiSlider.on("change",function(t,i,a,s,n){var o=0,r="";if(i%2==0?(r="startTime",o=i/2):(r="endTime",o=(i-1)/2),o===e.activeItem.index&&r){e.activeItem[r]=parseFloat(t[i]),e.keyContainerControl=Et.a.generateKey();var l=e.videoActive.listSplitTime;l[e.videoActive.activeSplitTimeIndex]=m()({},l[e.videoActive.activeSplitTimeIndex],Ot()({},r,parseFloat(t[i]))),e.videoActive=m()({},e.videoActive,{listSplitTime:l}),e.$emit("receivedData",{key:"videoActive",value:e.videoActive})}else e.renderActiveItem(o),e.activeItem=e.data.listSplitTime[o]}),this.renderActiveItem(this.videoActive.activeSplitTimeIndex)}catch(t){console.log(t)}},renderActiveItem:function(t){for(var e=document.getElementById("slider").querySelectorAll(".noUi-handle"),i=0;i<e.length;i++)i==2*t?(e[i].classList.remove("hide"),e[i+1].classList.remove("hide"),i++):e[i].classList.add("hide")},generateListThumbnail:function(){if(this.$refs.containerSlider&&this.$refs.containerSlider.clientWidth){var t=this.$refs.containerSlider.clientWidth;t=this.$refs.slider.clientWidth;var e=this.videoActive.resolution.width/this.videoActive.resolution.height*50;e=Math.floor(e);var i=Math.round(t/e);i++;for(var a=parseFloat(this.videoActive.duration.value/i),s=[],n=1;n<i+1;n++){var o=this.videoActive.url+"#t="+a*n;s.push(o)}this.listUrlThumbnail=s}},reRenderSlider:function(){$(".container-slider-time").html('<div id="slider" ref="slider"></div>'),this.enableSplit&&$(".container-slider-split").html('<div id="sliderSplit" ref="sliderSplit"></div>'),this.renderSlider(),this.renderDisableSpace()},updated:function(){this.renderDisableSpace()},updateData:function(t){this.videoActive=t,this.splitTime=t.splitTime,this.reRenderSlider()}},computed:{},mounted:function(){var t=this;this.data&&-1!==this.data.duration.value&&0!==this.data.duration.value&&(this.videoActive=this.data,this.splitTime=this.data.splitTime,this.renderSlider(),setTimeout(function(){t.generateListThumbnail(),t.renderDisableSpace()},100))}},sa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-control-split-video"},[e("div",{staticClass:"container-slider"},[this.isPreview?e("div",{staticClass:"container-thumbnail-timming"},this._l(this.listUrlThumbnail,function(t,i){return e("video",{key:i,staticClass:"loaded",attrs:{preload:"metadata",height:"50",src:t}})}),0):this._e(),this._v(" "),e("div",{ref:"containerSlider",staticClass:"container-slider-time"},[e("div",{ref:"slider",attrs:{id:"slider"}})])]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.enableSplit,expression:"this.enableSplit"}],staticClass:"container-slider-split"},[e("div",{ref:"sliderSplit",attrs:{id:"sliderSplit"}})])])},staticRenderFns:[]};var na=i("VU/8")(aa,sa,!1,function(t){i("HMy8")},"data-v-251e13e7",null).exports,oa={data:function(){return{hideControl:!1,activeItem:{index:0,startTime:0,endTime:0},listUrlThumbnail:[],videoActive:null,splitTime:0,keyContainerControl:0,keyRangeTiming:Et.a.generateKey()}},props:{data:{type:Object},splitTimeProp:{type:Number,default:0}},methods:{receivedData:function(t){switch(t.key){case"videoActive":this.videoActive=t.value;break;case"activeSplitTimeIndex":this.videoActive.activeSplitTimeIndex=t.value,this.activeItem=this.videoActive.listSplitTime[t.value],this.keyContainerControl=Et.a.generateKey();break;case"splitTime":this.splitTime=parseFloat(t.value)}this.$emit("receivedData",t)},onScrollTiming:function(t){this.activeItem[t.key]=t.value,this.videoActive;var e=this.videoActive.listSplitTime;e[this.videoActive.activeSplitTimeIndex]=m()({},e[this.videoActive.activeSplitTimeIndex],Ot()({},t.key,t.value)),this.videoActive=m()({},this.videoActive,{listSplitTime:e}),this.keyContainerControl=Et.a.generateKey(),this.$emit("setTimeVideo",t.value)},onSplitClick:function(){for(var t=[],e=0,i=this.splitTime,a=0,s=0;s<this.videoActive.listSplitTime.length;s++){var n=this.videoActive.listSplitTime[s];n.startTime<i&&n.endTime>i?(t.push(m()({},n,{index:e,endTime:i})),a=e,e++,t.push(m()({},n,{index:e,startTime:i}))):t.push(m()({},n,{index:e})),e++}this.videoActive.listSplitTime.length!==t.length&&(this.videoActive=m()({},this.videoActive,{listSplitTime:t,activeSplitTimeIndex:a}),this.activeItem=this.videoActive.listSplitTime[a],this.splitTime+=this.videoActive.duration.value/25,this.$emit("receivedData",{key:"videoActive",value:this.videoActive}),this.$emit("receivedData",{key:"splitTime",value:this.splitTime}),this.$refs.rangeTiming.updateData(this.videoActive),this.keyContainerControl=Et.a.generateKey())},setSplitTime:function(t){this.splitTime=t,this.videoActive.splitTime=t,this.$refs.rangeTiming.updateData(this.videoActive)},onChangeTimeCustom:function(t){this.activeItem[t.key]=t.value,this.$refs.rangeTiming.updateData(this.videoActive),this.$emit("onChangeCustomTime",this.videoActive)},getMaxInputTime:function(t){return this.videoActive&&this.videoActive.listSplitTime?0!=this.videoActive.activeSplitTimeIndex&&this.videoActive.listSplitTime.length-1>this.videoActive.activeSplitTimeIndex?this.videoActive.listSplitTime[this.videoActive.activeSplitTimeIndex+1].startTime:t?this.activeItem.endTime:this.videoActive.duration.value:0},getMinInputTime:function(t){return this.videoActive&&this.videoActive.listSplitTime?this.videoActive.activeSplitTimeIndex>0?this.videoActive.listSplitTime[this.videoActive.activeSplitTimeIndex-1].endTime:t?0:this.activeItem.startTime:0},onDeleteClick:function(){if(this.videoActive.listSplitTime.length>this.activeItem.index){this.videoActive.listSplitTime.splice(this.activeItem.index,1),0===this.activeItem.index?this.activeItem=this.videoActive.listSplitTime[0]:this.activeItem=this.videoActive.listSplitTime[this.activeItem.index-1];for(var t=0;t<this.videoActive.listSplitTime.length;t++)this.videoActive.listSplitTime[t]=m()({},this.videoActive.listSplitTime[t],{index:t})}this.keyContainerControl=Et.a.generateKey(),this.$refs.rangeTiming.reRenderSlider()},getTotalDuration:function(){var t=0;if(this.videoActive&&this.videoActive.listSplitTime)for(var e=0;e<this.videoActive.listSplitTime.length;e++){var i=this.videoActive.listSplitTime[e];t+=i.endTime-i.startTime}return Et.a.secondsToHms(t)}},computed:{getSplitTime:function(){return Et.a.secondsToHms(this.splitTime)},getDisableDelete:function(){return!this.videoActive||!this.videoActive.listSplitTime||this.videoActive.listSplitTime.length<=1}},mounted:function(){if(-1===this.data.duration.value||0===this.data.duration.value)return this.hideControl=!1;this.hideControl=!0,this.videoActive=this.data,this.splitTime=this.data.splitTime,this.activeItem=this.videoActive.listSplitTime[this.videoActive.activeSplitTimeIndex],this.keyContainerControl=Et.a.generateKey()},components:{InputTime:ia,RangeTiming:na}},ra={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.hideControl,expression:"hideControl"}],staticClass:"container-control-split-video"},[i("range-timing",{key:t.keyRangeTiming,ref:"rangeTiming",attrs:{data:t.data,enableSplit:!0},on:{receivedData:t.receivedData,onScroll:t.onScrollTiming}}),t._v(" "),i("div",{key:t.keyContainerControl,staticClass:"container container-control"},[i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col-xl-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"my-auto"},[t._v("Start:")]),t._v(" "),i("input-time",{staticClass:"control-input-time col-9 reset",attrs:{returnType:"second",max:t.getMaxInputTime(!0),min:t.getMinInputTime(!0),value:t.activeItem.startTime,name:"startTime",id:"startTime"},on:{onChange:t.onChangeTimeCustom}})],1)]),t._v(" "),i("div",{staticClass:"col-xl-4",staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticClass:"row"},[i("span",[t._v("\n            Duration:\n            "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.getTotalDuration())+" s")])])])]),t._v(" "),i("div",{staticClass:"col-xl-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"my-auto"},[t._v("End:")]),t._v(" "),i("input-time",{staticClass:"control-input-time col-8 col-lg-9 col-md-10 col-sm-9 reset",attrs:{returnType:"second",max:t.getMaxInputTime(!1),min:t.getMinInputTime(!1),value:t.activeItem.endTime,name:"endTime",id:"endTime"},on:{onChange:t.onChangeTimeCustom}})],1)])]),t._v(" "),i("div",[i("button",{staticClass:"btn btn-primary btn-split-time col-12 mt-3 ml-3",on:{click:function(e){return t.onSplitClick()}}},[t._v("\n        Split:\n        "),i("span",{staticClass:"time-split"},[t._v(t._s(t.getSplitTime))])]),t._v(" "),i("button",{staticClass:"btn btn-danger ml-3 mt-3",attrs:{disabled:t.getDisableDelete},on:{click:function(e){return t.onDeleteClick()}}},[t._v("Delete")])])])],1)},staticRenderFns:[]};var la=i("VU/8")(oa,ra,!1,function(t){i("XPbs")},null,null).exports,ca={name:"button-quality",components:{ModalCreateProfile:$i},data:function(){return{selected:null,listProfile:[],isLoading:!1}},methods:{checkIsSelectOriginal:function(){return null==this.selected||"ORIGINAL"==this.selected.name},createNewProfile:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e.isLoading=!0,i.next=4,Ei.createProfile(t);case 4:if(!(a=i.sent)||200!==a.status){i.next=13;break}return i.next=8,e.$swal.fire({type:"success",text:"Profile Created.!",timer:1e3});case 8:return i.next=10,e.getProfiles();case 10:e.$refs.modalCreateProfile.hideModal(),i.next=14;break;case 13:e.$swal.fire({type:"error",text:"Error",showConfirmButton:!0});case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),e.$swal.fire({type:"error",text:i.t0,showConfirmButton:!0});case 19:e.isLoading=!1;case 20:case"end":return i.stop()}},i,e,[[0,16]])}))()},onSelectItem:function(t){this.selected=t,this.$emit("onChange",{key:"quality",value:t})},getProfiles:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei.getProfiles();case 2:(i=e.sent)&&200===i.status?(t.listProfile=i.data.listProfile,t.$store.dispatch("setListProfile",i.data.listProfile)):t.$swal.fire({type:"error",title:"Error Get Profiles",timer:1e3});case 4:case"end":return e.stop()}},e,t)}))()},onSelectCreate:function(){this.$refs.modalCreateProfile.showModal()},getName:function(t){var e="";switch(t){case 2160:e="4K";break;case 1440:e="2K";break;case 1080:e="Full HD";break;case 720:e="HD"}return e},displayValueSelected:function(){if(this.selected)return"default"===this.selected.type&&this.selected.quality.height?this.selected.quality.height+"p":this.selected.name},getDisplayValue:function(t){return"default"===t.type&&0!==t.quality.height?t.quality.height+"p":t.name},removeProfile:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return event.stopPropagation(),i.next=3,e.$swal.fire({type:"question",title:"Delete Profile",text:"Do you want to delete this profile: "+t.name,showConfirmBotton:!0,showCancelButton:!0}).then(function(){var i=r()(n.a.mark(function i(a){var s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!a||!0!==a.value){i.next=11;break}return i.next=3,Ei.deleteProfile({idProfile:t._id});case 3:if((s=i.sent)&&200===s.status){i.next=8;break}e.$swal.fire({type:"error",title:"Error Delete Profile",showConfirmButton:!0}),i.next=11;break;case 8:return i.next=10,e.getProfiles();case 10:e.selected&&e.selected._id===t._id&&e.setSelectedDefault();case 11:case"end":return i.stop()}},i,e)}));return function(t){return i.apply(this,arguments)}}());case 3:case"end":return i.stop()}},i,e)}))()},setSelectedDefault:function(){var t=this.listProfile.find(function(t){return t.name===Z.VIDEO_QUALITY.ORIGINAL&&"default"===t.type});t&&(this.selected=t,this.$emit("onChange",{key:"quality",value:t}))}},props:{value:{type:String,default:""},resolutionRate:{}},created:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.listProfile=t.$store.state.data.listProfile,null!==t.value&&t.value!==Z.VIDEO_QUALITY.ORIGINAL?(i=t.listProfile.find(function(e){return e._id===t.value}))&&(t.selected=i):t.setSelectedDefault();case 2:case"end":return e.stop()}},e,t)}))()},mounted:function(){}},da={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group dropup"},[i("button",{staticClass:"btn btn-quality dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n    Quality:\n    "),i("span",{staticClass:"selected"},[t._v(t._s(t.displayValueSelected()))])]),t._v(" "),i("div",{staticClass:"dropdown-menu"},[i("div",{staticClass:"dropdown-header"},[t._v("Quality")]),t._v(" "),t._l(t.listProfile.filter(function(e){return"default"===e.type&&(!t.resolutionRate||t.resolutionRate&&(e.quality.width/e.quality.height===t.resolutionRate.value||e.name===t.resolutionRate.display))}),function(e){return i("div",{key:e._id,staticClass:"dropdown-item",class:{"active-item":t.selected&&e._id===t.selected._id},on:{click:function(i){return t.onSelectItem(e)}}},[i("span",{staticClass:"container-active-item"},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.selected&&e._id===t.selected._id,expression:"selected && item._id === selected._id"}],staticClass:"fas fa-circle container-active-item"})]),t._v(" "),i("span",{staticClass:"display"},[t._v(t._s(t.getDisplayValue(e)))]),t._v(" "),i("span",{staticClass:"name",class:{"active-item":t.selected&&e._id===t.selected._id}},[t._v(t._s(t.getName(e.quality.height)))])])}),t._v(" "),i("div",{staticClass:"dropdown-header"},[t._v("Your Quality")]),t._v(" "),t._l(t.listProfile.filter(function(e){return"default"!==e.type&&(!t.resolutionRate||t.resolutionRate&&e.quality.width/e.quality.height==t.resolutionRate.value)}),function(e){return i("div",{key:e._id,staticClass:"dropdown-item",class:{"active-item":t.selected&&e._id===t.selected._id},on:{click:function(i){return t.onSelectItem(e)}}},[i("span",{staticClass:"trash",on:{click:function(i){return t.removeProfile(e)}}},[i("i",{staticClass:"fas fa-trash-alt"})]),t._v(" "),i("span",{staticClass:"container-active-item"},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.selected&&e._id===t.selected._id,expression:"selected && item._id === selected._id"}],staticClass:"fas fa-circle container-active-item"})]),t._v(" "),i("span",{staticClass:"display"},[t._v(t._s(t.getDisplayValue(e)))]),t._v(" "),i("span",{staticClass:"name",class:{"active-item":t.selected&&e._id===t.selected._id}},[t._v(t._s(t.getName(e.quality.height)))])])}),t._v(" "),i("div",{staticClass:"dropdown-item",on:{click:function(e){return t.onSelectCreate()}}},[i("span",{staticClass:"container-active-item"}),t._v(" "),i("span",{staticClass:"display"},[t._v("Create New Profile")])])],2),t._v(" "),i("modal-create-profile",{ref:"modalCreateProfile",attrs:{isLoading:t.isLoading},on:{createNewProfile:t.createNewProfile}})],1)},staticRenderFns:[]};var ua=i("VU/8")(ca,da,!1,function(t){i("uEZp")},"data-v-b97a30a2",null).exports,va={name:"button-crop",data:function(){return{listCrop:[{name:"Square",display:"1:1",value:"1:1"},{name:"Classic TV",display:"4:3",value:"4:3"},{name:"Instagram",display:"4:5",value:"4:5"},{name:"Widecreen TV",display:"16:9",value:"16:9"},{name:"Some new phone",display:"18:9",value:"18:9"},{name:"Cinemascope",display:"21:9",value:"21:9"},{name:"",display:"Original",value:Z.CROP.ORIGIN},{name:"",display:"Custom",value:Z.CROP.CUSTOM},{name:"",display:"Clear crop",value:Z.CROP.NO_CROP}],selected:{name:"",display:"Clear crop",value:Z.CROP.NO_CROP}}},methods:{onSelectItem:function(t){this.selected=t,this.$emit("onChange",{key:"crop",value:t})}},props:{value:{type:String,default:""}},mounted:function(){var t=this;if(this.value){var e=this.listCrop.find(function(e){return e.value===t.value});e&&(this.selected=e)}}},ha={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group dropup"},[i("button",{staticClass:"btn btn-crop",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("svg",{attrs:{width:"25px",height:"24px",viewBox:"0 0 25 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M19,20 L6,20 C4.8954305,20 4,19.1045695 4,18 L4,6 L1,6 C0.44771525,6 6.76353751e-17,5.55228475 0,5 C-6.76353751e-17,4.44771525 0.44771525,4 1,4 L4,4 L4,1 C4,0.44771525 4.44771525,0 5,0 C5.55228475,0 6,0.44771525 6,1 L6,18 L23.5,18 C24.0522847,18 24.5,18.4477153 24.5,19 C24.5,19.5522847 24.0522847,20 23.5,20 L21,20 L21,23 C21,23.5522847 20.5522847,24 20,24 C19.4477153,24 19,23.5522847 19,23 L19,20 Z M19,6 L8,6 L8,4 L19,4 C20.1045695,4 21,4.8954305 21,6 L21,16.5 L19,16.5 L19,6 Z",id:"Crop",fill:"NO_CROP"!==t.selected.value?"#40f771":"#FFFFFF","fill-rule":"nonzero"}})])]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"NO_CROP"!==t.selected.value,expression:"selected.value !== 'NO_CROP'"}],staticClass:"active-item"},[t._v(t._s(t.selected.display))])]),t._v(" "),i("div",{staticClass:"dropdown-menu"},[i("div",{staticClass:"dropdown-header"},[t._v("Quality")]),t._v(" "),t._l(t.listCrop,function(e){return i("div",{key:e.value,staticClass:"dropdown-item",class:{"active-item":e.value===t.selected.value},on:{click:function(i){return t.onSelectItem(e)}}},[i("span",{staticClass:"container-active-item"},[i("i",{directives:[{name:"show",rawName:"v-show",value:e.value===t.selected.value,expression:"item.value === selected.value"}],staticClass:"fas fa-circle container-active-item"})]),t._v(" "),i("span",{staticClass:"display"},[t._v(t._s(e.display))]),t._v(" "),i("span",{staticClass:"name",class:{"active-item":e.value===t.selected.value}},[t._v(t._s(e.name))])])})],2)])},staticRenderFns:[]};var pa=i("VU/8")(va,ha,!1,function(t){i("IXfo")},"data-v-8aca3e90",null).exports,ma={name:"button-rotate",data:function(){return{listRotate:[0,90,180,270],selected:0}},methods:{onClick:function(){for(var t=0;t<this.listRotate.length;t++){var e=this.listRotate[t];if(t!==this.listRotate.length-1&&e===this.selected){this.selected=this.listRotate[t+1];break}if(e===this.selected){this.selected=0;break}}this.$emit("onChange",{key:"rorate",value:this.selected})}},props:{value:{type:Number,default:0}},mounted:function(){var t=this;if(this.value){var e=this.listRotate.find(function(e){return e===t.value});e&&(this.selected=e)}}},fa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-rotate",attrs:{type:"button"},on:{click:this.onClick}},[e("svg",{attrs:{width:"26px",height:"25px",viewBox:"0 0 26 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[e("g",{attrs:{id:"rotate",transform:"translate(0.000000, -1.000000)"}},[e("path",{attrs:{d:"M24.6231509,13.514 L26,13.514 L26,15.514 L24.9182692,15.514 C19.3954217,15.514 14.9182692,11.0368475 14.9182692,5.514 L14.9182692,4.014 L16.6231509,4.014 L16.6231509,5.514 C16.6231509,9.932278 20.2048729,13.514 24.6231509,13.514 Z",id:"Path-6-Copy",fill:0!==this.selected?"#40f771":"#FFFFFF","fill-rule":"nonzero",transform:"translate(20.459135, 9.764000) rotate(-180.000000) translate(-20.459135, -9.764000) "}}),this._v(" "),e("rect",{attrs:{id:"Rectangle",stroke:0!==this.selected?"#40f771":"#FFFFFF","stroke-width":"2",x:"1",y:"12",width:"17",height:"13",rx:"2"}}),this._v(" "),e("path",{attrs:{d:"M11.6464466,1.78248558 L17.2210841,2.41905162 C17.3856998,2.43784903 17.5039088,2.5865347 17.4851114,2.75115037 C17.4774184,2.81852123 17.4471284,2.88129871 17.3991804,2.92924668 L12.7932077,7.53521941 C12.6760504,7.6523767 12.4861009,7.6523767 12.3689436,7.53521941 C12.3209957,7.48727144 12.2907057,7.42449396 12.2830126,7.3571231 L11.6464466,1.78248558 Z",id:"Rectangle-3",fill:0!==this.selected?"#40f771":"#FFFFFF",transform:"translate(14.742641, 4.878680) rotate(-45.000000) translate(-14.742641, -4.878680) "}})])])])])},staticRenderFns:[]};var ga=i("VU/8")(ma,fa,!1,function(t){i("8vqq")},"data-v-1a6c0456",null).exports,_a=i("vn6w"),ba=i.n(_a),ya={name:"range-alone",props:{max:Number},mounted:function(){$(".container-range-alone").html('<div style="width: 100%" id="sliderAlone" ref="sliderAlone"></div>');var t=document.getElementById("sliderAlone"),e=this;noUiSlider.create(t,{start:0,range:{min:0,max:e.max},pips:{mode:"count",values:5}}),t.noUiSlider.on("slide",function(t,i,a,s,n){e.$emit("onChangeTiming",parseFloat(t[0]))})}},Ca={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-range-alone"},[e("div",{ref:"sliderAlone",staticStyle:{width:"100%"},attrs:{id:"sliderAlone"}})])},staticRenderFns:[]};var xa=i("VU/8")(ya,Ca,!1,function(t){i("eOm0")},null,null).exports,wa=!1,ka={name:"modal-create-video",components:{ProgressCircle:Di.a,RangeTiming:na,ModalInputAudio:We,Loading:c.a,RangeAlone:xa},data:function(){return{progress:0,isError:!1,isSuccess:!1,isUploading:!1,startCreate:!1,nameVideo:"",urlVideo:"",isPlaying:!1,totalTimeVideo:0,listVideo:[],videoIndex:0,currentTimeVideo:0,audio:null,isLoading:!0,oldTiming:0,oldItemActiveXXX:null,autoPlayVideo:!1,currentTiming:0,volumeVideo:1,volumeAudio:1,urlImageWave:""}},props:{payload:Object,urlApi:String,persent:Number,name:String,isEditVideo:Boolean,audioProps:Object,volumeVideoProps:Number,isCreateFailed:Boolean},methods:{onChangeVolumeVideo:function(){document.getElementById("player").volume=event.target.value},onChangeVolumeAudio:function(){document.getElementById("audioControl").volume=event.target.value},onSeeked:function(t){wa=!1;var e=document.getElementById("sliderAlone");this.currentTimeVideo=t.target.currentTime;var i=void 0,a=this.listVideo[this.videoIndex];if(a){for(var s=0;s<a.listSplitTime.length;s++){var n=a.listSplitTime[s];if(this.currentTimeVideo>=n.startTime&&this.currentTimeVideo<=n.endTime){i=n,s;break}}if(i){if(wa)return;if(!this.oldItemActiveXXX||this.oldItemActiveXXX.id!==i.id){this.oldItemActiveXXX=i;for(var o=0,r=0;r<this.videoIndex;r++)for(var l=this.listVideo[r],c=0;c<l.listSplitTime.length;c++){var d=l.listSplitTime[c];o+=d.endTime-d.startTime}this.oldTiming=o}this.currentTiming=e.noUiSlider.get()}}},onSeeking:function(t){wa=!0;var e=document.getElementById("sliderAlone");this.currentTimeVideo=t.target.currentTime;var i=void 0,a=this.listVideo[this.videoIndex];if(a){for(var s=0;s<a.listSplitTime.length;s++){var n=a.listSplitTime[s];if(this.currentTimeVideo>=n.startTime&&this.currentTimeVideo<=n.endTime){i=n,s;break}}if(i){if(wa)return;if(!this.oldItemActiveXXX||this.oldItemActiveXXX.id!==i.id){this.oldItemActiveXXX=i;for(var o=0,r=0;r<this.videoIndex;r++)for(var l=this.listVideo[r],c=0;c<l.listSplitTime.length;c++){var d=l.listSplitTime[c];o+=d.endTime-d.startTime}this.oldTiming=o}this.currentTiming=e.noUiSlider.get()}}},onChangeTiming:function(t){this.$refs.audioControl&&(this.$refs.audioControl.currentTime=t,this.$refs.audioControl.pause(),this.$refs.player.pause());for(var e=0,i=null,a=0,s=0;s<this.listVideo.length;s++){for(var n=this.listVideo[s],o=0;o<n.listSplitTime.length;o++){var r=n.listSplitTime[o];if(t>e&&t<=e+(r.endTime-r.startTime)){i=n,a=t-e+r.startTime,s,this.videoIndex=s,0==this.videoIndex&&(this.oldTiming=0);break}e+=r.endTime-r.startTime}if(i)break}if(i){this.urlVideo=i.url,this.currentTimeVideo=a;var l=decodeURI(this.$refs.player.currentSrc);this.currentTiming=t,l===i.url&&(this.$refs.player.currentTime=a)}},pushNewAudio:function(t,e){this.audio="error"===e?null:t,this.$refs.player.pause(),this.$refs.player.currentTime=0,document.getElementById("sliderAlone").noUiSlider.set(0),this.urlVideo=this.listVideo[0].url,t.isLoading},addAudioCLick:function(){this.$refs.modalInputFile.showModal()},videoPlay:function(t){this.currentTimeVideo?t.target.currentTime=this.currentTimeVideo:t.target.currentTime=this.listVideo[this.videoIndex].listSplitTime[0].startTime,this.autoPlayVideo=!1},videoTimeupdate:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o,r,l,c,d,u,v,h,p,m;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a=document.getElementById("sliderAlone"),e.currentTimeVideo=t.target.currentTime,s=void 0,o=void 0,r=e.listVideo[e.videoIndex]){i.next=7;break}return i.abrupt("return");case 7:l=0;case 8:if(!(l<r.listSplitTime.length)){i.next=17;break}if(c=r.listSplitTime[l],!(e.currentTimeVideo>=c.startTime&&e.currentTimeVideo<=c.endTime)){i.next=14;break}return s=c,o=l,i.abrupt("break",17);case 14:l++,i.next=8;break;case 17:if(!s&&r.listSplitTime.length-1>o?e.currentTimeVideo=r.listSplitTime[o+1].startTime:s||(0===e.currentTimeVideo?(e.currentTimeVideo=r.listSplitTime[0].startTime,t.target.currentTime=r.listSplitTime[0].startTime):(e.videoIndex++,e.videoIndex==e.listVideo.length?(e.videoIndex=0,e.oldTiming=0,a.noUiSlider.set(0),e.isPlaying=!1,e.$refs.audioControl&&(e.$refs.audioControl.currentTime=0,e.$refs.audioControl.pause())):e.autoPlayVideo=!0,e.urlVideo=e.listVideo[e.videoIndex].url)),!s){i.next=25;break}if(!wa){i.next=21;break}return i.abrupt("return");case 21:if(d=0,!e.oldItemActiveXXX||e.oldItemActiveXXX.id!==s.id){for(e.oldItemActiveXXX=s,u=0,v=0;v<e.videoIndex;v++)for(h=e.listVideo[v],p=0;p<h.listSplitTime.length;p++)m=h.listSplitTime[p],u+=m.endTime-m.startTime;e.oldTiming=u}d=e.oldTiming+t.target.currentTime-s.startTime,a.noUiSlider.set(d);case 25:case"end":return i.stop()}},i,e)}))()},endedVideo:function(){if(this.videoIndex++,this.videoIndex==this.listVideo.length){var t=document.getElementById("sliderAlone");this.videoIndex=0,this.oldTiming=0,t.noUiSlider.set(0),this.isPlaying=!1,this.$refs.audioControl&&(this.$refs.audioControl.currentTime=0,this.$refs.audioControl.pause())}else this.autoPlayVideo=!0;this.urlVideo=this.listVideo[this.videoIndex].url},getStyleItemVideo:function(t){if(this.totalTimeVideo&&t&&t.listSplitTime){for(var e=0,i=0;i<t.listSplitTime.length;i++){var a=t.listSplitTime[i];e+=a.endTime-a.startTime}var s=e/this.totalTimeVideo;return{width:(s*=100)+"%"}}},onPlayClick:function(){this.$refs.player&&this.listVideo.length>0?(this.isPlaying=!this.isPlaying,this.isPlaying?(this.$refs.player.play(),this.$refs.audioControl&&this.$refs.audioControl.play()):(this.$refs.player.pause(),this.$refs.audioControl&&this.$refs.audioControl.pause())):!0===this.isPlaying&&(this.isPlaying=!1,this.$refs.audioControl&&this.$refs.audioControl.pause(),this.$refs.player.pause())},onCreateVideoClick:function(){if(!this.nameVideo||!this.nameVideo.trim())return this.$swal.fire({type:"error",title:"Enter your video name",showConfirmButton:!1,timer:1e3});this.startCreate=!0;var t=m()({},this.audio,{volume:this.volumeAudio});this.isEditVideo?this.$emit("onSave",this.nameVideo,t,this.volumeVideo):this.$emit("createVideo",this.nameVideo,t,this.volumeVideo)},showModal:function(t){this.progress=0,this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.isPlaying=!1,this.currentTimeVideo=0,this.videoIndex=0,this.oldTiming=0,this.totalTimeVideo=0,this.listVideo=[],this.$refs.myModal.hide();for(var e=0;e<t.length;e++)for(var i=t[e],a=0;a<i.listSplitTime.length;a++){i.listSplitTime[a].id=Et.a.generateKey()}this.listVideo=t,this.urlVideo=t[0].url,this.startCreate=!1;for(var s=0,n=0;n<this.listVideo.length;n++){var o=this.listVideo[n];if(o&&o.listSplitTime)for(var r=0;r<o.listSplitTime.length;r++){var l=o.listSplitTime[r];s+=l.endTime-l.startTime}}this.totalTimeVideo=parseFloat(s.toFixed(2)),this.$refs.myModal.show()},hideModal:function(){this.progress=0,this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.isPlaying=!1,this.currentTimeVideo=0,this.videoIndex=0,this.oldTiming=0,this.totalTimeVideo=0,this.listVideo=[],this.$refs.myModal.hide(),this.urlVideo=""}},created:function(){this.name&&(this.nameVideo=this.name),null!=this.volumeVideoProps&&(this.volumeVideo=this.volumeVideoProps),this.audioProps&&(this.audio=this.audioProps,this.volumeAudio=this.audioProps.volume)},mounted:function(){}},Sa={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"myModal",attrs:{"hide-footer":"","no-close-on-backdrop":"",size:"lg",id:"modal-upload-file",title:t.isEditVideo?"Save Video":"Create Video"}},[i("b-row",{staticClass:"container-fluid container"},[i("div",{staticClass:"contain-preview-video"},[t.listVideo.length>0?i("video",{ref:"player",staticClass:"player",attrs:{id:"player",width:"100%",height:"100%",src:t.urlVideo,autoplay:t.autoPlayVideo},on:{ended:t.endedVideo,play:t.videoPlay,timeupdate:t.videoTimeupdate,seeked:t.onSeeked,seeking:t.onSeeking}},t._l(t.listVideo,function(t,e){return i("source",{key:e,attrs:{src:t.url,type:"video/mp4"}})}),0):t._e()]),t._v(" "),i("div",{staticClass:"control-video-preview"},[i("button",{staticClass:"btn btn-play mx-3",on:{click:t.onPlayClick}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"fas fa-play"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"fas fa-pause"})]),t._v(" "),i("div",{staticClass:"contain-range-timing"},t._l(t.listVideo,function(e,a){return i("div",{key:a,style:t.getStyleItemVideo(e)},[i("range-timing",{ref:"rangeTiming",refInFor:!0,attrs:{data:e,enableSplit:!0}})],1)}),0)]),t._v(" "),i("div",{staticClass:"control-video-preview",staticStyle:{width:"100%","padding-left":"80px !important",height:"60px"}},[i("range-alone",{attrs:{max:t.totalTimeVideo},on:{onChangeTiming:t.onChangeTiming}})],1),t._v(" "),i("div",{staticClass:"control-video-preview"},[i("button",{staticClass:"btn btn-play mx-3",on:{click:t.addAudioCLick}},[i("i",{staticClass:"fas fa-music"})]),t._v(" "),i("div",{staticClass:"contain-audio"},[t.audio&&t.audio.isLoading?i("loading",{attrs:{active:t.audio.isLoading,"can-cancel":!0,"is-full-page":!1,height:30,width:30},on:{"update:active":function(e){return t.$set(t.audio,"isLoading",e)}}}):t._e(),t._v(" "),t.audio&&!t.audio.isLoading&&t.audio.url?i("audio",{ref:"audioControl",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.audio&&t.audio.url,controls:"",id:"audioControl"}}):t._e(),t._v(" "),t.audio?t._e():i("div",{staticClass:"contain-audio-disable"},[i("span",[t._v("Chưa chọn audio")])]),t._v(" "),t.urlImageWave?i("img",{staticClass:"image-wave",attrs:{src:t.urlImageWave}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"control-video-preview"},[i("span",{staticClass:"col-2"},[t._v("Âm lượng:")]),t._v(" "),i("i",{staticClass:"fas fa-video icon-volume"}),t._v(" "),i("span",{staticClass:"value-volume"},[t._v(t._s((100*t.volumeVideo).toFixed()))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.volumeVideo,expression:"volumeVideo"}],staticClass:"custom-range col-3",attrs:{type:"range",min:"0",step:"0.01",max:"1",id:"customRange2"},domProps:{value:t.volumeVideo},on:{input:t.onChangeVolumeVideo,__r:function(e){t.volumeVideo=e.target.value}}}),t._v(" "),t.audio&&!t.audio.isLoading&&t.audio.url?i("i",{staticClass:"fas fa-music icon-volume"}):t._e(),t._v(" "),t.audio&&!t.audio.isLoading&&t.audio.url?i("span",{staticClass:"value-volume"},[t._v(t._s((100*t.volumeAudio).toFixed()))]):t._e(),t._v(" "),t.audio&&!t.audio.isLoading&&t.audio.url?i("input",{directives:[{name:"model",rawName:"v-model",value:t.volumeAudio,expression:"volumeAudio"}],staticClass:"custom-range col-3",attrs:{type:"range",min:"0",step:"0.01",max:"1",id:"customRange2"},domProps:{value:t.volumeAudio},on:{input:t.onChangeVolumeAudio,__r:function(e){t.volumeAudio=e.target.value}}}):t._e()]),t._v(" "),i("b-form-input",{directives:[{name:"show",rawName:"v-show",value:!t.startCreate,expression:"!startCreate"}],staticClass:"mt-3",attrs:{placeholder:"Enter video name"},model:{value:t.nameVideo,callback:function(e){t.nameVideo=e},expression:"nameVideo"}}),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.startCreate,expression:"!startCreate"}],staticClass:"my-3 mt-3",attrs:{variant:"success"},on:{click:t.onCreateVideoClick}},[t._v(t._s(t.isEditVideo?"Save Video Now":"Create Video Now"))]),t._v(" "),i("progress-circle",{directives:[{name:"show",rawName:"v-show",value:t.startCreate,expression:"startCreate"}],attrs:{"completed-steps":t.persent,"total-steps":100,"start-color":t.isCreateFailed?"red":"green","stop-color":t.isCreateFailed?"red":"green","circle-color":"#e8e8e8",diameter:250,"animation-duration":300}},[i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Creating.")]),t._v(" "),i("span",{staticClass:"text-create loading"})]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed,expression:"persent === 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Success")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.isCreateFailed,expression:"isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Failed")])])],1)],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"footer"},[t.isCreateFailed?i("b-button",{attrs:{variant:"success"},on:{click:t.hideModal}},[t._v("Try Upload Again")]):t._e(),t._v(" "),i("b-button",{attrs:{variant:t.isCreateFailed?"secondary":100===t.persent?"success":"danger"},on:{click:t.hideModal}},[t._v(t._s(100===t.persent?"Done":"Cancel"))])],1)],1),t._v(" "),i("modal-input-audio",{ref:"modalInputFile",attrs:{typeInput:"audio"},on:{pushNewAudio:t.pushNewAudio}})],1)},staticRenderFns:[]};var Ta=i("VU/8")(ka,Sa,!1,function(t){i("Hy01")},"data-v-59031747",null).exports,Va={data:function(){return{listVideo:[],videoActive:{date:"",duration:{value:-1,display:""},name:"",resolution:{width:0,height:0,display:""},size:"",thumbnail:"",typeFile:"",url:"",listSplitTime:[{startTime:0,endTime:0}],filter:{crop:{type:"",x:0,y:0,width:0,height:0},rotate:0},splitTime:0,maxWidth:0,maxHeight:0},rangerSplitVideoKey:0,isPlaying:!1,currentTimePreviewVideo:0,displayCurrentTimeVideo:"0/ 0",cssRotate:"",widthResize:null,heightResize:null,xResize:null,yResize:null,maxWidth:null,maxHeight:null,keyContainerVideo:Et.a.generateKey(),cssContainerResize:"",keyFooter:Et.a.generateKey(),keyContainerResize:Et.a.generateKey(),keyVideo:Et.a.generateKey(),lockRatioResize:!0,isShowResize:!1,progressUpload:0,isEditVideo:!1,nameVideoEdit:null,idProfile:Z.VIDEO_QUALITY.ORIGINAL,videoEdit:null,tabListIndex:0,volumeVideo:1,audio:null,isCreateFailed:!1,isLoadedData:!1}},methods:{getTotalTimeVideo:function(){for(var t=0,e=0;e<this.listVideo.length;e++){var i=this.listVideo[e];if(i&&i.listSplitTime)for(var a=0;a<i.listSplitTime.length;a++){var s=i.listSplitTime[a];t+=s.endTime-s.startTime}}return Et.a.secondsToHms(t)},getTotalTimeAudio:function(){for(var t=0,e=0;e<this.listVideo.length;e++){var i=this.listVideo[e];if(i&&i.listSplitTime)for(var a=0;a<i.listSplitTime.length;a++){var s=i.listSplitTime[a];t+=s.endTime-s.startTime}}return Et.a.secondsToHms(t)},onSave:function(t,e,i){var a=this;return r()(n.a.mark(function s(){var o,r,l,c,d,u;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(a.isCreateFailed=!1,s.prev=1,o=(o=[].concat(F()(a.listVideo))).map(function(t){if(t.filter.crop.ratio&&t.filter.crop.ratio!==Z.CROP.NO_CROP&&t.filter.crop.ratio!==Z.CROP.ORIGIN){var e=$("#previewVideo")[0].clientWidth,i=$("#previewVideo")[0].clientHeight;t.filter.crop=m()({},t.filter.crop,{tx:parseFloat((t.filter.crop.x/e).toFixed(2)),ty:parseFloat((t.filter.crop.y/i).toFixed(2)),tw:parseFloat((t.filter.crop.width/e).toFixed(2)),th:parseFloat((t.filter.crop.height/i).toFixed(2))})}return m()({},t)}),r=new FormData,l=0;l<o.length;l++)"local"===(c=o[l]).typeUrl&&r.append("video",c.file,c.id);return e&&e.file&&r.append("audio",e.file,e.id),d=Dt()({data:{listVideo:o,audio:e,volumeVideo:i},name:t,type:Z.VIDEO_TYPE.JOIN_VIDEO,idProfile:a.idProfile,_id:a.videoEdit._id}),r.append("videoSpec",d),s.next=11,$t.updateVideo(r,{onUploadProgress:a.onUploadProgress});case 11:(u=s.sent)&&200===u.status?a.$swal.fire({type:"success",title:"Tạo Video Thành Công",text:"Bạn có muốn tạo tiếp hay không..?",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"></i> Có',cancelButtonText:'<i class="fa fa-thumbs-down"> Không</i>',reverseButtons:!0}).then(function(t){t&&!0===t.value?(a.resetData(),a.$refs.modalCreateJoinVideo.hideModal()):a.$router.push("/manager-video")}):(a.isCreateFailed=!0,a.$swal.fire({type:"error",title:"Error. Server is Error",showCancelButton:!0})),s.next=19;break;case 15:s.prev=15,s.t0=s.catch(1),a.isCreateFailed=!0,a.$swal.fire({type:"error",title:"Error "+s.t0,showCancelButton:!0});case 19:case"end":return s.stop()}},s,a,[[1,15]])}))()},saveVideoClick:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.listVideo&&0!==t.listVideo.length?(t.progressUpload=0,t.isCreateFailed=!1,t.$refs.modalCreateJoinVideo.showModal(t.listVideo)):t.$swal.fire({type:"error",title:"Chưa chọn video",showConfirmButton:!1,timer:1e3});case 1:case"end":return e.stop()}},e,t)}))()},removeItem:function(t){this.listVideo=this.listVideo.filter(function(e){return e.id!==t.id}),this.listVideo.length>0?this.videoActive=this.listVideo[0]:this.videoActive={date:"",duration:{value:-1,display:""},name:"",resolution:{width:0,height:0,display:""},size:"",thumbnail:"",typeFile:"",url:"",listSplitTime:[{startTime:0,endTime:0}],filter:{crop:{type:"",x:0,y:0,width:0,height:0},rotate:0},splitTime:0,maxWidth:0,maxHeight:0},this.rangerSplitVideoKey=Et.a.generateKey(),event.stopPropagation()},resetData:function(){this.listVideo=[],this.videoActive={date:"",duration:{value:-1,display:""},name:"",resolution:{width:0,height:0,display:""},size:"",thumbnail:"",typeFile:"",url:"",listSplitTime:[{startTime:0,endTime:0}],filter:{crop:{type:"",x:0,y:0,width:0,height:0},rotate:0},splitTime:0,maxWidth:0,maxHeight:0},this.rangerSplitVideoKey=0,this.isPlaying=!1,this.currentTimePreviewVideo=0,this.displayCurrentTimeVideo="0/ 0",this.cssRotate="",this.widthResize=null,this.heightResize=null,this.xResize=null,this.yResize=null,this.maxWidth=null,this.maxHeight=null,this.keyContainerVideo=Et.a.generateKey(),this.cssContainerResize="",this.keyFooter=Et.a.generateKey(),this.keyContainerResize=Et.a.generateKey(),this.keyVideo=Et.a.generateKey(),this.lockRatioResize=!0,this.isShowResize=!1,this.progressUpload=0},createVideo:function(t,e,i){var a=this;return r()(n.a.mark(function s(){var o,r,l,c,d,u;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(a.isCreateFailed=!1,s.prev=1,o=(o=[].concat(F()(a.listVideo))).map(function(t){if(t.filter.crop.ratio&&t.filter.crop.ratio!==Z.CROP.NO_CROP&&t.filter.crop.ratio!==Z.CROP.ORIGIN){var e=$("#previewVideo")[0].clientWidth,i=$("#previewVideo")[0].clientHeight;t.filter.crop=m()({},t.filter.crop,{tx:parseFloat((t.filter.crop.x/e).toFixed(2)),ty:parseFloat((t.filter.crop.y/i).toFixed(2)),tw:parseFloat((t.filter.crop.width/e).toFixed(2)),th:parseFloat((t.filter.crop.height/i).toFixed(2))})}return m()({},t)}),r=new FormData,l=0;l<o.length;l++)"local"===(c=o[l]).typeUrl&&r.append("video",c.file,c.id);return e&&e.file&&r.append("audio",e.file,e.id),e.file=null,d=Dt()({data:{listVideo:o,audio:e,volumeVideo:i},name:t,type:Z.VIDEO_TYPE.JOIN_VIDEO,idProfile:a.idProfile}),r.append("payload",d),s.next=12,$t.createVideo(r,{onUploadProgress:a.onUploadProgress});case 12:(u=s.sent)&&200===u.status?a.$swal.fire({type:"success",title:"Tạo Video Thành Công",text:"Bạn có muốn tạo tiếp hay không..?",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"></i> Có',cancelButtonText:'<i class="fa fa-thumbs-down"> Không</i>',reverseButtons:!0}).then(function(t){t&&!0===t.value?(a.resetData(),a.$refs.modalCreateJoinVideo.hideModal()):a.$router.push("/manager-video")}):(a.isCreateFailed=!0,a.$swal.fire({type:"error",title:"Error. Server is Error",showCancelButton:!0})),s.next=20;break;case 16:s.prev=16,s.t0=s.catch(1),a.isCreateFailed=!0,a.$swal.fire({type:"error",title:"Error "+s.t0,showCancelButton:!0});case 20:case"end":return s.stop()}},s,a,[[1,16]])}))()},onUploadProgress:function(t){var e=100*parseFloat((t.loaded/t.total).toFixed(3));this.progressUpload=e},onCreate:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.listVideo&&0!==t.listVideo.length?(t.progressUpload=0,t.isCreateFailed=!1,t.$refs.modalCreateJoinVideo.showModal(t.listVideo)):t.$swal.fire({type:"error",title:"Chưa chọn video",showConfirmButton:!1,timer:1e3});case 1:case"end":return e.stop()}},e,t)}))()},onResizeWindow:function(t){this.rangerSplitVideoKey=Et.a.generateKey()},pushNewVideo:function(t,e){for(var i=!1,a=0;a<this.listVideo.length;a++){if(this.listVideo[a].id===t.id){e&&"error"===e?this.listVideo.splice(a,1):(this.listVideo[a]=t,this.listVideo=[].concat(F()(this.listVideo))),i=!0;break}}i||this.listVideo.push(t),!t||this.videoActive&&this.videoActive.duration.value&&this.videoActive.resolution.width||(this.videoActive=t,this.rangerSplitVideoKey=Et.a.generateKey())},onClickAddVideo:function(){this.$refs.modalInputFile.showModal()},onTimeUpdate:function(t){this.displayCurrentTimeVideo=Et.a.formatNumber(t.target.currentTime)+"/ "+Et.a.formatNumber(this.videoActive.duration.value)},onVideoLoadedData:function(t){this.maxWidth=t.target.clientWidth,this.maxHeight=t.target.clientHeight,this.currentTimePreviewVideo=0,this.videoActive&&(this.displayCurrentTimeVideo=Et.a.formatNumber(0)+"/ "+Et.a.formatNumber(this.videoActive.duration.value)),this.isPlaying=!1,this.widthResize&&this.heightResize||(this.widthResize=t.target.clientWidth,this.heightResize=t.target.clientHeight)},onResize:function(t,e,i,a){var s=$("#previewVideo")[0].clientWidth,n=$("#previewVideo")[0].clientHeight;this.videoActive.filter.crop=m()({},this.videoActive.filter.crop,{x:t,y:e,width:i,height:a,tx:parseFloat(t/s),ty:parseFloat(e/n),tw:parseFloat(i/s),th:parseFloat(a/n)})},onDrag:function(t,e){e=e||0,t=t||0,this.x=t,this.y=e;var i=$("#previewVideo")[0].clientWidth,a=$("#previewVideo")[0].clientHeight;this.videoActive.filter.crop=m()({},this.videoActive.filter.crop,{x:t,y:e,tx:parseFloat(t/i),ty:parseFloat(e/a)})},setTimeVideo:function(t){this.$refs.player&&(this.$refs.player.currentTime=t,this.displayCurrentTimeVideo=Et.a.formatNumber(t)+"/ "+Et.a.formatNumber(this.videoActive.duration.value))},onChangeFilter:function(t){var e=null;switch(t.key){case"crop":var i=t.value.value;if(this.lockRatioResize=!0,i!==Z.CROP.NO_CROP?this.isShowResize=!0:this.isShowResize=!1,i!==Z.CROP.CUSTOM?this.lockRatioResize=!0:this.lockRatioResize=!1,i!==Z.CROP.NO_CROP&&i!==Z.CROP.ORIGIN&&i!==Z.CROP.CUSTOM){var a=parseInt(i.split(":")[0]),s=parseInt(i.split(":")[1]),n=this.widthResize/(a/s);if(n>this.maxHeight){var o=(n=this.maxHeight)*(a/s);this.widthResize=o}else this.heightResize=n;this.keyContainerResize=Et.a.generateKey()}else i===Z.CROP.ORIGIN?(this.heightResize=this.widthResize/(this.videoActive.resolution.width/this.videoActive.resolution.height),this.keyContainerResize=Et.a.generateKey()):i!==Z.CROP.CUSTOM&&(this.lockRatioResize=!1);e={crop:m()({},this.videoActive.filter.crop,{width:this.widthResize,height:this.heightResize,ratio:i})};break;case"quality":this.idProfile=t.value._id;break;case"rorate":this.cssRotate="transform: rotate(-"+t.value+"deg) ";var r=$("#previewVideo")[0].clientWidth,l=$("#previewVideo")[0].clientHeight;if(0!==t.value&&180!==t.value){if(this.videoActive.resolution.width>this.videoActive.resolution.height){this.cssRotate+="scale(0.5625)";var c=l/(r/l);this.cssContainerResize="width: "+c+"px; height: "+l+"px",this.widthResize>.5625*l&&(this.widthResize=.5625*l),this.heightResize>.5625*r&&(this.heightResize=.5625*r)}}else this.widthResize=r,this.heightResize=l,this.cssContainerResize="";this.videoActive.filter.crop.ratio!==Z.CROP.NO_CROP&&this.videoActive.filter.crop.ratio!==Z.CROP.CUSTOM&&this.videoActive.filter.crop.ratio!==Z.CROP.ORIGIN&&(this.widthResize>this.heightResize?this.widthResize=this.heightResize*this.videoActive.filter.crop.ratio.split(":")[0]/this.videoActive.filter.crop.ratio.split(":")[1]:this.heightResize=this.widthResize/(this.videoActive.filter.crop.ratio.split(":")[0]/this.videoActive.filter.crop.ratio.split(":")[1])),this.keyContainerVideo=Et.a.generateKey(),e={rotate:t.value}}this.videoActive.filter=m()({},this.videoActive.filter,e)},onPlayClick:function(){this.$refs.player&&this.$refs.player.src&&this.listVideo.length>0?(this.isPlaying=!this.isPlaying,this.isPlaying?this.$refs.player.play():this.$refs.player.pause()):!0===this.isPlaying&&(this.isPlaying=!1)},onClickItem:function(t){if(t.url!==this.videoActive.url){if(this.videoActive=t,this.cssRotate="",this.cssContainerResize="",this.cssRotate="transform: rotate(-"+this.videoActive.filter.rotate+"deg) ",0!=this.videoActive.filter.rotate&&180!=this.videoActive.filter.rotate){this.cssRotate+="scale(0.5625)";var e=$("#previewVideo")[0].clientWidth,i=$("#previewVideo")[0].clientHeight,a=i/(e/i);this.cssContainerResize="width: "+a+"px; height: "+i+"px"}if(this.videoActive&&this.videoActive.filter&&this.videoActive.filter.crop&&this.videoActive.filter.crop.ratio&&this.videoActive.filter.crop.ratio!=Z.CROP.NO_CROP){this.isShowResize=!0;var s=$("#previewVideo")[0].clientWidth,n=$("#previewVideo")[0].clientHeight;this.widthResize=this.videoActive.filter.crop.tw*s,this.heightResize=this.videoActive.filter.crop.th*n,this.xResize=this.videoActive.filter.crop.tx*s,this.yResize=this.videoActive.filter.crop.ty*n}this.lockRatioResize=!1,this.isShowResize=!1,this.videoActive.filter.crop.ratio&&this.videoActive.filter.crop.ratio!==Z.CROP.NO_CROP&&(this.isShowResize=!0),this.keyContainerVideo=Et.a.generateKey(),this.rangerSplitVideoKey=Et.a.generateKey(),this.keyFooter=Et.a.generateKey()}},onChangeCustomTime:function(t){this.videoActive=t,this.listVideo[t.index]=t},getKey:function(){return Et.a.generateKey()},receivedData:function(t){switch(t.key){case"videoActive":this.videoActive=t.value;for(var e=0;e<this.listVideo.length;e++){var i=this.listVideo[e];i.id===t.value.id&&(i=t.value,this.listVideo[e]=i)}break;case"activeSplitTimeIndex":this.videoActive.activeSplitTimeIndex=t.value;for(var a=0;a<this.listVideo.length;a++){var s=this.listVideo[a];s.id===t.value.id&&(s=t.value,this.listVideo[a]=s)}break;case"splitTime":this.videoActive.splitTime=t.value;for(var n=0;n<this.listVideo.length;n++){var o=this.listVideo[n];o.id===t.value.id&&(o=t.value,this.listVideo[n]=o)}this.$refs.player.currentTime=t.value}}},components:{JoinVideoItem:Zi,ControlSplitVideo:la,ButtonQuality:ua,ButtonCrop:pa,ButtonRotate:ga,ModalInputFile:le,Loading:c.a,ModalCreateJoinVideo:Ta,draggable:de.a},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c,d,u,v,h;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoadedData=!1,!t.$route.query||!t.$route.query.idVideo){e.next=14;break}return t.isLoading=!0,e.prev=3,e.next=6,$t.getVideoById({idVideo:t.$route.query.idVideo});case 6:200===(i=e.sent).status&&i.data.video&&((a=i.data.video).data=JSON.parse(a.data),s=a,t.volumeVideo=parseFloat(s.data.audio.volume),t.audio=s.data.audio,t.audio.volume=parseFloat(s.data.audio.volume),t.listVideo=s.data.listVideo,t.videoActive=s.data.listVideo[0],t.isEditVideo=!0,t.videoEdit=s),t.isLoading=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 14:t.isLoadedData=!0,t.videoActive&&t.videoActive.filter&&t.videoActive.filter.crop&&t.videoActive.filter.crop.ratio&&t.videoActive.filter.crop.ratio!=Z.CROP.NO_CROP&&(t.isShowResize=!0,o=$("#previewVideo")[0].clientWidth,r=$("#previewVideo")[0].clientHeight,t.widthResize=t.videoActive.filter.crop.tw*o,t.heightResize=t.videoActive.filter.crop.th*r,t.xResize=t.videoActive.filter.crop.tx*o,t.yResize=t.videoActive.filter.crop.ty*r),window.addEventListener("resize",t.onResizeWindow),l=!1,c=t,d=void 0,u=$("#previewVideo"),v=function(t){d=requestAnimationFrame(function t(){var e=u[0].currentTime;e=parseFloat(e.toFixed(2)),c.currentTimePreviewVideo=e,d=requestAnimationFrame(t)})},h=function(){d&&cancelAnimationFrame(d)},u.on("play",v),u.on("pause",h),$("#previewVideo").on("timeupdate",function(e){if(!l){var i=e.target.currentTime;0!=i&&(t.$refs.controlSplitVideo.setSplitTime(i),t.videoActive.splitTime=i,t.listVideo[t.videoActive.index]=t.videoActive)}}),$("#previewVideo").on("seeked",function(t){l=!1}),$("#previewVideo").on("seeking",function(t){l=!0});case 28:case"end":return e.stop()}},e,t,[[3,11]])}))()},beforeUpdate:function(){},watch:{currentTimePreviewVideo:function(t,e){t!==e&&(this.displayCurrentTimeVideo=Et.a.formatNumber(t)+"/ "+Et.a.formatNumber(this.videoActive.duration.value))},videoActive:function(t){}},destroyed:function(){window.removeEventListener("resize",this.onResizeWindow)}},Ia={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"jv-body"},[i("div",{staticClass:"row col-12",staticStyle:{"padding-right":"0px !important",height:"100%"}},[i("div",{staticClass:"col-6 col-md-7 col-xl-7 col-lg-8 jv-container-list-video"},[t.listVideo&&0!==t.listVideo.length?t._e():i("div",{staticClass:"add-video"},[i("div",{staticClass:"text-add-video"},[i("p",[t._v("Find a video to add to your lesson")]),t._v(" "),i("p",[t._v("\n              or\n              "),i("a",{attrs:{href:"#"},on:{click:t.onClickAddVideo}},[t._v("browse your videos")])]),t._v(" "),i("img",{staticClass:"img-add-video",attrs:{src:"/static/assets/images/video.svg",alt:""},on:{click:t.onClickAddVideo}})])]),t._v(" "),t.listVideo&&t.listVideo.length>0?i("div",{staticClass:"status-bar-list-video row reset"},[i("ul",{staticClass:"nav nav-tabs reset"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab"},on:{click:function(e){t.tabListIndex=0}}},[t._v("Video")])])]),t._v(" "),i("div",{staticClass:"status-bar-duration"},[i("span",{staticStyle:{color:"white","font-weight":"bold"}},[t._v("\n              Total Duration:\n              "),i("span",{staticClass:"ml-2"},[t._v("Video:")]),t._v(" "),i("span",{staticClass:"mr-5"},[t._v(t._s(t.getTotalTimeVideo()))])])])]):t._e(),t._v(" "),i("ul",{staticClass:"list-video-item"},[i("draggable",{attrs:{draggable:".item"},model:{value:t.listVideo,callback:function(e){t.listVideo=e},expression:"listVideo"}},t._l(t.listVideo,function(e,a){return i("li",{key:a,staticClass:"item mx-3",on:{click:function(i){return t.onClickItem(e)}}},[i("join-video-item",{attrs:{item:e,isActive:e.url===t.videoActive.url},on:{removeItem:t.removeItem}})],1)}),0)],1)]),t._v(" "),i("div",{staticClass:"col-6 col-md-5 col-xl-5 col-lg-4 row jv-container-video"},[i("div",{staticClass:"resize-item"}),t._v(" "),i("div",{staticStyle:{flex:"1",width:"50%"}},[i("div",{staticStyle:{flex:"1",width:"100%"}},[i("div",{key:t.keyContainerVideo,staticClass:"container-preview-video col-12"},[t.listVideo&&0!==t.listVideo.length?t._e():i("img",{staticClass:"img-preview-video",attrs:{src:"https://i.ytimg.com/vi/6PSPzGk7xQA/maxresdefault.jpg",alt:""}}),t._v(" "),t.isShowResize?i("div",{key:t.keyContainerResize,staticClass:"container-resize",style:t.cssContainerResize},[i("vue-draggable-resizable",{attrs:{"class-name":"draggable-resizable","min-height":50,"min-width":50,w:t.widthResize?t.widthResize:null,h:t.heightResize?t.heightResize:null,z:999,x:t.xResize?t.xResize:null,y:t.yResize?t.yResize:null,parent:!0,"lock-aspect-ratio":t.lockRatioResize},on:{dragging:t.onDrag,resizing:t.onResize}})],1):t._e(),t._v(" "),i("video",{directives:[{name:"show",rawName:"v-show",value:t.videoActive&&!t.videoActive.isLoading,expression:"videoActive &&  !videoActive.isLoading"}],key:t.keyVideo,ref:"player",staticClass:".embed-responsive-item col-12 jv-previewVideo",style:t.cssRotate,attrs:{id:"previewVideo",src:t.videoActive&&t.videoActive.url},on:{loadedmetadata:t.onVideoLoadedData}},[i("track",{attrs:{src:"../../assets/1.srt",kind:"subtitles"}})])]),t._v(" "),i("div",{staticStyle:{padding:"10px"}},[i("control-split-video",{key:t.rangerSplitVideoKey,ref:"controlSplitVideo",attrs:{data:t.videoActive},on:{receivedData:t.receivedData,onChangeCustomTime:t.onChangeCustomTime,setTimeVideo:t.setTimeVideo}})],1)])])])])]),t._v(" "),i("div",{key:t.keyFooter,staticClass:"jv-footer"},[i("b-button",{staticClass:"btn btn-play mx-3",on:{click:t.onClickAddVideo}},[t._v("Add Video")]),t._v(" "),i("button",{staticClass:"btn btn-play mx-3",on:{click:t.onPlayClick}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"fas fa-play"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"fas fa-pause"})]),t._v(" "),i("span",{staticClass:"btn btn-play mx-3"},[t._v(t._s(t.displayCurrentTimeVideo))]),t._v(" "),i("button-crop",{attrs:{value:t.videoActive.filter.crop.ratio},on:{onChange:t.onChangeFilter}}),t._v(" "),i("button-rotate",{staticClass:"mx-3",attrs:{value:t.videoActive.filter.rotate},on:{onChange:t.onChangeFilter}}),t._v(" "),i("button-quality",{attrs:{value:t.idProfile},on:{onChange:t.onChangeFilter}}),t._v(" "),t.isEditVideo?i("button",{staticClass:"btn btn-save mx-3",on:{click:t.saveVideoClick}},[t._v("Save")]):i("button",{staticClass:"btn btn-save mx-3",on:{click:t.onCreate}},[t._v("Create")])],1),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{totalVideoProps:t.listVideo.length,typeFile:"video"},on:{pushNewVideo:t.pushNewVideo}}),t._v(" "),t.isLoadedData?i("ModalCreateJoinVideo",{ref:"modalCreateJoinVideo",attrs:{persent:this.progressUpload,name:t.videoEdit?t.videoEdit.name:"",isEditVideo:t.isEditVideo,volumeVideoProps:t.volumeVideo,audioProps:t.audio,isCreateFailed:t.isCreateFailed},on:{createVideo:t.createVideo,onSave:t.onSave}}):t._e()],1)},staticRenderFns:[]};var Da=i("VU/8")(Va,Ia,!1,function(t){i("oW9Z")},"data-v-88b763ea",null).exports,Ea=(i("PJh5"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-modal",{ref:"myModal",attrs:{size:"xl",id:"bv-modal-example","hide-footer":"",title:this.titleModal,"hide-backdrop":!0}},[e("div",{staticClass:"d-block text-center"},[e("video",{staticClass:"video-modal",attrs:{src:this.urlVideo+"?"+Date.now(),controls:""}})])])],1)},staticRenderFns:[]});var La=i("VU/8")({name:"modal-video",data:function(){return{urlVideo:"",titleModal:""}},methods:{showModal:function(t,e){this.urlVideo=t,this.titleModal=e?e.name:"",this.$refs.myModal.show()},hideModal:function(){this.$refs.myModal.hide()}}},Ea,!1,function(t){i("Wcx6")},"data-v-268c5127",null).exports,Aa={data:function(){return{selected:"",options:[],urlVideo:"",video:""}},methods:{showModal:function(t,e,i){this.options=t,this.urlVideo=e,this.video=i},uploadGgd:function(t,e,i){var a=this;return r()(n.a.mark(function s(){var o;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o={urlVideo:t,idGgd:e,video:i},a.$bvModal.hide("modal-select-folder-ggd"),s.next=4,$t.uploadGGD(o);case 4:s.sent;case 5:case"end":return s.stop()}},s,a)}))()}},watch:{selected:function(){}}},$a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{size:"lg",id:"modal-select-folder-ggd",title:"Select Folder Google Driver","ok-only":"","ok-title":"Close"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"input-group mb-3 mx-2"},[i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text"},[t._v("Select Folder: ")])]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?i:i[0]}}},t._l(t.options,function(e){return i("option",{key:e.id,domProps:{value:e._id}},[t._v(t._s(e.folderName))])}),0),t._v(" "),i("div",{staticClass:"input-group-append"},[t.selected?i("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.uploadGgd(t.urlVideo,t.selected,t.video)}}},[t._v("Upload")]):t._e()],1)])])])},staticRenderFns:[]};var Pa,Ua={data:function(){return{isLoading:!1,videos:[],socket:null,isDisableButtonView:!1,isRendering:!1,statusRendering:Z.VIDEO_STATUS.RENDERING,statusQueuing:Z.VIDEO_STATUS.QUEUING,statusSuccess:Z.VIDEO_STATUS.SUCCESS,VIDEO_STATUS:Z.VIDEO_STATUS,VIDEO_TYPE:Z.VIDEO_TYPE,pager:{},listChannelUpload:null,idUser:this.$store.state.user}},components:{ModalVideo:La,ModalSelectFolderGgd:i("VU/8")(Aa,$a,!1,function(t){i("OZU0")},null,null).exports,Loading:c.a},methods:{checkDisableCloneVideo:function(t){return!!(t.status&&t.status.includes(Z.VIDEO_STATUS.RENDERING)||t.type!=Z.VIDEO_TYPE.NEWS_VIDEO)},checkDisableView:function(t){return!(!t.status||t.status.includes(Z.VIDEO_STATUS.SUCCESS)||t.status.includes(Z.VIDEO_STATUS.UPLOADING)||t.status.includes(Z.VIDEO_STATUS.UPLOAD_ERROR))||t.type!=Z.VIDEO_TYPE.JOIN_VIDEO&&t.type!=Z.VIDEO_TYPE.CREATE_VOICE&&t.type!=Z.VIDEO_TYPE.SIMPLE_EDIT&&t.type!=Z.VIDEO_TYPE.NEWS_VIDEO&&t.type!=Z.VIDEO_TYPE.AUTO_REUP&&t.type!=Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO},checkDisableUploadAgain:function(t){return!(t.status.includes(Z.VIDEO_STATUS.UPLOAD_ERROR)||t.status.includes(Z.VIDEO_STATUS.UPLOADING)||t.status.includes(Z.VIDEO_STATUS.UPLOAD_ERROR)||t.status.includes(Z.VIDEO_STATUS.SUCCESS))||!t.idChannel},actionManagerVideo:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a="",s="",i.t0=t,i.next="RENDER_ALL"===i.t0?5:"RENDER_ALL_ERROR"===i.t0?8:"REMOVE_ALL_SUCCESS"===i.t0?11:"REMOVE_ALL"===i.t0?14:17;break;case 5:return a="Render Tất Cả Video Mới Tạo.?",s="Bạn Muốn Render tất cả video mới tạo.?",i.abrupt("break",18);case 8:return a="Render Tất Cả Video Lỗi",s="Bạn Muốn Render tất cả video lỗi.?",i.abrupt("break",18);case 11:return a="Xóa Tất Cả Video Upload Thành Công",s="Bạn Muốn Xóa Tất Cả Video Upload Thành Công.?",i.abrupt("break",18);case 14:return a="Xóa Tất Cả Video",s="Bạn Muốn Xóa Tất Cả Video.?",i.abrupt("break",18);case 17:return i.abrupt("break",18);case 18:return i.next=20,e.$swal.fire({type:"question",title:a,text:s,showCloseButton:!0,showCancelButton:!0});case 20:if(!i.sent.value){i.next=34;break}return e.isLoading=!0,i.prev=23,i.next=26,$t.actionManagerVideo({type:t});case 26:(o=i.sent)&&200===o.status&&("REMOVE_ALL_SUCCESS"!==t&&"REMOVE_ALL"!==t||e.getVideos(),e.$notify({type:"success",title:"Thành Công"})),i.next=33;break;case 30:i.prev=30,i.t1=i.catch(23),e.$notify({type:"error",title:"Lỗi: "+i.t1.message});case 33:e.isLoading=!1;case 34:case"end":return i.stop()}},i,e,[[23,30]])}))()},onCloneVideo:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,$t.cloneVideo({idVideo:t});case 4:(a=i.sent)&&200===a.status&&e.$notify({type:"success",title:"Thành Công"}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 11:return e.isLoading=!1,i.next=14,e.getVideos(1);case 14:case"end":return i.stop()}},i,e,[[1,8]])}))()},getStatusVideo:function(t){if(!t.idChannel)return"";switch(t.typeVideoUpload){case Z.VIDEO_STATUS_UPLOAD.PUBLIC:return'<span class="font-weight-bold">Công khai</span>';case Z.VIDEO_STATUS_UPLOAD.PRIVATE:return'<span class="font-weight-bold">Riêng tư</span>';case Z.VIDEO_STATUS_UPLOAD.UNLIST:return'<span class="font-weight-bold">Không công khai</span>';case Z.VIDEO_STATUS_UPLOAD.SCHEDULE:return'<span><span class="font-weight-bold">Đặt lịch:</span> '+t.datePublic+"- "+t.timePublic+"</span>";default:return""}return""},onReupload:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,$t.reUploadVideo({idVideo:t});case 4:(a=i.sent)&&200===a.status&&e.$notify({type:"success",title:"Thành Công"}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 11:e.isLoading=!1;case 12:case"end":return i.stop()}},i,e,[[1,8]])}))()},getChannelUploadByIdVideo:function(t){var e=this.listChannelUpload.find(function(e){return e._id===t});return e?e.name:""},getTypeVideo:function(t){switch(t){case Z.VIDEO_TYPE.JOIN_VIDEO:return"Nối Video";case Z.VIDEO_TYPE.SIMPLE_EDIT:return"Edit Video";case Z.VIDEO_TYPE.NEWS_VIDEO:return"Tin Tức";case Z.VIDEO_TYPE.AUTO_REUP:return"Auto Reup";case Z.VIDEO_TYPE.CREATE_VOICE:return"Tạo Voice";case Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO:return"Lấy Subtitle"}},onStopRenderClick:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,$t.stopRender({idVideo:t});case 4:i.sent,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:e.isLoading=!1;case 10:case"end":return i.stop()}},i,e,[[1,7]])}))()},onViewClick:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.type!==Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO?e.$refs.ModalVideo.showModal(t.videoSuccess,t):window.open(t.videoSuccess);case 1:case"end":return i.stop()}},i,e)}))()},onUploadGGD:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,$t.getListGgd();case 2:a=i.sent,s=a.data.result,e.$refs.modalfolderggd.showModal(s,t.videoSuccess,t);case 5:case"end":return i.stop()}},i,e)}))()},onEditClick:function(t){switch(t.type){case Z.VIDEO_TYPE.JOIN_VIDEO:this.$router.push({name:"joinVideo",query:{idVideo:t._id}});break;case Z.VIDEO_TYPE.SIMPLE_EDIT:this.$router.push({name:"simpleEdit",query:{idVideo:t._id}});break;case Z.VIDEO_TYPE.NEWS_VIDEO:case Z.VIDEO_TYPE.AUTO_REUP:this.$router.push({path:"news-video",query:{idVideo:t._id}});break;case Z.VIDEO_TYPE.CREATE_VOICE:this.$router.push({path:"create-voice",query:{idVideo:t._id}});break;case Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO:this.$router.push({path:"export-subtitle",query:{idVideo:t._id}})}},onRenderClick:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.renderVideo({idVideo:t._id});case 2:e.sent;case 3:case"end":return e.stop()}},i,e)}))()},onDeleteClick:function(t,e){var i,a=this;this.$swal.fire({type:"question",title:"Delete Video",text:"Are you sure?",showCloseButton:!0,showCancelButton:!0}).then((i=r()(n.a.mark(function i(s){var o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s||!0!==s.value){i.next=9;break}return a.isLoading=!0,i.next=4,$t.deleteVideo({idVideo:t});case 4:if(o=i.sent){i.next=7;break}return i.abrupt("return");case 7:o&&200===o.status&&a.videos.splice(e,1),a.isLoading=!1;case 9:case"end":return i.stop()}},i,a)})),function(t){return i.apply(this,arguments)}))},getVideos:function(t){var e=this;return r()(n.a.mark(function i(){var a,s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,$t.getListVideo({page:t});case 4:if(200===(a=i.sent).status){for(e.pager=a.data.pager,s=a.data.listVideo,o=0;o<s.length;o++)s[o];e.videos=s}i.next=12;break;case 8:i.prev=8,i.t0=i.catch(1),console.log(" ######## error getVideos",i.t0),e.$swal.fire({type:"error",title:"Lỗi Lấy Danh Sách Video",timer:1e3});case 12:e.isLoading=!1;case 13:case"end":return i.stop()}},i,e,[[1,8]])}))()},getClassStatus:function(t){var e="";if(t)return t.includes(Z.VIDEO_STATUS.QUEUING)?(e="btn-primary",this.isDisableButtonView=!0,this.isRendering=!0,e):t.includes(Z.VIDEO_STATUS.RENDERING)||t.includes(Z.VIDEO_STATUS.UPLOADING)?(e="btn-info",this.isDisableButtonView=!0,this.isRendering=!0,e):t.includes(Z.VIDEO_STATUS.ERROR)||t.includes(Z.VIDEO_STATUS.STOPED)?(e="btn-danger",this.isDisableButtonView=!0,this.isRendering=!1,e):t.includes(Z.VIDEO_STATUS.SUCCESS)?(e="btn-success",this.isDisableButtonView=!1,this.isRendering=!1,e):t.includes(Z.VIDEO_STATUS.DELETED)?(e="btn-secondary",this.isDisableButtonView=!0,this.isRendering=!1,e):t.includes(Z.VIDEO_STATUS.CREATED)?(e="btn-warning",this.isDisableButtonView=!0,this.isRendering=!1,e):void 0}},computed:{},destroyed:function(){Pa.removeListener(this.idUser._id,this.handleEvent)},mounted:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getVideos(1),t.listChannelUpload=t.$store.state.data.listChannelUpload,Pa||(Pa=io("https://api.alidamedia.com/",{})),Pa.on(t.$store.state.user._id,function(e){console.log(" ####### socket: ",e),t.videos&&(t.videos=t.videos.map(function(t){return t._id===e._id?m()({},t,{status:e.status,statusMessage:e.statusMessage,videoSuccess:e.videoSuccess?e.videoSuccess:t.videoSuccess}):t}))});case 4:case"end":return e.stop()}},e,t)}))()}},Fa={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("h2",{staticClass:"reset text-center"},[t._v("Danh Sách Video")]),t._v(" "),i("div",{staticClass:"mb-2 text-right mr-3"},[i("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.actionManagerVideo("REMOVE_ALL")}}},[t._v("\n      Xóa Tất Cả\n    ")])]),t._v(" "),i("div",{staticClass:"table-manager"},[i("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),i("tbody",t._l(t.videos,function(e,a){return i("tr",{key:e._id,attrs:{id:e._id}},[i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-id-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v(t._s(e._id))])]),t._v(" "),i("b-tooltip",{attrs:{target:"tooltip-title-"+a,triggers:"hover",variant:"dark"}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),i("b-tooltip",{attrs:{target:"tooltip-status-"+a,triggers:"hover",variant:"dark"}},[t._v("\n            "+t._s(e.statusMessage)+"\n          ")]),t._v(" "),i("td",{staticClass:"p-2 font-weight-bold",attrs:{scope:"row"}},[t._v("\n            "+t._s(parseInt(a)+1)+"\n          ")]),t._v(" "),i("td",{staticClass:"p-2 font-weight-bold",attrs:{scope:"row",id:"tooltip-id-"+a}},[t._v("\n            "+t._s(e._id.substring(0,3)+"..."+e._id.substring(e._id.length-8,e._id.length))+"\n          ")]),t._v(" "),i("td",{staticClass:"truncate-text p-2",staticStyle:{"max-width":"25vw",width:"25vw"},attrs:{id:"tooltip-title-"+a}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),i("td",{staticClass:"p-2 font-weight-bold"},[t._v(t._s(t.getTypeVideo(e.type)))]),t._v(" "),i("td",{staticClass:"p-2 font-weight-bold"},[t._v("\n            "+t._s(e.idChannel?t.getChannelUploadByIdVideo(e.idChannel):"")+"\n          ")]),t._v(" "),i("td",[i("span",{domProps:{innerHTML:t._s(t.getStatusVideo(e))}})]),t._v(" "),i("td",{staticClass:"p-0",staticStyle:{"max-width":"15vw",width:"15vw"},attrs:{id:"tooltip-status-"+a}},[i("div",{staticClass:"p-1 mt-1 truncate-text",class:" "+t.getClassStatus(e.status),staticStyle:{"border-radius":"5px"}},[t._v("\n              "+t._s(e.statusMessage)+"\n            ")])]),t._v(" "),i("td",{staticClass:"p-2"},[t._v("\n            "+t._s(t.$moment(e.created).format("HH:mm - MM/DD/YYYY"))+"\n          ")]),t._v(" "),i("td",{staticClass:"p-0 pt-1"},[i("div",{staticStyle:{"min-width":"220px"}},[i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",id:"tooltip-btnUpload-"+a,disabled:t.checkDisableUploadAgain(e)},on:{click:function(i){return t.onReupload(e._id)}}},[i("i",{staticClass:"fas fa-upload"})]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:t.checkDisableView(e),id:"tooltip-btn-view-"+a},on:{click:function(i){return t.onViewClick(e)}}},[i("i",{staticClass:"fas fa-eye"})]),t._v(" "),e.status&&(e.status.includes(t.statusRendering)||e.status.includes(t.statusQueuing))&&!e.status.includes("Google Driver")?i("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button",id:"tooltip-btn-stop-render-"+a},on:{click:function(i){return t.onStopRenderClick(e._id)}}},[i("i",{staticClass:"fas fa-stop"})]):t._e(),t._v(" "),!e.status||e.status.includes(t.statusRendering)||e.status.includes(t.statusQueuing)?t._e():i("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button",id:"tooltip-btn-render-"+a},on:{click:function(i){return t.onRenderClick(e)}}},[i("i",{staticClass:"fas fa-play"})]),t._v(" "),i("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button",disabled:e.status&&e.status.includes(t.statusRendering),id:"tooltip-btn-edit-"+a},on:{click:function(i){return t.onEditClick(e)}}},[i("i",{staticClass:"far fa-edit"})]),t._v(" "),i("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button",disabled:t.checkDisableCloneVideo(e),id:"tooltip-btn-copy-"+a},on:{click:function(i){return t.onCloneVideo(e)}}},[i("i",{staticClass:"far fa-copy"})]),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:e.status&&e.status.includes(t.statusRendering),id:"tooltip-btn-remove-"+a},on:{click:function(i){return t.onDeleteClick(e._id,a)}}},[i("i",{staticClass:"far fa-trash-alt"})]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btnUpload-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v(" Upload Lại")])]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-remove-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Xóa")])]),t._v(" "),!e.status||e.status.includes(t.statusRendering)||e.status.includes(t.statusQueuing)?t._e():i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-render-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Render")])]),t._v(" "),e.status&&(e.status.includes(t.statusRendering)||e.status.includes(t.statusQueuing))&&!e.status.includes("Google Driver")?i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-stop-render-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Stop Render")])]):t._e(),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-edit-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Sửa")])]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-copy-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Nhân Bản")])]),t._v(" "),i("b-tooltip",{staticClass:"tooltip",attrs:{target:"tooltip-btn-view-"+a,triggers:"hover",variant:"dark"}},[i("b",[t._v("Xem")])])],1)])],1)}),0)])]),t._v(" "),i("modal-video",{ref:"ModalVideo"}),t._v(" "),i("modal-select-folder-ggd",{ref:"modalfolderggd"}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("ID")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Tên")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Loại Video")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Kênh Upload")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Trạng Thái Upload")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Trạng Thái")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Ngày Tạo")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Hành động")])])])}]};var Oa=i("VU/8")(Ua,Fa,!1,function(t){i("pGws")},null,null).exports,Ma=i("pFYg"),Ra=i.n(Ma),Na=i("KvPw"),za={data:function(){return{dropOptions:{url:"https://api.alidamedia.com/api/v1/finder/upload-file",maxFilesize:4096,thumbnailWidth:150,thumbnailHeight:150,addRemoveLinks:!0,headers:{Authorization:"Bearer "+this.$store.state.token},acceptedFiles:"*",timeout:36e5}}},components:{vueDropzone:i.n(Na).a},props:["payload","router","acceptedFiles"],methods:{onSuccess:function(){this.$notify({type:"success",title:"Upload Thành Công"})},onCancel:function(){this.$notify({type:"warning",title:"Hủy Upload"})},onError:function(t,e,i){this.$notify({type:"error",title:e.error})},show:function(){this.router&&(this.dropOptions.url="https://api.alidamedia.com/"+this.router),this.acceptedFiles&&(this.dropOptions.acceptedFiles=this.acceptedFiles),this.dropOptions=m()({},this.dropOptions),this.$refs.modalUploadFileWithDropzone.show()},removeAllFiles:function(){this.$refs.dropzone.removeAllFiles()},afterComplete:function(t){this.$emit("reload")},sendingEvent:function(t,e,i){for(var a in this.payload)i.append(a,this.payload[a])}},created:function(){}},Ba={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalUploadFileWithDropzone",attrs:{id:"modalUploadFileWithDropzone",title:"Tải file lên",size:"lg"}},[i("vue-dropzone",{attrs:{id:"vue-dropzone",options:t.dropOptions,useCustomSlot:!0},on:{"vdropzone-complete":t.afterComplete,"vdropzone-sending":t.sendingEvent,"vdropzone-canceled":t.onCancel,"vdropzone-error":t.onError,"vdropzone-success":t.onSuccess}},[i("div",{staticClass:"dropzone-custom-content"},[i("h3",{staticClass:"dropzone-custom-title"},[t._v("Kéo thả file!")]),t._v(" "),i("div",{staticClass:"subtitle"},[t._v("...hoặc click để chọn file từ máy")])])])],1)},staticRenderFns:[]};var Ha=i("VU/8")(za,Ba,!1,function(t){i("021t")},null,null).exports,ja={data:function(){return{keyword:null,state:null,isLoading:!1,listVideoSearch:[],page:1,isEnd:!1}},components:{Loading:c.a},methods:{onOkClick:function(){var t=this.listVideoSearch.filter(function(t){return t.isSelected});this.$emit("onDownload",t),this.hide()},convertTime:function(t){if(t)return Et.a.secondsToTime(t)},onClickVideo:function(t){this.listVideoSearch[t]=m()({},this.listVideoSearch[t],{isSelected:!this.listVideoSearch[t].isSelected}),this.listVideoSearch=[].concat(F()(this.listVideoSearch))},show:function(){this.$refs.myModal.show(),this.keyword=null,this.state=null,this.isLoading=!1,this.listVideoSearch=[],this.page=1,this.isEnd=!1},hide:function(){this.$refs.myModal.hide()},search:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,t.listVideoSearch=[],t.page=1,t.isEnd=!1,e.prev=7,i="https://pixabay.com/api/videos/?key="+"15507209-9b63aedb18f4709825f75ee59"+"&q="+encodeURIComponent(t.keyword),e.next=12,g.a.get(i);case 12:(a=e.sent)&&200===a.status?(a.data.hits.map(function(e){e.videos&&e.videos.medium&&e.videos.medium.url&&t.listVideoSearch.push({url:e.videos.medium.url,type:"pixabay",id:e.id,duration:e.duration})}),0===a.data.hits.length&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 19:t.isLoading=!1;case 20:case"end":return e.stop()}},e,t,[[7,16]])}))()},onLoadMoreVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,e.prev=4,t.page++,i="https://pixabay.com/api/videos/?key="+"15507209-9b63aedb18f4709825f75ee59"+"&page="+t.page+"&q="+encodeURIComponent(t.keyword),e.next=10,g.a.get(i);case 10:(a=e.sent)&&200===a.status?(a.data.hits.map(function(e){e.videos&&e.videos.medium&&e.videos.medium.url&&t.listVideoSearch.push({url:e.videos.medium.url,type:"pixabay",id:e.id,duration:e.duration})}),0===a.data.hits.length&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+a}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 17:t.isLoading=!1;case 18:case"end":return e.stop()}},e,t,[[4,14]])}))()}},mounted:function(){}},Ga={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"myModal",attrs:{title:"Tải Video Từ Pixalbay",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"w-100"},[i("b-button",{staticClass:"float-right ml-4 px-5",attrs:{variant:"success"},on:{click:function(e){return t.onOkClick()}}},[t._v("\n        Tải Ngay\n      ")]),t._v(" "),i("b-button",{staticClass:"float-right",attrs:{variant:"dark"},on:{click:function(e){return t.hide()}}},[t._v("\n        Đóng\n      ")])],1)]},proxy:!0}])},[i("div",{staticClass:"container-fluid "},[i("div",{staticClass:"container-body"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"ml-3"},[t._v("Từ khóa: ")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-3",attrs:{type:"text",placeholder:"Nhập từ khóa cần tìm kiếm",state:t.state},on:{input:function(e){t.state=null},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),i("button",{staticClass:"btn btn-primary px-4",on:{click:t.search}},[t._v("Tìm")])],1),t._v(" "),i("div",{staticClass:"mt-4",staticStyle:{"overflow-y":"auto","max-height":"600px"}},[i("div",{staticClass:"row col-12 reset"},t._l(t.listVideoSearch,function(e,a){return i("div",{key:a,staticClass:"container-item container-image mx-2 mb-3",class:{"container-image-selected":e.isSelected},on:{click:function(e){return t.onClickVideo(a)}}},[i("video",{staticClass:"img-item",staticStyle:{width:"100%"},attrs:{id:"video",src:e.url}}),t._v(" "),i("div",[i("span",[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(a+1)+".")]),t._v("\n                "+t._s(t.convertTime(e.duration)))])])])}),0),t._v(" "),0===t.listVideoSearch.length&&t.isEnd?i("div",{staticClass:"text-center mt-5"},[i("span",[t._v("Không tìm thấy video..!")])]):t._e(),t._v(" "),t.listVideoSearch.length>0&&!t.isEnd?i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-info",on:{click:t.onLoadMoreVideo}},[t._v("\n            Tải thêm\n          ")])]):t._e()])])]),t._v(" "),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots","is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Ya=i("VU/8")(ja,Ga,!1,function(t){i("zZ9A")},"data-v-63f34dd2",null).exports,Ka={data:function(){return{keyword:null,state:null,isLoading:!1,listFileSearch:[],page:1,isEnd:!1}},components:{Loading:c.a},methods:{onOkClick:function(){var t=this.listFileSearch.filter(function(t){return t.isSelected});t=t.map(function(t){return t.url}),this.$emit("onDownload",t),this.hide()},convertTime:function(t){if(t)return Et.a.secondsToTime(t)},onClickItem:function(t){this.listFileSearch[t]=m()({},this.listFileSearch[t],{isSelected:!this.listFileSearch[t].isSelected}),this.listFileSearch=[].concat(F()(this.listFileSearch))},show:function(){this.$refs.myModal.show(),this.keyword=null,this.state=null,this.isLoading=!1,this.listFileSearch=[],this.page=1,this.isEnd=!1},hide:function(){this.$refs.myModal.hide()},search:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,t.listFileSearch=[],t.page=1,t.isEnd=!1,e.prev=7,e.next=10,E.searchImageGoogle({keyword:t.keyword,page:1});case 10:(i=e.sent)&&200===i.status?(i.data.listItemSearch.map(function(e){t.listFileSearch.push(m()({},e,{type:"google",id:Et.a.generateKey()}))}),0===i.data.listItemSearch.length&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 17:t.isLoading=!1;case 18:case"end":return e.stop()}},e,t,[[7,14]])}))()},onLoadMoreVideo:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,e.prev=4,t.page+=10,e.next=8,E.searchImageGoogle({keyword:t.keyword,page:t.page});case 8:(i=e.sent)&&200===i.status?(i.data.listItemSearch.map(function(e){t.listFileSearch.push(m()({},e,{type:"google",id:Et.a.generateKey()}))}),0===i.data.listItemSearch.length&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 15:t.isLoading=!1;case 16:case"end":return e.stop()}},e,t,[[4,12]])}))()}},mounted:function(){}},Wa={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"myModal",attrs:{title:"Tải Hình Ảnh Từ Google",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"w-100"},[i("b-button",{staticClass:"float-right ml-4 px-5",attrs:{variant:"success"},on:{click:function(e){return t.onOkClick()}}},[t._v("\n        Tải Ngay\n      ")]),t._v(" "),i("b-button",{staticClass:"float-right",attrs:{variant:"dark"},on:{click:function(e){return t.hide()}}},[t._v("\n        Đóng\n      ")])],1)]},proxy:!0}])},[i("div",{staticClass:"container-fluid "},[i("div",{staticClass:"container-body"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"ml-3"},[t._v("Từ khóa: ")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-3",attrs:{type:"text",placeholder:"Nhập từ khóa cần tìm kiếm",state:t.state},on:{input:function(e){t.state=null},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),i("button",{staticClass:"btn btn-primary px-4",on:{click:t.search}},[t._v("Tìm")])],1),t._v(" "),i("div",{staticClass:"mt-4",staticStyle:{"overflow-y":"auto","max-height":"600px"}},[i("div",{staticClass:"row col-12 reset"},t._l(t.listFileSearch,function(e,a){return i("div",{key:a,staticClass:"container-item container-image mx-2 mb-3",class:{"container-image-selected":e.isSelected},on:{click:function(e){return t.onClickItem(a)}}},[i("img",{staticClass:"img-item",attrs:{src:e.thumbnail?e.thumbnail.url:e.url}}),t._v(" "),i("div",{staticClass:"row col-12"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(a+1)+".")]),t._v(" "),i("div",{staticClass:"text-center",staticStyle:{flex:"1"}},[i("span",[t._v(t._s(e.width+"x"+e.height))])])])])}),0),t._v(" "),0===t.listFileSearch.length&&t.isEnd?i("div",{staticClass:"text-center mt-5"},[i("span",[t._v("Không tìm thấy hình ảnh..!")])]):t._e(),t._v(" "),t.listFileSearch.length>0&&!t.isEnd?i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-info",on:{click:t.onLoadMoreVideo}},[t._v("\n            Tải thêm\n          ")])]):t._e()])])]),t._v(" "),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots","is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var qa=i("VU/8")(Ka,Wa,!1,function(t){i("kW82")},"data-v-2473e4aa",null).exports,Xa={data:function(){return{keyword:null,state:null,isLoading:!1,listVideoSearch:[],page:1,isEnd:!1}},components:{Loading:c.a},methods:{getTotalTimeFileSelected:function(){var t=0;if(this.listVideoSearch.map(function(e){e.isSelected&&(t+=e.duration)}),t)return Et.a.secondsToTime(t)},onOkClick:function(){var t=this.listVideoSearch.filter(function(t){return t.isSelected});this.$emit("onDownload",t),this.hide()},convertTime:function(t){if(t)return Et.a.secondsToTime(t)},onClickVideo:function(t){this.listVideoSearch[t]=m()({},this.listVideoSearch[t],{isSelected:!this.listVideoSearch[t].isSelected}),this.listVideoSearch=[].concat(F()(this.listVideoSearch))},show:function(){this.$refs.myModal.show(),this.keyword=null,this.state=null,this.isLoading=!1,this.listVideoSearch=[],this.page=1,this.isEnd=!1},hide:function(){this.$refs.myModal.hide()},search:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,t.listVideoSearch=[],t.page=1,t.isEnd=!1,e.prev=7,i={page:t.page,keyword:t.keyword},e.next=11,E.searchVideoBlocks(i);case 11:(a=e.sent)&&200===a.status?(t.listVideoSearch=a.data.listVideo,(!a.data.listVideo||0===a.data.listVideo.length||a.data.listVideo.length<50)&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+a}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 18:t.isLoading=!1;case 19:case"end":return e.stop()}},e,t,[[7,15]])}))()},onLoadMoreVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword){e.next=3;break}return t.state=!1,e.abrupt("return");case 3:return t.isLoading=!0,e.prev=4,t.page++,i={page:t.page,keyword:t.keyword},e.next=9,E.searchVideoBlocks(i);case 9:(a=e.sent)&&200===a.status?(t.listVideoSearch=[].concat(F()(t.listVideoSearch),F()(a.data.listVideo)),(!a.data.listVideo||0===a.data.listVideo.length||a.data.listVideo.length<50)&&(t.isEnd=!0)):t.$notify({type:"error",title:"Lỗi: "+a}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 16:t.isLoading=!1;case 17:case"end":return e.stop()}},e,t,[[4,13]])}))()}},mounted:function(){}},Ja={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"myModal",attrs:{title:"Tải Video Từ Video Blocks",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"w-100"},[i("b-button",{staticClass:"float-right ml-4 px-5",attrs:{variant:"success"},on:{click:function(e){return t.onOkClick()}}},[t._v("\n        Tải Ngay\n      ")]),t._v(" "),i("b-button",{staticClass:"float-right",attrs:{variant:"dark"},on:{click:function(e){return t.hide()}}},[t._v("\n        Đóng\n      ")]),t._v(" "),i("span",[i("span",{staticClass:"font-weight-bold"},[t._v("Tổng thời gian:")]),t._v(" "+t._s(t.getTotalTimeFileSelected()))])],1)]},proxy:!0}])},[i("div",{staticClass:"container-fluid "},[i("div",{staticClass:"container-body"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"ml-3"},[t._v("Từ khóa: ")]),t._v(" "),i("b-form-input",{staticClass:"col-5 mx-3",attrs:{type:"text",placeholder:"Nhập từ khóa cần tìm kiếm",state:t.state},on:{input:function(e){t.state=null},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),i("button",{staticClass:"btn btn-primary px-4",on:{click:t.search}},[t._v("Tìm")])],1),t._v(" "),i("div",{staticClass:"mt-4",staticStyle:{"overflow-y":"auto","max-height":"600px"}},[i("div",{staticClass:"row col-12 reset"},t._l(t.listVideoSearch,function(e,a){return i("div",{key:a,staticClass:"container-item container-image mx-2 mb-3",class:{"container-image-selected":e.isSelected},on:{click:function(e){return t.onClickVideo(a)}}},[i("img",{staticClass:"img-item",staticStyle:{width:"100%"},attrs:{src:e.thumbnailUrl,alt:""}}),t._v(" "),i("div",[i("span",[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(a+1)+".")]),t._v("\n                "+t._s(t.convertTime(e.duration)))])])])}),0),t._v(" "),0===t.listVideoSearch.length&&t.isEnd?i("div",{staticClass:"text-center mt-5"},[i("span",[t._v("Không tìm thấy video..!")])]):t._e(),t._v(" "),t.listVideoSearch.length>0&&!t.isEnd?i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-info",on:{click:t.onLoadMoreVideo}},[t._v("\n            Tải thêm\n          ")])]):t._e()])])]),t._v(" "),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots","is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Qa=i("VU/8")(Xa,Ja,!1,function(t){i("3wen")},"data-v-2a6a99c6",null).exports,Za={components:{Loading:c.a,ModalUploadFileWithDropzone:Ha,FinderIndex:ee,ModalDownloadVideoPixabay:Ya,ModalDownloadImageGoogle:qa,ModalDownloadVideoBlocks:Qa,ModalVideo:La},data:function(){return{keyMyFolder:Et.a.generateKey(),dataMyFolder:[],fileSelected:null,listFileOfVideo:null,idVideo:null,urlImagesDownload:null,keywordSearchGoogle:null,stateData:"",isLoading:!1,typeFile:"image",typeSelect:null,isEnd:!1,isSelectMulti:!1}},methods:{previewVideo:function(t){this.$refs.ModalVideo.showModal(t.url,null),event.stopPropagation()},onDownloadFromLink:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,a={idVideo:e.idVideo,listVideoLink:t},i.next=5,ie.downloadVideoFromLinkToVideo(a);case 5:if(!(s=i.sent)||200!==s.status){i.next=12;break}return 0===s.data.listFiles.length?e.$notify({type:"error",title:"Lỗi Không Tải Được File "}):s.data.listFiles.length>0&&e.$notify({type:"success",title:"Tải Thành Công: "+s.data.listFiles.length+" files"}),i.next=10,e.getFileOfVideo();case 10:i.next=14;break;case 12:console.log(" #### onDownloadFromLink: ",s),e.$notify({type:"error",title:"Lỗi: "+s});case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(1),console.log(" #### onDownloadFromLink: ",i.t0),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 20:e.isLoading=!1;case 21:case"end":return i.stop()}},i,e,[[1,16]])}))()},onDownloadImageGoogle:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,a={idVideo:e.idVideo,listUrl:t},i.next=5,ie.downloadImageToVideo(a);case 5:if(!(s=i.sent)||200!==s.status){i.next=12;break}return 0===s.data.listFiles.length?e.$notify({type:"error",title:"Lỗi Không Tải Được File "}):s.data.listFiles.length>0&&e.$notify({type:"success",title:"Tải Thành Công: "+s.data.listFiles.length+" files"}),i.next=10,e.getFileOfVideo();case 10:i.next=13;break;case 12:e.$notify({type:"error",title:"Lỗi: "+s});case 13:i.next=19;break;case 15:i.prev=15,i.t0=i.catch(1),console.log(" #### onDownloadImageGoogle: ",i.t0),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 19:e.isLoading=!1;case 20:case"end":return i.stop()}},i,e,[[1,15]])}))()},onDoubleClickFile:function(t){this.$emit("onSelectFile",{value:t,typeSelect:this.typeSelect}),this.close()},onSelectAll:function(){this.$emit("onSelectFile",{typeSelect:this.typeSelect,isSelectMulti:this.isSelectMulti,listFile:this.listFileOfVideo}),this.close()},onClickMyFolder:function(){this.isEnd=!1,this.getFileFromMyFolder()},onOkClick:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isSelectMulti?(i=t.listFileOfVideo.filter(function(t){return t.isSelected}),t.$emit("onSelectFile",{typeSelect:t.typeSelect,isSelectMulti:t.isSelectMulti,listFile:i})):t.fileSelected&&t.isEnd&&t.$emit("onSelectFile",{value:{value:t.fileSelected,url:"https://alidamedia-data.sgp1.cdn.digitaloceanspaces.com/"+t.fileSelected,text:Gt.a.basename(t.fileSelected)},typeSelect:t.typeSelect}),t.close();case 2:case"end":return e.stop()}},e,t)}))()},getFileFromMyFolder:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.dataMyFolder&&0!==e.dataMyFolder.length&&!t){i.next=5;break}return i.next=3,ie.getFileOfUser();case 3:a=i.sent,e.dataMyFolder=[[].concat(F()(a.data.listFile))];case 5:e.keyMyFolder=Et.a.generateKey();case 6:case"end":return i.stop()}},i,e)}))()},onChangeSelectMyFolder:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t.isFolder){a.next=8;break}return a.next=4,ie.getListOnFolder({path:t.value});case 4:(s=a.sent)&&200===s.status&&(i.dataMyFolder.length>e.length?(i.dataMyFolder[e.length]=[].concat(F()(s.data.listFile)),i.dataMyFolder.length=e.length+1,i.dataMyFolder.push({a:1}),i.dataMyFolder.pop()):i.dataMyFolder.push([].concat(F()(s.data.listFile)))),a.next=10;break;case 8:i.dataMyFolder.length>e.length&&(i.dataMyFolder.length=e.length),i.isPreview&&i.dataMyFolder.push(m()({},t,{isPreview:!0}));case 10:i.fileSelected=t.value,i.isEnd=!t.isFolder,i.selectIndexs=e,a.next=19;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(" #### onChangeSelectMyFolder: ",a.t0),i.$notify({type:"error",title:"Lỗi: "+a.t0.message});case 19:case"end":return a.stop()}},a,i,[[0,15]])}))()},reset:function(){this.urlImagesDownload=null,this.stateData="",this.isLoading=!1,this.idVideo=null},close:function(){this.$refs.modalSelectFile.hide()},show:function(t,e,i,a){this.reset(),this.isSelectMulti=a,this.isLoading=!1,this.idVideo=t,t?this.typeFile&&this.typeFile==e?null===this.listFileOfVideo&&this.getFileOfVideo():(this.typeFile=e,this.getFileOfVideo()):this.onClickMyFolder(),this.listFileOfVideo&&(this.listFileOfVideo=this.listFileOfVideo.map(function(t){return m()({},t,{isSelected:!1})})),this.typeSelect=i,this.$refs.modalSelectFile.show()},onSelectFile:function(t,e){if(this.isSelectMulti)switch(e){case"listFileOfVideo":this.listFileOfVideo=this.listFileOfVideo.map(function(e){return e.value===t.value?m()({},e,{isSelected:!e.isSelected}):e})}else this.$emit("onSelectFile",{value:t,typeSelect:this.typeSelect}),this.close()},getFileOfVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,i={idVideo:t.idVideo,typeFile:t.typeFile},e.next=5,ie.getFilesOfVideo(i);case 5:(a=e.sent)&&200===a.status&&(t.listFileOfVideo=a.data.listFile),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(" #### getFileOfVideo: ",e.t0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[1,9]])}))()},onDownloadImageFormUrl:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.stateData="",e.urlImagesDownload&&e.urlImagesDownload.trim()||(e.stateData+="urlDownload"),""===e.stateData){i.next=5;break}return t.preventDefault(),i.abrupt("return");case 5:return e.$refs.modalDownloadImageFormLink.hide(),e.isLoading=!0,a=e.urlImagesDownload.split("\n"),i.prev=8,i.next=11,ie.downloadImageToVideo({idVideo:e.idVideo,listUrl:a});case 11:if(!(s=i.sent)||200!==s.status){i.next=16;break}return e.$notify({type:"success",title:"Thành Công"}),i.next=16,e.getFileOfVideo();case 16:i.next=22;break;case 18:i.prev=18,i.t0=i.catch(8),console.log(" #### onDownloadImageFormUrl: ",i.t0),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 22:e.isLoading=!1;case 23:case"end":return i.stop()}},i,e,[[8,18]])}))()},removeImage:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return event.stopPropagation(),i.next=3,e.$swal.fire({type:"question",title:"Remove File",html:"Xoá file <b>"+t.text+"</b> ?",showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,reverseButtons:!0});case 3:if(!i.sent.value){i.next=18;break}return e.isLoading=!0,i.prev=6,i.next=9,ie.removeFile({filePath:t.value});case 9:(a=i.sent)&&200===a.status&&(e.$notify({type:"success",title:"Xoá Thành Công"}),e.getFileOfVideo()),i.next=17;break;case 13:i.prev=13,i.t0=i.catch(6),console.log(" #### removeImage: ",i.t0),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 17:e.isLoading=!1;case 18:case"end":return i.stop()}},i,e,[[6,13]])}))()},formatSize:function(t){return Et.a.bytesToSize(t)}}},ts={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{ref:"modalSelectFile",attrs:{id:"modalSelectFile",size:"xl",title:"Chọn File","hide-backdrop":!0},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"w-100"},[i("b-button",{staticClass:"float-right ml-4 px-5",attrs:{variant:"success"},on:{click:function(e){return t.onOkClick()}}},[t._v("\n          Ok\n        ")]),t._v(" "),i("b-button",{staticClass:"float-right",attrs:{variant:"dark"},on:{click:function(e){return t.close()}}},[t._v("\n          Close\n        ")])],1)]},proxy:!0}])},[i("b-tabs",{staticClass:"tab-solid tab-solid-primary tab",attrs:{pills:"","active-nav-item-class":"font-weight-bold "}},[t.idVideo?i("b-tab",{attrs:{title:"Thư Mục Temp Video",active:""}},[i("b-row",{staticClass:"mt-3 pt-3 card"},[i("div",{staticClass:"col-12 mb-3 text-center"},[i("div",{},[i("b-btn",{staticClass:"mx-2",attrs:{variant:"outline-primary"},on:{click:function(e){return t.$refs.modalUploadFile.show()}}},[i("i",{staticClass:"mdi mdi-cloud-upload"}),t._v("\n                Tải lên file\n              ")]),t._v(" "),"image"===t.typeFile?i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalDownloadImageFormLink",modifiers:{modalDownloadImageFormLink:!0}}],staticClass:"mx-2",attrs:{variant:"outline-info"}},[i("i",{staticClass:"fas fa-download"}),t._v("\n                Tải ảnh từ link\n              ")]):t._e(),t._v(" "),"image"===t.typeFile?i("b-btn",{staticClass:"mx-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.$refs.modalDownloadImageGoogle.show()}}},[i("i",{staticClass:"fas fa-download"}),t._v("\n                Tải ảnh từ Google\n              ")]):t._e(),t._v(" "),!t.isSelectMulti||"image"!==t.typeFile&&"video"!==t.typeFile?t._e():i("b-btn",{staticClass:"mx-2",attrs:{variant:"outline-success"},on:{click:t.onSelectAll}},[t._v("Chọn tất cả")])],1)]),t._v(" "),"image"===t.typeFile?i("div",{staticClass:"col-12"},[i("h5",{staticClass:"mb-6 text-uppercase"},[t._v("ảnh")]),t._v(" "),i("div",{staticClass:"row"},t._l(t.listFileOfVideo,function(e,a){return i("div",{key:a,staticClass:"container-item container-image mx-2 mb-3",class:{"container-image-selected":e.isSelected},on:{click:function(i){return t.onSelectFile(e,"listFileOfVideo")},dblclick:function(i){return t.onDoubleClickFile(e)}}},[i("i",{staticClass:"fas fa-times-circle icon-remove-image",on:{click:function(i){return t.removeImage(e)}}}),t._v(" "),i("img",{staticClass:"img-item",attrs:{src:e.url}}),t._v(" "),i("div",{staticStyle:{padding:"5px"}},[i("p",{staticClass:"truncate-text"},[t._v(t._s(e.text))]),t._v(" "),i("span",[t._v(t._s(t.formatSize(e.size)))])])])}),0)]):t._e(),t._v(" "),"video"===t.typeFile?i("div",{staticClass:"col-12"},[i("h5",{staticClass:"mb-6 text-uppercase"},[t._v("Video")]),t._v(" "),i("div",{staticClass:"row"},t._l(t.listFileOfVideo,function(e,a){return i("div",{key:a,staticClass:"container-item container-image mx-2 mb-3",class:{"container-image-selected":e.isSelected},on:{click:function(i){return t.onSelectFile(e,"listFileOfVideo")},dblclick:function(i){return t.onDoubleClickFile(e)}}},[i("i",{staticClass:"fas fa-times-circle icon-remove-image",on:{click:function(i){return t.removeImage(e)}}}),t._v(" "),i("i",{staticClass:"fas fa-eye icon-preview",on:{click:function(i){return t.previewVideo(e)}}}),t._v(" "),i("video",{staticClass:"img-item",attrs:{src:e.url}}),t._v(" "),i("div",{staticStyle:{padding:"5px"}},[i("p",{staticClass:"truncate-text"},[t._v(t._s(e.text))]),t._v(" "),i("span",[t._v(t._s(t.formatSize(e.size)))])])])}),0)]):t._e(),t._v(" "),"audio"===t.typeFile?i("div",{staticClass:"col-12"},[i("h5",{staticClass:"mb-6 text-uppercase"},[t._v("Audio")]),t._v(" "),i("div",{staticClass:"row"},t._l(t.listFileOfVideo,function(e,a){return i("div",{key:a,staticClass:"container-item container-audio mx-2 mb-3 text-center",on:{click:function(i){return t.onSelectFile(e,"listFileOfVideo")}}},[i("i",{staticClass:"fas fa-times-circle icon-remove-image",on:{click:function(i){return t.removeImage(e)}}}),t._v(" "),i("audio",{staticClass:"mt-5",staticStyle:{flex:"1"},attrs:{id:"video",controls:"",src:e.url}}),t._v(" "),i("div",{staticStyle:{padding:"5px"}},[i("p",{staticClass:"truncate-text font-weight-bold"},[t._v("\n                    "+t._s(e.text)+"\n                  ")]),t._v(" "),i("span",[t._v(t._s(t.formatSize(e.size)))])])])}),0)]):t._e()])],1):t._e(),t._v(" "),i("b-tab",{attrs:{title:"Thư mục của Tôi"},on:{click:t.onClickMyFolder}},[i("b-row",{staticClass:"mt-3 card",staticStyle:{"border-radius":"10px"}},[i("finder-index",{key:t.keyMyFolder,attrs:{value:t.fileSelected,data:t.dataMyFolder},on:{onChange:t.onChangeSelectMyFolder}})],1)],1)],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,loader:"dots","is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1),t._v(" "),i("b-modal",{ref:"modalDownloadImageFormLink",attrs:{id:"modalDownloadImageFormLink",size:"md",title:"Tải ảnh từ link","no-close-on-backdrop":""},on:{ok:t.onDownloadImageFormUrl}},[i("b-form-group",{attrs:{label:"Link ảnh"}},[i("b-form-textarea",{attrs:{id:"urlImagesDownload",placeholder:"Nhập link ảnh",rows:"3","max-rows":"6",state:""===t.stateData?null:!t.stateData.includes("urlDownload")},model:{value:t.urlImagesDownload,callback:function(e){t.urlImagesDownload=e},expression:"urlImagesDownload"}})],1)],1),t._v(" "),i("ModalUploadFileWithDropzone",{ref:"modalUploadFile",attrs:{payload:{idVideo:t.idVideo,typeUpload:"VIDEO_TEMP"},router:"api/v1/finder/upload-file-to-video",acceptedFiles:"image"===t.typeFile?"image/*":"video"===t.typeFile?"video/*":"audio/*"},on:{reload:t.getFileOfVideo}}),t._v(" "),i("ModalDownloadVideoPixabay",{ref:"modalDownloadVideoPixabay",on:{onDownload:t.onDownloadFromLink}}),t._v(" "),i("ModalDownloadVideoBlocks",{ref:"modalDownloadVideoBlocks",on:{onDownload:t.onDownloadFromLink}}),t._v(" "),i("ModalDownloadImageGoogle",{ref:"modalDownloadImageGoogle",on:{onDownload:t.onDownloadImageGoogle}}),t._v(" "),i("modal-video",{ref:"ModalVideo"})],1)},staticRenderFns:[]};var es=i("VU/8")(Za,ts,!1,function(t){i("v0Pu")},"data-v-e4f4e386",null).exports,is={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalConfig",attrs:{size:"xl",id:"modalConfig",title:"Thông số tin tức","no-close-on-backdrop":"","no-close-on-esc":""}},[i("div",{staticClass:"row col-12"},[i("div",{staticClass:"col-6 stretch-card mb-3 card"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v("Giọng Đọc")]),t._v(" "),i("p",{staticClass:"card-description"}),t._v(" "),i("b-form-group",{attrs:{label:"Ngôn ngữ:","label-for":"listLanguageVoice"}},[i("b-form-select",{model:{value:t.config.languageVoice,callback:function(e){t.$set(t.config,"languageVoice",e)},expression:"config.languageVoice"}},t._l(t.userData.listLanguageVoice,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n              "+t._s(e.name)+"\n            ")])}),0)],1),t._v(" "),i("div",{staticClass:"text-center"},[i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.configVoice",modifiers:{configVoice:!0}}],attrs:{variant:"primary"}},[t._v("Chỉnh giọng đọc"),i("i",{staticClass:"mdi mdi-play-circle ml-1"})])],1),t._v(" "),i("b-modal",{attrs:{id:"configVoice","hide-footer":"",title:"Cài đặt thông số cho giọng đọc",size:"md"}},[i("b-form-group",{attrs:{label:"Âm lượng: ("+t.config.configVoice.volume+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.volume,expression:"config.configVoice.volume"}],staticClass:"form-control",attrs:{type:"range",min:"0.1",max:"1.9",step:"0.1"},domProps:{value:t.config.configVoice.volume},on:{__r:function(e){return t.$set(t.config.configVoice,"volume",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"Tốc độ: ("+t.config.configVoice.speed+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.speed,expression:"config.configVoice.speed"}],staticClass:"form-control",attrs:{type:"range",min:"0.5",max:"1.9",step:"0.1"},domProps:{value:t.config.configVoice.speed},on:{__r:function(e){return t.$set(t.config.configVoice,"speed",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"Pitch/Tone: ("+t.config.configVoice.pitch+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.pitch,expression:"config.configVoice.pitch"}],staticClass:"form-control",attrs:{type:"range",min:"0.1",max:"1.9",step:"0.1"},domProps:{value:t.config.configVoice.pitch},on:{__r:function(e){return t.$set(t.config.configVoice,"pitch",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"In Gain: ("+t.config.configVoice.inGain+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.inGain,expression:"config.configVoice.inGain"}],staticClass:"form-control",attrs:{type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.config.configVoice.inGain},on:{__r:function(e){return t.$set(t.config.configVoice,"inGain",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"Out Gain: ("+t.config.configVoice.outGain+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.outGain,expression:"config.configVoice.outGain"}],staticClass:"form-control",attrs:{type:"range",min:"0",max:"1",step:"0.1",id:"ThongSoGiongDoc_out_gain"},domProps:{value:t.config.configVoice.outGain},on:{__r:function(e){return t.$set(t.config.configVoice,"outGain",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"Delay: ("+t.config.configVoice.delay+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.delay,expression:"config.configVoice.delay"}],staticClass:"form-control",attrs:{type:"range",min:"0",max:"90000",step:"1000"},domProps:{value:t.config.configVoice.delay},on:{__r:function(e){return t.$set(t.config.configVoice,"delay",e.target.value)}}})]),t._v(" "),i("b-form-group",{attrs:{label:"Decays: ("+t.config.configVoice.decays+")"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.config.configVoice.decays,expression:"config.configVoice.decays"}],staticClass:"form-control",attrs:{type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.config.configVoice.decays},on:{__r:function(e){return t.$set(t.config.configVoice,"decays",e.target.value)}}})])],1)],1)]),t._v(" "),i("div",{staticClass:"col-6 stretch-card mb-3"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v("Tùy Chọn Thêm Vào Video")]),t._v(" "),i("p",{staticClass:"card-description"}),t._v(" "),i("div",{},[i("b-form-checkbox",{attrs:{id:"nhacNen",value:!0,"unchecked-value":!1},model:{value:t.config.isAddAudioBackground,callback:function(e){t.$set(t.config,"isAddAudioBackground",e)},expression:"config.isAddAudioBackground"}},[t._v("\n              Nhạc nền\n            ")])],1),t._v(" "),t.config.isAddAudioBackground?i("div",{staticClass:"mt-1"},[i("b-form-select",{staticClass:"col-8",model:{value:t.config.audioBackground,callback:function(e){t.$set(t.config,"audioBackground",e)},expression:"config.audioBackground"}},[i("template",{slot:"first"},[i("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("-- Vui lòng chọn nhạc nền --")])]),t._v(" "),t._l(t.userData.listChuDeNhacNen,function(e,a){return i("option",{key:a,domProps:{value:e.ID}},[t._v("\n                "+t._s(e.TenChuDe)+"\n              ")])})],2),t._v(" "),i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.NhacNenModal",modifiers:{NhacNenModal:!0}}],attrs:{variant:"primary"}},[t._v("Cài đặt")]),t._v(" "),i("b-modal",{attrs:{id:"NhacNenModal","hide-footer":"",title:"Cài đặt thông số cho nhạc nền",size:"md"}},[i("b-form-group",{attrs:{label:"Âm lượng: ("+t.config.configAudioBackground.volume+")"}},[i("b-form-input",{attrs:{type:"range",min:"0.1",max:"1.9",step:"0.1"},model:{value:t.config.configAudioBackground.volume,callback:function(e){t.$set(t.config.configAudioBackground,"volume",e)},expression:"config.configAudioBackground.volume"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tốc độ: ("+t.config.configAudioBackground.speed+")"}},[i("b-form-input",{attrs:{type:"range",min:"0.5",max:"1.5",step:"0.1"},model:{value:t.config.configAudioBackground.speed,callback:function(e){t.$set(t.config.configAudioBackground,"speed",e)},expression:"config.configAudioBackground.speed"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Pitch/Tone: ("+t.config.configAudioBackground.pitch+")"}},[i("b-form-input",{attrs:{type:"range",min:"0.1",max:"1.9",step:"0.1"},model:{value:t.config.configAudioBackground.pitch,callback:function(e){t.$set(t.config.configAudioBackground,"pitch",e)},expression:"config.configAudioBackground.pitch"}})],1)],1)],1):t._e(),t._v(" "),i("div",{},[i("b-form-checkbox",{attrs:{id:"logo",value:!0,"unchecked-value":!1},model:{value:t.config.isAddLogo,callback:function(e){t.$set(t.config,"isAddLogo",e)},expression:"config.isAddLogo"}},[t._v("\n              Logo\n            ")])],1),t._v(" "),t.config.isAddLogo?i("div",{staticClass:"mt-1"},[i("b-form-select",{staticClass:"col-8",model:{value:t.config.logo,callback:function(e){t.$set(t.config,"logo",e)},expression:"config.logo"}},[i("template",{slot:"first"},[i("option",{attrs:{disabled:""},domProps:{value:0}},[t._v("-- Vui lòng chọn logo --")])]),t._v(" "),t._l(t.userData.listLogo,function(e,a){return i("option",{key:a,domProps:{value:e.ID}},[t._v("\n                "+t._s(e.TenChuDe)+"\n              ")])})],2),t._v(" "),i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.LogoModal",modifiers:{LogoModal:!0}}],attrs:{size:"xs",variant:"primary"}},[t._v("Cài đặt")]),t._v(" "),i("b-modal",{attrs:{id:"LogoModal","hide-footer":"",title:"Cài đặt logo",size:"md"}},[i("div",{staticClass:"text-center"},[i("b-btn",{attrs:{variant:"primary"}},[t._v("Xem thử")])],1)])],1):t._e(),t._v(" "),i("div",{},[i("b-form-checkbox",{attrs:{id:"intro",value:!0,"unchecked-value":!1},model:{value:t.config.isAddIntro,callback:function(e){t.$set(t.config,"isAddIntro",e)},expression:"config.isAddIntro"}},[t._v("\n              Intro\n            ")])],1),t._v(" "),t.config.isAddIntro?i("div",{staticClass:"mt-1"},[i("b-form-select",{staticClass:"col-8",model:{value:t.config.intro,callback:function(e){t.$set(t.config,"intro",e)},expression:"config.intro"}},[i("template",{slot:"first"},[i("option",{attrs:{disabled:""},domProps:{value:0}},[t._v("-- Vui lòng chọn intro --")])]),t._v(" "),t._l(t.userData.listIntro,function(e,a){return i("option",{key:a,domProps:{value:e.ID}},[t._v("\n                "+t._s(e.TenChuDe)+"\n              ")])})],2)],1):t._e(),t._v(" "),i("div",{},[i("b-form-checkbox",{attrs:{id:"outro",value:!0,"unchecked-value":!1},model:{value:t.config.isAddOutro,callback:function(e){t.$set(t.config,"isAddOutro",e)},expression:"config.isAddOutro"}},[t._v("\n              Outro\n            ")])],1),t._v(" "),t.config.isAddOutro?i("div",{staticClass:"mt-1"},[i("b-form-select",{staticClass:"col-8",model:{value:t.config.outro,callback:function(e){t.$set(t.config,"outro",e)},expression:"config.outro"}},[i("template",{slot:"first"},[i("option",{attrs:{disabled:""},domProps:{value:0}},[t._v("-- Vui lòng chọn outro --")])]),t._v(" "),t._l(t.userData.listOutro,function(e,a){return i("option",{key:a,domProps:{value:e.ID}},[t._v("\n                "+t._s(e.TenChuDe)+"\n              ")])})],2)],1):t._e()])])])]),t._v("\n  "+t._s(t.config)+"\n")])},staticRenderFns:[]};var as=i("VU/8")({data:function(){return{config:{languageVoice:null,isAddAudioBackground:!1,isAddLogo:!1,isAddIntro:!1,isAddOutro:!1,configVoice:{volume:1,speed:1,pitch:1,inGain:.6,outGain:.3,delay:1e3,decays:.3},configAudioBackground:{volume:1,speed:1,pitch:1}},userData:{listLanguageVoice:[],listChuDeNhacNen:[],listIntro:[],listOutro:[]}}},methods:{show:function(){this.$refs.modalConfig.show()},close:function(){this.$refs.modalConfig.hide()}}},is,!1,function(t){i("KSsn")},null,null).exports,ss=function(){function t(){u()(this,t)}return h()(t,null,[{key:"createChannel",value:function(t){return I.post("/api/v1/channel/create-channel",t)}},{key:"saveChannel",value:function(t){return I.post("/api/v1/channel/save-channel",t)}},{key:"removeChannel",value:function(t){return I.post("/api/v1/channel/remove-channel",t)}},{key:"getChannel",value:function(){return I.get("/api/v1/channel/get-channels")}}]),t}(),ns={components:{SimpleEdit:Xi},props:["videoBackground","layoutSelected"],data:function(){return{layoutEdit:null}},methods:{show:function(t){this.layoutEdit=t,this.$refs.modalAddLayout.show()},resetModal:function(){},onSavelayout:function(){var t=this.$refs.simpleEdit.data,e=t.listImage.map(function(t){return m()({},t,{file:null})}),i=t.listVideo.map(function(t){return m()({},t,{file:null})}),a=t.audio.listAudio.map(function(t){return m()({},t,{file:null})}),s=t.listSlideVideo.map(function(t){var e=t.listItem.map(function(t){return m()({},t,{file:null})});return m()({},t,{listItem:e})}),n=this.$store.state.tempArray,o=m()({},t.video,{file:null});t.project.isSaveVideoBackground||(o=m()({},o,{url:null,path:null}));var r={video:o,project:t.project,listText:t.listText,listImage:e,audio:{listAudio:a,typeRenderAudio:t.audio.typeRenderAudio},listVideo:i,voiceAudio:{isAddVoice:t.voiceAudio.isAddVoice,listVoice:[]},listSlideVideo:s,subtitle:t.subtitle,orderAddedItem:n};this.$emit("onFinishEditLayout",r),this.$refs.modalAddLayout.hide()}}},os={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddLayout",attrs:{id:"modalAddLayout",title:"Sửa Layout",size:"xl","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-footer",fn:function(e){e.ok;var a=e.cancel;return[i("b-button",{attrs:{variant:"dark"},on:{click:function(t){return a()}}},[t._v("Hủy")]),t._v(" "),i("b-button",{staticClass:"px-4 mx-3",attrs:{variant:"success"},on:{click:function(e){return t.onSavelayout()}}},[t._v("Lưu Layout")])]}}])},[i("Style",[t._v("#modalAddLayout.modal.show .modal-dialog { max-width: 1500px }")]),t._v(" "),i("SimpleEdit",{ref:"simpleEdit",attrs:{parrentScreen:"NewsVideo",videoBackground:t.videoBackground,layoutEdit:t.layoutEdit}})],1)},staticRenderFns:[]};var rs=i("VU/8")(ns,os,!1,function(t){i("bVNZ")},null,null).exports,ls={directives:{ClickOutside:z.a},components:{ModalSelectFile:es,ModalConfigNews:as,Loading:c.a,ModalSettingVoice:Le,draggable:de.a,ModalEditLayout:rs,ModalVideo:La,ModalEditText:Pe},data:function(){return{indexAddItemSlideVideo:null,listTime:Z.YOUTUBE_LIST_TIME_SHUCEL,linkYoutube:null,keyLayoutSelected:Et.a.generateKey(),isEditLayout:!1,isLoading:!1,selected:null,isEditVideo:!1,videoEdit:null,listChannel:[],listChannelOption:[],videoCreateInfo:{channelId:null,title:null,description:null,tag:null,thumbnail:null,typeVideoUpload:Z.VIDEO_STATUS_UPLOAD.PRIVATE,datePublic:null,timePublic:null},stateDataCreate:"",listLayout:null,layoutSelected:null,listLayoutOptions:[{value:null,text:"---------- Chọn Layout --------"}],itemReplaceActive:null,listVoice:null,listVoiceOptions:[{value:null,text:"Chọn giọng đọc"}],keyVoice:1,keyBG:0,listLayoutSelected:null,idVideoYoutube:null,keySlideVideo:0,VIDEO_STATUS_UPLOAD:Z.VIDEO_STATUS_UPLOAD,listTransition:[],introTransition:null,slideVideoSelected:null}},computed:{checkChannelHasIntro:function(){var t=this,e=this.listChannel.find(function(e){return e._id===t.videoCreateInfo.channelId});return!(!e||!e.introVideo)},checkChannelHasOutro:function(){var t=this,e=this.listChannel.find(function(e){return e._id===t.videoCreateInfo.channelId});return!(!e||!e.outroVideo)}},methods:{reciveSettingVoice:function(t){this.layoutSelected.data.subtitle.data.voice=t.voice,this.layoutSelected.data.subtitle.data.voiceData=t.voiceData},onEditLayout:function(t){this.videoEdit&&this.videoEdit.data&&this.videoEdit.data.videoBackground?this.$refs.modalEditLayout.show(t):this.$notify({type:"error",title:"Chưa Chọn Video Background"})},checkShowSelectTransition:function(t){var e=this;if(t<this.listLayoutSelected.length-1)return!0;if(t===this.listLayoutSelected.length-1){var i=this.listChannel.find(function(t){return t._id===e.videoCreateInfo.channelId});if(i&&i.outroVideo)return!0}return!1},onClickSlideVideo:function(t){this.layoutSelected.data.listSlideVideo=this.layoutSelected.data.listSlideVideo.map(function(t){return m()({},t,{isActive:!1})}),this.slideVideoSelected=this.layoutSelected.data.listSlideVideo[t],this.slideVideoSelected.isShowItems=!0,this.layoutSelected.data.listSlideVideo[t].isActive=!0},clickOutsideLayout:function(){this.layoutSelected=null,this.listLayoutSelected=this.listLayoutSelected.map(function(t){return m()({},t,{isActive:!1})})},getTimeSlideVideo:function(t){var e=0;return t&&t.listItem&&t.listItem.map(function(t){e+=t.showTime}),Et.a.secondsToTime(e)},onRandomPositionSlide:function(t){if(t&&t.listItem){var e=t.listItem,i=e.filter(function(t){return"video"===t.typeFile}),a=e.filter(function(t){return"image"===t.typeFile}),s=[];if(i.length>0&&a.length>0){var n=0;i.map(function(t){n+=t.showTime});for(var o=n/a.length,r=a.length,l=(i.length,0);l<r;l++){var c=Math.floor(Math.random()*a.length);s.push(a[c]),a.splice(c,1);for(var d=0;i.length>0&&d<o;){var u=Math.floor(Math.random()*(i.length-1));s.push(i[u]),d+=i[u].showTime,i.splice(u,1)}}i.length>0&&(s=[].concat(F()(s),F()(i)))}else for(var v=[].concat(F()(t.listItem));v.length>0;){var h=Math.floor(Math.random()*v.length);s.push(v[h]),v.splice(h,1)}t.listItem=s}},onClickLayout:function(t,e){for(var i=0;i<this.listLayoutSelected.length;i++){var a=this.listLayoutSelected[i];i===e?(a.isActive=!0,a.isSelected=!0):a.isActive=!1}this.layoutSelected=JSON.parse(Dt()(t)),this.layoutSelected.data.listSlideVideo&&this.layoutSelected.data.listSlideVideo.length>0&&(this.slideVideoSelected=null),this.isEditLayout=!0},onFinishEditLayout:function(t){this.layoutSelected.data=m()({},this.layoutSelected.data,t)},onDeleteItemSlideVideo:function(t){this.slideVideoSelected.listItem.splice(t,1)},onChangeSelectChannelUpload:function(t){var e=this.listChannel.find(function(e){return e._id===t});e&&(e.titleDefault&&(this.videoCreateInfo.title=e.titleDefault),e.descriptionDefault&&(this.videoCreateInfo.description=e.descriptionDefault),e.tagDefault&&(this.videoCreateInfo.tag=e.tagDefault),e.typeVideoUpload&&(this.videoCreateInfo.typeVideoUpload=e.typeVideoUpload))},onGetInfoYoutube:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.linkYoutube){e.next=3;break}return e.abrupt("return");case 3:return t.isLoading=!0,i="",""==(i=(i=t.linkYoutube.split("watch?v=")[1]).split("&")[0])&&(i=t.linkYoutube.split("/")[1]),t.idVideoYoutube=i,e.next=11,E.getInfoYoutube({idVideo:i});case 11:(a=e.sent)&&200===a.status&&(t.videoCreateInfo=m()({},t.videoCreateInfo,a.data,{channelId:t.videoCreateInfo.channelId})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 18:t.isLoading=!1;case 19:case"end":return e.stop()}},e,t,[[0,15]])}))()},onDeleteLayout:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a=e.listLayoutSelected[t],e.layoutSelected&&a&&a.idLayout===e.layoutSelected.idLayout&&(e.layoutSelected=null),e.listLayoutSelected.splice(t,1),event.stopPropagation();case 4:case"end":return i.stop()}},i,e)}))()},onDeleteVoice:function(t){this.layoutSelected.data.voiceAudio.listVoice.splice(t,1),this.keyVoice++},onChangeSelectLayout:function(t){this.isEditLayout=!1,this.layoutSelected=null;var e=this.listLayout.find(function(e){return e._id===t});e&&(this.layoutSelected=JSON.parse(Dt()(e))),this.layoutSelected&&this.layoutSelected.data.video&&this.layoutSelected.data.video.url&&(this.layoutSelected.data.typeBackgroundVideo=Z.NEWS_TYPE_VIDEO_BACKGROUND.USE_VIDEO_LAYOUT)},onSelectFile:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=t.typeSelect,i.next="backgroundVideo"===i.t0?3:"thumbnail"===i.t0?5:"image-replace"===i.t0?7:"video-replace"===i.t0?9:"voice"===i.t0?11:"layout-bg"===i.t0?15:"slide-video-image"===i.t0?18:"slide-video-video"===i.t0?20:29;break;case 3:return e.videoEdit=m()({},e.videoEdit,{data:m()({},e.videoEdit.data,{videoBackground:{url:t.value.url,path:t.value.value,typeUrl:"server"}})}),i.abrupt("break",30);case 5:return e.videoCreateInfo=m()({},e.videoCreateInfo,{thumbnail:{url:t.value.url,path:t.value.value}}),i.abrupt("break",30);case 7:return e.layoutSelected.data.listImage=e.layoutSelected.data.listImage.map(function(i){return i.id===e.itemReplaceActive?m()({},i,{url:t.value.url,path:t.value.value}):i}),i.abrupt("break",30);case 9:return e.layoutSelected.data.listVideo=e.layoutSelected.data.listVideo.map(function(i){return i.id===e.itemReplaceActive?m()({},i,{url:t.value.url,path:t.value.value}):i}),i.abrupt("break",30);case 11:return e.layoutSelected.data.voiceAudio.listVoice||(e.layoutSelected.data.voiceAudio.listVoice=[]),e.layoutSelected.data.voiceAudio.listVoice.push({url:t.value.url,text:t.value.text,path:t.value.value}),e.keyVoice++,i.abrupt("break",30);case 15:return e.layoutSelected.data.videoRender={url:t.value.url,text:t.value.text,path:t.value.value},e.keyBG++,i.abrupt("break",30);case 18:return t.isSelectMulti?t.listFile&&t.listFile.map(function(t){e.slideVideoSelected.listItem.push({url:t.url,text:t.text,path:t.value,typeFile:"image",showTime:10})}):e.slideVideoSelected.listItem.push({url:item.url,text:item.text,path:item.value,typeFile:"image",showTime:10}),i.abrupt("break",30);case 20:if(!t.isSelectMulti){i.next=24;break}t.listFile&&t.listFile.map(function(){var t=r()(n.a.mark(function t(i){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Et.a.getInfoVideoByUrl(i.url);case 2:a=t.sent,e.slideVideoSelected.listItem.push({url:i.url,path:i.value,text:i.text,typeFile:"video",showTime:a.duration});case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()),i.next=28;break;case 24:return i.next=26,Et.a.getInfoVideoByUrl(item.url);case 26:a=i.sent,e.slideVideoSelected.listItem.push({url:item.url,path:item.value,text:item.text,typeFile:"video",showTime:a.duration});case 28:case 29:return i.abrupt("break",30);case 30:case"end":return i.stop()}},i,e)}))()},onSelectThumbnail:function(){var t=this.$refs.inputThumbnail.files;if(t&&t.length>0){var e=t[0],i=URL.createObjectURL(e);this.videoCreateInfo.thumbnail={url:i,file:e}}},getChannels:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ss.getChannel();case 3:(i=e.sent)&&200===i.status&&(t.listChannel=i.data.listChannel,t.listChannelOption=i.data.listChannel.map(function(t){return{value:t._id,text:t.name}}),t.listChannelOption=[{value:null,text:"Không Upload"}].concat(F()(t.listChannelOption))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},onReset:function(){this.isLoading=!1,this.selected=null,this.isEditVideo=!1,this.videoCreateInfo={channelId:null,title:null,description:null,tag:null,thumbnail:null},this.stateDataCreate=""},onCreateVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stateDataCreate="",t.videoCreateInfo.typeVideoUpload!==Z.VIDEO_STATUS_UPLOAD.SCHEDULE||t.videoCreateInfo.timePublic&&t.videoCreateInfo.datePublic){e.next=4;break}return t.$notify({type:"warn",title:"Nhập ngày + giờ public"}),e.abrupt("return");case 4:if(t.videoCreateInfo.title||(t.stateDataCreate+=",title"),t.videoCreateInfo.thumbnail||(t.stateDataCreate+=",thumbnail"),""===t.stateDataCreate){e.next=9;break}return t.$notify({type:"warn",title:"Vui Lòng Điền Đầy Đủ Thông Tin"}),e.abrupt("return");case 9:return t.isLoading=!0,e.prev=10,(i=t.listChannel.find(function(e){return e._id==t.videoCreateInfo.channelId}))||(i={idProfile:null,listLayout:null}),a=i.idProfile,s={name:t.videoCreateInfo.title,idChannel:t.videoCreateInfo.channelId,data:{introTransition:t.introTransition,channelId:t.videoCreateInfo.channelId,title:t.videoCreateInfo.title,description:t.videoCreateInfo.description,tag:t.videoCreateInfo.tag,idVideoYoutube:t.idVideoYoutube,thumbnailUrl:t.videoCreateInfo.thumbnail.url?t.videoCreateInfo.thumbnail.url:null,videoBackground:t.idVideoYoutube?{url:"https://www.youtube.com/watch?v="+t.idVideoYoutube,typeUrl:"youtube"}:null,typeVideoUpload:t.videoCreateInfo.typeVideoUpload,datePublic:t.videoCreateInfo.datePublic,timePublic:t.videoCreateInfo.timePublic},type:Z.VIDEO_TYPE.NEWS_VIDEO,idProfile:a},i.listLayout&&(o=[],i.listLayout.map(function(e){var i=t.listLayout.find(function(t){return t._id==e});i&&o.push(i)}),t.listLayoutSelected=o.map(function(t){return t&&t.data&&t.data.autoSubtitleData&&(t.data.autoSubtitleData.content=Et.a.removeAllTag(t.data.autoSubtitleData.content)),t&&t.data.video&&t.data.video.url&&(t.data.typeBackgroundVideo=Z.NEWS_TYPE_VIDEO_BACKGROUND.USE_VIDEO_LAYOUT),m()({},t,{idLayout:Et.a.generateKey()})}),s.data.listLayoutSelected=t.listLayoutSelected),(r=new FormData).append("typeUpload",Z.UPLOAD_FILE_TYPE.NEWS_VIDEO),r.append("payload",Dt()(s)),t.videoCreateInfo.thumbnail.file&&r.append("thumbnail",t.videoCreateInfo.thumbnail.file),e.next=22,$t.createVideo(r);case 22:(l=e.sent)&&200===l.status&&l.data.newVideo&&(t.$notify({type:"success",title:"Tạo Thành Công"}),t.videoEdit=l.data.newVideo,t.videoEdit.data=JSON.parse(t.videoEdit.data),t.isEditVideo=!0,t.videoCreateInfo=null,t.videoCreateInfo={channelId:t.videoEdit.data.channelId,title:t.videoEdit.data.title,description:t.videoEdit.data.description,tag:t.videoEdit.data.tag,thumbnail:t.videoEdit.data.thumbnail,typeVideoUpload:t.videoEdit.data.typeVideoUpload,datePublic:t.videoEdit.data.datePublic,timePublic:t.videoEdit.data.timePublic}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(10),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 29:t.isLoading=!1;case 30:case"end":return e.stop()}},e,t,[[10,26]])}))()},onSaveVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.videoCreateInfo.typeVideoUpload!==Z.VIDEO_STATUS_UPLOAD.SCHEDULE||t.videoCreateInfo.timePublic&&t.videoCreateInfo.datePublic){e.next=3;break}return t.$notify({type:"warn",title:"Nhập ngày + giờ public"}),e.abrupt("return");case 3:return t.videoEdit.data.listLayoutSelected=t.listLayoutSelected,i=m()({},t.videoEdit.data,t.videoCreateInfo,{introTransition:t.introTransition}),(a=t.listChannel.find(function(e){return e._id===t.videoCreateInfo.channelId}))||(a={idProfile:null,listLayout:null}),s=a.idProfile,o=m()({},t.videoEdit,{idChannel:t.videoCreateInfo.channelId,data:i,name:i.title,idProfile:s}),t.isLoading=!0,e.prev=10,(r=new FormData).append("payload",Dt()(o)),e.next=15,$t.updateVideo(r);case 15:(l=e.sent)&&200===l.status&&(t.$notify({type:"success",title:"Lưu Thành Công"}),t.$router.push({name:"managerVideo"})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),t.$notify({type:"error",title:e.t0.message});case 22:t.isLoading=!1;case 23:case"end":return e.stop()}},e,t,[[10,19]])}))()},getLayouts:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi();case 3:(i=e.sent)&&200===i.status&&i.data.listLayout&&(a=(a=i.data.listLayout).map(function(t){return m()({},t,{data:m()({},JSON.parse(t.data),{typeBackgroundVideo:Z.NEWS_TYPE_VIDEO_BACKGROUND.USE_BACKGROUND_VIDEO})})}),t.listLayout=a,s=a.map(function(t){return{value:t._id,text:t.name}}),t.listLayoutOptions=[].concat(F()(t.listLayoutOptions),F()(s))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi lấy danh sách Layout: "+e.t0.message});case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},onAddNewLayout:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.listLayoutSelected||(t.listLayoutSelected=[]),!t.layoutSelected||!t.layoutSelected.data||t.layoutSelected.data.typeBackgroundVideo!==Z.NEWS_TYPE_VIDEO_BACKGROUND.CUSTOM||t.layoutSelected.data.videoRender&&t.layoutSelected.data.videoRender.url){e.next=4;break}return t.$notify({title:"Chưa Chọn Video Background Khác..!",type:"error"}),e.abrupt("return");case 4:t.listLayoutSelected.push(m()({},t.layoutSelected,{isSelected:!0,idLayout:Et.a.generateKey()})),t.layoutSelected=null,t.selected=null,t.isEditLayout=!1;case 8:case"end":return e.stop()}},e,t)}))()},onSavelayout:function(){if(!this.layoutSelected||!this.layoutSelected.data||this.layoutSelected.data.typeBackgroundVideo!==Z.NEWS_TYPE_VIDEO_BACKGROUND.CUSTOM||this.layoutSelected.data.videoRender&&this.layoutSelected.data.videoRender.url){this.slideVideoSelected&&(this.slideVideoSelected.isActive=!1);for(var t=0;t<this.listLayoutSelected.length;t++){var e=this.listLayoutSelected[t];if(e.idLayout&&this.layoutSelected&&e.idLayout==this.layoutSelected.idLayout){this.listLayoutSelected[t]=m()({},this.layoutSelected,{isActive:!1}),this.layoutSelected=null,this.selected=null,this.isEditLayout=!1;break}}}else this.$notify({title:"Chưa Chọn Video Background Khác..!",type:"error"})},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)}},watch:{"videoCreateInfo.title":{handler:function(t,e){this.stateDataCreate.includes("title")&&(this.stateDataCreate=this.stateDataCreate.replace("title",""))},deep:!0},"videoCreateInfo.channelId":{handler:function(t,e){this.stateDataCreate.includes("channel")&&(this.stateDataCreate=this.stateDataCreate.replace("channel",""))},deep:!0},"videoCreateInfo.thumbnail":{handler:function(t,e){this.stateDataCreate.includes("thumbnail")&&(this.stateDataCreate=this.stateDataCreate.replace("thumbnail",""))},deep:!0}},created:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.listChannel=t.$store.state.data.listChannelUpload,t.listTransition=t.$store.state.data.listTransition,t.listChannelOption=t.listChannel.map(function(t){return{value:t._id,text:t.name}}),t.listChannelOption=[{value:null,text:"==== Không Upload ===="}].concat(F()(t.listChannelOption)),t.listVoice=[].concat(F()(t.$store.state.data.listVoice)),i=(i=t.$store.state.data.listLayout).map(function(t){return m()({},t,{data:m()({},JSON.parse(t.data),{typeBackgroundVideo:Z.NEWS_TYPE_VIDEO_BACKGROUND.USE_BACKGROUND_VIDEO})})}),t.listLayout=i,a=i.map(function(t){return{value:t._id,text:t.name}}),t.listLayoutOptions=[].concat(F()(t.listLayoutOptions),F()(a)),t.listLayoutSelected=[],e.prev=12,!t.$route.query||!t.$route.query.idVideo){e.next=21;break}return t.isLoading=!0,e.next=17,$t.getVideoById({idVideo:t.$route.query.idVideo});case 17:s=e.sent,t.isLoading=!1,200===s.status&&s.data.video&&(o=s.data.video,o=m()({},o,{data:JSON.parse(o.data)}),"object"!==Ra()(o.data)&&(o.data=JSON.parse(o.data)),t.videoCreateInfo={channelId:o.data.channelId,title:o.data.title,description:o.data.description,tag:o.data.tag,thumbnail:o.data.thumbnail,typeVideoUpload:o.data.typeVideoUpload,datePublic:o.data.datePublic,timePublic:o.data.timePublic},t.introTransition=o.data.introTransition,t.videoEdit=o,t.isEditVideo=!0,t.$route.params.video=null,t.listLayoutSelected=t.videoEdit.data.listLayoutSelected),t.$route.query.idVideo=null;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),t.$notify({type:"error",title:"Lỗi "+e.t0.message});case 26:t.isLoading=!1;case 27:case"end":return e.stop()}},e,t,[[12,23]])}))()},destroyed:function(){}},cs={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid pb-3"},[t._m(0),t._v(" "),i("div",{staticClass:"row col-12"},[i("div",{staticClass:"col-4 mb-5"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body text-center"},[t._m(1),t._v(" "),i("div",[t.videoCreateInfo.thumbnail?i("img",{staticClass:"img-fluid rounded mx-auto d-block thumbnail",class:{"error-thumbnail":t.stateDataCreate.includes("thumbnail")},attrs:{src:t.videoCreateInfo.thumbnail.url,alt:""}}):i("img",{staticClass:"img-fluid rounded mx-auto d-block",class:{"error-thumbnail":t.stateDataCreate.includes("thumbnail")},attrs:{src:"/static/assets/icons/image_null.svg",alt:""}})]),t._v(" "),i("button",{staticClass:"btn btn-primary px-3 mt-3",on:{click:function(e){t.videoEdit?t.$refs.modalSelectFile.show(t.videoEdit._id,"image","thumbnail"):t.$refs.inputThumbnail.click()}}},[t._v("\n            "+t._s(t.videoCreateInfo.thumbnail?"Đổi":"Chọn")+" Thumbnail\n          ")]),t._v(" "),i("input",{ref:"inputThumbnail",attrs:{type:"file",name:"inputThumbnail",id:"inputThumbnail",hidden:"",accept:"image/*"},on:{change:t.onSelectThumbnail}})])])]),t._v(" "),i("div",{staticClass:"col-8"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t._m(2),t._v(" "),i("b-form-group",{staticClass:"pt-3"},[i("span",{staticClass:"label mb-2 d-inline-block"},[t._v("CHỌN KÊNH")]),t._v(" "),i("div",{staticClass:"row d-flex justify-content-between"},[i("div",{staticClass:"col-md-12"},[i("b-form-select",{staticClass:"form-control",attrs:{options:t.listChannelOption,state:""===t.stateDataCreate?null:!t.stateDataCreate.includes("channel")},on:{change:t.onChangeSelectChannelUpload},model:{value:t.videoCreateInfo.channelId,callback:function(e){t.$set(t.videoCreateInfo,"channelId",e)},expression:"videoCreateInfo.channelId"}},[i("template",{slot:"first"},[i("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Vui lòng chọn kênh")])])],2),t._v(" "),i("router-link",{staticClass:"mt-2 btn-add-channel",attrs:{to:{name:"channelManager"}}},[i("i",{staticClass:"fal fa-plus-circle"}),t._v(" "),i("b",[t._v("THÊM KÊNH MỚI")])])],1)])]),t._v(" "),i("b-form-group",[i("span",{staticClass:"label mb-2 d-inline-block"},[t._v("LẤY TỪ YOUTUBE")]),t._v(" "),i("div",{staticClass:"row align-items-center"},[i("div",{staticClass:"col-md-12"},[i("b-form-input",{staticClass:"form-control",attrs:{placeholder:"Nhập Link Youtube"},model:{value:t.linkYoutube,callback:function(e){t.linkYoutube=e},expression:"linkYoutube"}}),t._v(" "),i("button",{staticClass:"btn btn-style-sm btn-style mt-2",on:{click:t.onGetInfoYoutube}},[t._v("\n                  Lấy\n                ")])],1)])]),t._v(" "),i("b-form-group",[i("div",{staticClass:"row align-items-center"},[i("div",{staticClass:"col-12 label mb-2 d-block"},[t._v("CHẾ ĐỘ HIỂN THỊ")]),t._v(" "),i("div",{staticClass:"col-12 mt-2"},[i("div",{staticClass:"row"},[i("b-form-radio",{staticClass:"col-md-3",attrs:{name:t.VIDEO_STATUS_UPLOAD.PUBLIC,value:t.VIDEO_STATUS_UPLOAD.PUBLIC},model:{value:t.videoCreateInfo.typeVideoUpload,callback:function(e){t.$set(t.videoCreateInfo,"typeVideoUpload",e)},expression:"videoCreateInfo.typeVideoUpload"}},[t._v("Công khai")]),t._v(" "),i("b-form-radio",{staticClass:"col-md-3",attrs:{name:t.VIDEO_STATUS_UPLOAD.PRIVATE,value:t.VIDEO_STATUS_UPLOAD.PRIVATE},model:{value:t.videoCreateInfo.typeVideoUpload,callback:function(e){t.$set(t.videoCreateInfo,"typeVideoUpload",e)},expression:"videoCreateInfo.typeVideoUpload"}},[t._v("Riêng tư")]),t._v(" "),i("b-form-radio",{staticClass:"col-md-3",attrs:{name:t.VIDEO_STATUS_UPLOAD.UNLIST,value:t.VIDEO_STATUS_UPLOAD.UNLIST},model:{value:t.videoCreateInfo.typeVideoUpload,callback:function(e){t.$set(t.videoCreateInfo,"typeVideoUpload",e)},expression:"videoCreateInfo.typeVideoUpload"}},[t._v("Không công khai")]),t._v(" "),i("b-form-radio",{staticClass:"col-md-3",attrs:{name:t.VIDEO_STATUS_UPLOAD.SCHEDULE,value:t.VIDEO_STATUS_UPLOAD.SCHEDULE},model:{value:t.videoCreateInfo.typeVideoUpload,callback:function(e){t.$set(t.videoCreateInfo,"typeVideoUpload",e)},expression:"videoCreateInfo.typeVideoUpload"}},[t._v("Đặt lịch")])],1)]),t._v(" "),t.videoCreateInfo.typeVideoUpload===t.VIDEO_STATUS_UPLOAD.SCHEDULE?i("div",{staticClass:"col-12 mt-2"},[i("div",{staticClass:"row d-flex justify-content-between"},[i("div",{staticClass:"col-md-6 mb-2"},[i("b-form-datepicker",{staticClass:"form-control",staticStyle:{padding:"10px 20px"},attrs:{id:"example-datepicker",placeholder:"Chọn ngày",min:new Date},model:{value:t.videoCreateInfo.datePublic,callback:function(e){t.$set(t.videoCreateInfo,"datePublic",e)},expression:"videoCreateInfo.datePublic"}})],1),t._v(" "),i("div",{staticClass:"col-md-6 mb-2"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.videoCreateInfo.timePublic,expression:"videoCreateInfo.timePublic"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.videoCreateInfo,"timePublic",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:null}},[t._v("---- Chọn giờ ----")]),t._v(" "),t._l(t.listTime,function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                      ")])})],2)])])]):t._e()])]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("TIÊU ĐỀ")]),t._v(" "),i("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập tiêu đề",state:""===t.stateDataCreate?null:!t.stateDataCreate.includes("title")},model:{value:t.videoCreateInfo.title,callback:function(e){t.$set(t.videoCreateInfo,"title",e)},expression:"videoCreateInfo.title"}})],1),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("MÔ TẢ")]),t._v(" "),i("b-form-textarea",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập mô tả",rows:"5","max-rows":"10"},model:{value:t.videoCreateInfo.description,callback:function(e){t.$set(t.videoCreateInfo,"description",e)},expression:"videoCreateInfo.description"}})],1),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("TỪ KHÓA")]),t._v(" "),i("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập từ khóa"},model:{value:t.videoCreateInfo.tag,callback:function(e){t.$set(t.videoCreateInfo,"tag",e)},expression:"videoCreateInfo.tag"}})],1)],1)])])]),t._v(" "),i("div",{staticClass:"row col-12 justify-content-center my-3"},[i("button",{staticClass:"btn-style btn-style-sm",on:{click:function(e){t.isEditVideo?t.onSaveVideo():t.onCreateVideo()}}},[i("i",{staticClass:"fal fa-video-plus"}),t._v("\n      "+t._s(t.isEditVideo?"Lưu Video":"Tạo Video")+"\n    ")])]),t._v(" "),t.isEditVideo?i("div",{staticClass:"row col-12 mt-2 mb-5"},[i("div",{staticClass:"col-4 text-center"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title font-weight-bold"},[t._v("Video Background")]),t._v(" "),t.videoEdit.data.videoBackground&&"youtube"===t.videoEdit.data.videoBackground.typeUrl?i("div",[i("iframe",{attrs:{width:"420",height:"315",src:"https://www.youtube.com/embed/"+t.videoEdit.data.videoBackground.url.replace("https://www.youtube.com/watch?v=","")}})]):i("div",[t.videoEdit.data.videoBackground?i("video",{staticClass:"embed-responsive embed-responsive-16by9",attrs:{src:t.videoEdit.data.videoBackground.url,controls:""}}):i("img",{staticClass:"img-fluid rounded mx-auto d-block",attrs:{src:"/static/assets/icons/image_background.jpg",alt:""}})]),t._v(" "),i("button",{staticClass:"btn btn-primary mt-3",on:{click:function(e){return t.$refs.modalSelectFile.show(t.videoEdit._id,"video","backgroundVideo")}}},[t._v("\n            Chọn Video Background\n          ")])])])]),t._v(" "),i("div",{staticClass:"col-8"},[i("div",{staticClass:"card p-3"},[i("div",{staticClass:"mt-3"},[i("h5",{staticClass:"card-title font-weight-bold mr-3",staticStyle:{display:"inline-block"}},[t._v("\n            Danh sách layout:\n          ")]),t._v("\n          "+t._s(t.listLayoutSelected&&0!==t.listLayoutSelected.length?"":"Không có layout.!")+"\n\n          "),i("div",[t.checkChannelHasIntro?i("div",{staticStyle:{"align-items":"center",display:"flex"}},[t._m(3),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.introTransition,expression:"introTransition"}],staticClass:"form-control form-control-sm",staticStyle:{width:"170px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.introTransition=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:null}},[t._v("---Chọn Transition---")]),t._v(" "),t._l(t.listTransition,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})],2)]):t._e(),t._v(" "),i("draggable",{staticClass:"my-2",on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.listLayoutSelected,callback:function(e){t.listLayoutSelected=e},expression:"listLayoutSelected"}},t._l(t.listLayoutSelected,function(e,a){return i("div",{key:e._id+a,staticClass:"my-2",staticStyle:{"align-items":"center","flex-direction":"row",display:"flex"}},[i("button",{staticClass:"btn mx-2 btn-lg btn-layout",class:{"btn-warning":!e.isSelected,"btn-outline-primary":e.isSelected,"btn-primary":e.isActive},on:{click:function(i){return t.onClickLayout(e,a)}}},[i("span",{staticStyle:{color:"#000000","font-weight":"bold"}},[i("span",{staticClass:"fs-md"},[t._v(t._s(a+1)+".")]),t._v(" "),i("p",{staticClass:"reset",staticStyle:{color:"#000000","font-weight":"bold"}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])]),t._v(" "),i("i",{staticClass:"far fa-trash-alt icon-remove-layout text-right ml-2",on:{click:function(e){return t.onDeleteLayout(a)}}})]),t._v(" "),t.checkShowSelectTransition(a)?i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:e.data.transition,expression:"item.data.transition"}],staticClass:"form-control form-control-sm",staticStyle:{width:"170px"},on:{change:function(i){var a=Array.prototype.filter.call(i.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.data,"transition",i.target.multiple?a:a[0])}}},[i("option",{domProps:{value:void 0}},[t._v("---Chọn Transition---")]),t._v(" "),t._l(t.listTransition,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])})],2)]):i("span",{staticStyle:{width:"170px"}})])}),0),t._v(" "),t.checkChannelHasOutro?i("div",{staticStyle:{display:"flex"}},[t._m(4),t._v(" "),i("span",{staticStyle:{width:"170px"}})]):t._e()],1)]),t._v(" "),i("div",{key:t.keyLayoutSelected,staticClass:"my-4 pb-4"},[i("div",[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Thêm Layouts:")]),t._v(" "),i("b-form-select",{staticClass:"col-5 mx-2",attrs:{options:t.listLayoutOptions,size:"sm"},on:{change:t.onChangeSelectLayout},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),t.layoutSelected?i("div",{staticClass:"ml-4 text-center"},[t.isEditLayout?i("button",{staticClass:"btn btn-info my-2 px-4 mt-3",on:{click:function(e){return t.onEditLayout(t.layoutSelected)}}},[t._v("\n                Sửa Layout\n              ")]):t._e(),t._v(" "),t.isEditLayout?i("button",{staticClass:"btn btn-success my-2 px-4 mt-3 mx-3",on:{click:t.onSavelayout}},[t._v("\n                Lưu Layout\n              ")]):i("button",{staticClass:"btn btn-primary my-2 px-4 mt-3",on:{click:t.onAddNewLayout}},[t._v("\n                Thêm Layout\n              ")])]):t._e()],1),t._v(" "),t.layoutSelected?i("div",{staticClass:"container-fluid p-0"},[i("div",{staticClass:"mt-2"},[i("div",{key:t.keyBG,staticClass:"row-item border align-items-center p-2 px-3"},[i("span",{staticClass:"font-weight-bold"},[t._v("Video Background:")]),t._v(" "),i("b-form-radio-group",{staticClass:"ml-3",model:{value:t.layoutSelected.data.typeBackgroundVideo,callback:function(e){t.$set(t.layoutSelected.data,"typeBackgroundVideo",e)},expression:"layoutSelected.data.typeBackgroundVideo"}},[t.layoutSelected.data.video&&t.layoutSelected.data.video.url?i("b-form-radio",{attrs:{value:"USE_VIDEO_LAYOUT"}},[t._v("Sử dụng Video Layout")]):t._e(),t._v(" "),i("b-form-radio",{attrs:{value:"USE_BACKGROUND_VIDEO"}},[t._v("Sử dụng Video Background")]),t._v(" "),i("b-form-radio",{attrs:{value:"CUSTOM"}},[t._v("Video Khác:")])],1),t._v(" "),t.layoutSelected.data.videoRender?i("span",{staticClass:"mr-3 font-weight-bold"},[t._v(t._s(t.layoutSelected.data.videoRender.text))]):t._e(),t._v(" "),"CUSTOM"===t.layoutSelected.data.typeBackgroundVideo?i("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$refs.modalSelectFile.show(t.videoEdit._id,"video","layout-bg")}}},[t._v("\n                  Chọn Video\n                ")]):t._e()],1)]),t._v(" "),t._l(t.layoutSelected.data.listText.filter(function(t){return t.isReplaceItem}),function(e){return i("div",{key:e._id,staticClass:"mt-2"},[i("div",{staticClass:"row-item border align-items-center p-2 px-3"},[i("span",{staticClass:"font-weight-bold"},[t._v('Text: "'+t._s(e.replaceName)+'":')]),t._v(" "),i("b-form-input",{staticClass:"mx-2",staticStyle:{flex:"1"},model:{value:e.content,callback:function(i){t.$set(e,"content",i)},expression:"item.content"}})],1)])}),t._v(" "),t._l(t.layoutSelected.data.listImage.filter(function(t){return t.isReplaceItem}),function(e){return i("div",{key:e._id,staticClass:"mt-2"},[i("div",{staticClass:"row-item border align-items-center p-2 px-3"},[i("span",{staticClass:"font-weight-bold"},[t._v('Ảnh: "'+t._s(e.replaceName)+'":')]),t._v(" "),e.url?i("img",{staticClass:"mx-3 image-item-replace border",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-primary",on:{click:function(i){t.$refs.modalSelectFile.show(t.videoEdit._id,"image","image-replace"),t.itemReplaceActive=e.id}}},[t._v("\n                  "+t._s(e.url?"Đổi Ảnh":"Chọn Ảnh")+"\n                ")])])])}),t._v(" "),t._l(t.layoutSelected.data.listVideo.filter(function(t){return t.isReplaceItem}),function(e){return i("div",{key:e._id,staticClass:"mt-2"},[i("div",{staticClass:"row-item border align-items-center p-2 px-3"},[i("span",{staticClass:"font-weight-bold"},[t._v('Video: "'+t._s(e.replaceName)+'":')]),t._v(" "),e.url?i("video",{staticClass:"mx-3 video-item-replace border",attrs:{controls:"",src:e.url,alt:""}}):t._e(),t._v(" "),i("button",{staticClass:"btn btn-primary",on:{click:function(i){t.$refs.modalSelectFile.show(t.videoEdit._id,"video","video-replace"),t.itemReplaceActive=e.id}}},[t._v("\n                  "+t._s(e.url?"Đổi Video":"Chọn Video")+"\n                ")])])])}),t._v(" "),t.layoutSelected.data.voiceAudio.isAddVoice?i("div",{staticClass:"mt-2"},[i("div",{staticClass:"row-item border align-items-center p-2 px-3"},[i("div",{staticClass:"col-12 reset"},[i("div",{staticClass:"col-12"},[i("span",{staticClass:"font-weight-bold"},[t._v("Voice:")]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm mx-4",on:{click:function(e){return t.$refs.modalSelectFile.show(t.videoEdit._id,"audio","voice")}}},[t._v("\n                      Chọn Voice\n                    ")])]),t._v(" "),t.layoutSelected.data.voiceAudio.listVoice&&t.layoutSelected.data.voiceAudio.listVoice.length>0?i("div",{key:t.keyVoice,staticClass:"col-12 my-3 row container-voice"},t._l(t.layoutSelected.data.voiceAudio.listVoice,function(e,a){return i("div",{key:"listVoice_"+a,staticClass:"mx-2 item-voice"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(a+1)+".")]),t._v("\n                      "+t._s(e.text)+"\n                      "),i("i",{staticClass:"far fa-trash-alt icon-remove-voice text-right ml-2",on:{click:function(e){return t.onDeleteVoice(a)}}})])}),0):t._e()])])]):t._e(),t._v(" "),"SUBTITLE_VOICE"===t.layoutSelected.data.subtitle.type?i("div",{staticClass:"mt-2"},[i("div",{staticClass:"col-12 border align-items-center p-2 px-3"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold"},[t._v("Voice:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.layoutSelected.data.subtitle.data.voice,expression:"layoutSelected.data.subtitle.data.voice"}],staticClass:"form-control form-control-sm fs-14 mx-3",staticStyle:{flex:"0.7"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.layoutSelected.data.subtitle.data,"voice",e.target.multiple?i:i[0])}}},t._l(t.listVoice,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])}),0),t._v(" "),i("i",{staticClass:"fas fa-sliders-h icon-setting-voice p-1 mx-2",on:{click:function(e){return t.$refs.modalSettingVoice.show(t.layoutSelected.data.subtitle.data)}}})]),t._v(" "),i("div",{staticClass:"col-12 row my-2"},[i("span",{staticClass:"font-weight-bold"},[t._v("Nội Dung Subtitle:")]),t._v(" "),i("button",{staticClass:"btn btn-primary zoom-button mx-3 py-0",on:{click:function(e){return t.$refs.modalEditText.show(t.layoutSelected.data.subtitle.data.content)}}},[i("i",{staticClass:"fas fa-search-plus",staticStyle:{"font-size":"14px",flex:"1 reset"}})]),t._v(" "),i("span",{staticClass:"mx-3"},[t._v("\n                    Số kí tự:\n                    "),i("b",[t._v("\n                      "+t._s(t.formatNumber(t.layoutSelected.data&&t.layoutSelected.data.subtitle.data&&t.layoutSelected.data.subtitle.data.content?t.layoutSelected.data.subtitle.data.content.length:0))+"\n                    ")])]),t._v(" "),i("span",{staticClass:"mx-3"},[t._v("\n                    Số dòng:\n                    "),i("b",[t._v("\n                      "+t._s(t.layoutSelected.data&&t.layoutSelected.data.subtitle.data&&t.layoutSelected.data.subtitle.data.content?t.layoutSelected.data.subtitle.data.content.split("\n\n").length:0)+"\n                    ")])])]),t._v(" "),i("b-form-textarea",{attrs:{id:"textarea",placeholder:"Nhập Text Subtitle",rows:"5","max-rows":"15"},model:{value:t.layoutSelected.data.subtitle.data.content,callback:function(e){t.$set(t.layoutSelected.data.subtitle.data,"content",e)},expression:"layoutSelected.data.subtitle.data.content"}})],1)]):t._e(),t._v(" "),t.layoutSelected.data.listSlideVideo&&t.layoutSelected.data.listSlideVideo.length>0?i("div",{key:t.keySlideVideo,staticClass:"mt-3 border p-3",attrs:{name:"slideVideo"}},[i("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{name:"list-slide"}},[i("span",{staticClass:"font-weight-bold mr-2"},[t._v("Slide Video: ")]),t._v(" "),t._l(t.layoutSelected.data.listSlideVideo,function(e,a){return i("div",{key:a},[i("button",{staticClass:"btn mr-2",class:{"btn-outline-primary":!e.isActive,"btn-primary":e.isActive},on:{click:function(e){return t.onClickSlideVideo(a)}}},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))])])])})],2),t._v(" "),t.slideVideoSelected?i("div",{staticStyle:{padding:"10px"}},[i("div",[t.slideVideoSelected.isShowItems?t._e():i("button",{staticClass:"btn btn-sm btn-primary ml-2 px-2",on:{click:function(e){t.slideVideoSelected.isShowItems=!0}}},[i("i",{staticClass:"far fa-eye"})]),t._v(" "),t.slideVideoSelected.isShowItems?i("button",{staticClass:"btn btn-sm btn-primary ml-2 px-2",on:{click:function(e){t.slideVideoSelected.isShowItems=!1}}},[i("i",{staticClass:"far fa-eye-slash"})]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-sm btn-primary mx-3 px-2",on:{click:function(e){t.$refs.modalSelectFile.show(t.videoEdit._id,"image","slide-video-image",!0)}}},[t._v("\n                    Chọn Ảnh\n                  ")]),t._v(" "),i("button",{staticClass:"btn btn-sm btn-info px-2",on:{click:function(e){t.$refs.modalSelectFile.show(t.videoEdit._id,"video","slide-video-video",!0)}}},[t._v("\n                    Chọn Video\n                  ")]),t._v(" "),i("button",{staticClass:"btn btn-sm btn-success mx-3 px-2",on:{click:function(e){return t.onRandomPositionSlide(t.slideVideoSelected)}}},[t._v("\n                    Random vị trí\n                  ")]),t._v(" "),i("span",[i("span",{staticClass:"font-weight-bold"},[t._v("Tổng thời gian:")]),t._v("\n                    "+t._s(t.getTimeSlideVideo(t.slideVideoSelected))+"\n                  ")])]),t._v(" "),t.slideVideoSelected.isShowItems?i("div",[i("draggable",{on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.slideVideoSelected.listItem,callback:function(e){t.$set(t.slideVideoSelected,"listItem",e)},expression:"slideVideoSelected.listItem"}},t._l(t.slideVideoSelected.listItem,function(e,a){return i("div",{key:a},[i("div",{staticClass:"row-item align-items-center border my-2 p-1 item-slide-video"},[i("div",[i("span",{staticClass:"font-weight-bold ml-2"},[t._v(t._s(a+1))])]),t._v(" "),i("div",["image"===e.typeFile?i("div",[e.url?i("img",{staticClass:"mx-3 image-item-replace border",attrs:{src:e.url,alt:""}}):t._e()]):t._e(),t._v(" "),"video"===e.typeFile?i("div",[e.url?i("img",{staticClass:"mx-3 image-item-replace border",attrs:{src:"/static/assets/icons/video-null.png",alt:""},on:{click:function(i){return t.$refs.ModalVideo.showModal(e.url,null)}}}):t._e()]):t._e()]),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold"},[t._v("Thời gian hiển thị:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.showTime,expression:"item.showTime",modifiers:{number:!0}}],staticClass:"mx-2",staticStyle:{width:"80px"},attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.showTime},on:{input:function(i){i.target.composing||t.$set(e,"showTime",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("(s)")])]),t._v(" "),i("div",{staticClass:"align-items-center justify-content-center"},[i("i",{staticClass:"far fa-trash-alt text-right ml-2",staticStyle:{"font-size":"20px"},on:{click:function(e){return t.onDeleteItemSlideVideo(a)}}})])])])}),0)],1):t._e()]):t._e()]):t._e()],2):t._e()])])])]):t._e(),t._v(" "),i("modal-select-file",{ref:"modalSelectFile",on:{onSelectFile:t.onSelectFile}}),t._v(" "),i("ModalEditText",{ref:"modalEditText",on:{returnData:function(e){t.layoutSelected.data.subtitle.data.content=e}}}),t._v(" "),t.layoutSelected&&t.layoutSelected.data.subtitle.data?i("ModalSettingVoice",{ref:"modalSettingVoice",on:{returnData:t.reciveSettingVoice}}):t._e(),t._v(" "),i("ModalConfigNews",{ref:"modalConfigNews"}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),t.videoEdit&&t.videoEdit.data&&t.videoEdit.data.videoBackground?i("ModalEditLayout",{ref:"modalEditLayout",attrs:{videoBackground:t.videoEdit.data.videoBackground.url},on:{onFinishEditLayout:t.onFinishEditLayout}}):t._e(),t._v(" "),i("modal-video",{ref:"ModalVideo"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fhzWpZ text-center my-5"},[e("span",[this._v("Tạo video từ nhiều layout")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-3",staticStyle:{"font-size":"25px"}},[e("b",[this._v("1. THUMBNAIL")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-3",staticStyle:{"font-size":"25px"}},[e("b",[this._v("2. THÔNG TIN CHI TIẾT")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn px-5 mx-2 btn-lg btn-layout btn-warning"},[e("span",{staticStyle:{color:"#000000","font-weight":"bold"}},[e("span",[this._v("Intro")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn px-5 mx-2 btn-lg btn-layout btn-warning"},[e("span",{staticStyle:{color:"#000000","font-weight":"bold"}},[e("span",[this._v("Outro")])])])}]};var ds=i("VU/8")(ls,cs,!1,function(t){i("sriy")},"data-v-32841d84",null).exports,us={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  123\n")])},staticRenderFns:[]};var vs=i("VU/8")({},us,!1,function(t){i("OlkD")},null,null).exports,hs=i("W3Iv"),ps=i.n(hs),ms="/api/v1/admin",fs=function(t){return I.post(ms+"/create-account",t)},gs=function(t){return I.post(ms+"/delete-account",t)},_s=function(t){return I.post(ms+"/set-status-account",t)},bs=function(){return I.get(ms+"/get-accounts")},ys=function(){return I.get(ms+"/get-server")},Cs=function(){return I.get(ms+"/get-info",{timeout:18e5})},xs=function(t){return I.post(ms+"/create-server",t)},ws=function(t){return I.post(ms+"/delete-server",t)},ks=function(t){return I.post(ms+"/create-group",t)},Ss=function(t){return I.post(ms+"/update-user-role",t)},Ts=function(t){return I.post(ms+"/add-member-to-group",t)},Vs=function(t){return I.post(ms+"/delete-group",t)},Is=function(t){return I.post(ms+"/remove-user-from-group",t)},Ds=function(t){return I.post(ms+"/create-google-driver",t)},Es=function(t){return I.post(ms+"/delete-google-driver",t)},Ls=function(t){return I.post(ms+"/get-list-video-of-group",t)},As=function(t){return I.post(ms+"/upload-font",t,{timeout:36e5,headers:{"Content-Type":"multipart/form-data"}})},$s=function(t){return I.post(ms+"/delete-font",t)},Ps=function(t){return I.post(ms+"/create-transition",t,{timeout:36e5,headers:{"Content-Type":"multipart/form-data"}})},Us=function(){return I.get(ms+"/get-transitions")},Fs=function(t){return I.post(ms+"/delete-transition",t)},Os=function(t){return I.post(ms+"/update-account",t)},Ms=function(t){return I.post(ms+"/update-voice",t)},Rs=function(t){return I.post(ms+"/add-api-key-voice",t)},Ns=function(t){return I.post(ms+"/delete-api-key-voice",t)},zs=function(t){return I.post(ms+"/active-package-for-user",t)},Bs=function(t){return I.post(ms+"/add-api-key-google-cloud",t)},Hs=function(t){return I.post(ms+"/delete-api-key-google-cloud",t)},js=function(t){return I.post(ms+"/top-up-account",t)},Gs=function(t){return I.post(ms+"/get-video-by-userid",t)},Ys=(i("a6Am"),{components:{Loading:c.a},data:function(){return{isLoading:null,fontUrl:null,name:null,nameDisplay:null,fontFile:null}},mounted:function(){},methods:{reset:function(){this.isLoading=!1,this.fontUrl=null,this.name=null,this.nameDisplay=null,this.fontFile=null},show:function(){this.reset(),this.$refs.modalAddFont.show()},hide:function(){this.$refs.modalAddFont.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.fontUrl&&t.nameDisplay&&t.fontFile){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return(i=new FormData).append("name",t.name),i.append("fontUrl",t.fontUrl),i.append("nameDisplay",t.nameDisplay),i.append("fontFile",t.fontFile),t.fontFile.map(function(t){i.append("font",t)}),t.isLoading=!0,e.next=13,As(i);case 13:(a=e.sent)&&200===a.status&&(s=a.data.allFont,t.$store.dispatch("updateListFont",s),t.$emit("reload"),t.$notify({type:"success",title:"Thêm Font Thành Công"}),t.hide()),t.isLoading=!1,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 21:case"end":return e.stop()}},e,t,[[0,18]])}))()}}}),Ks={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddFont",attrs:{id:"modalAddFont","hide-footer":"",title:"Thêm Font",size:"md","no-close-on-esc":"","no-close-on-backdrop":""}},[i("b-form-group",{attrs:{label:"File Front:","label-class":"font-weight-bold"}},[i("b-form-file",{staticStyle:{overflow:"hidden"},attrs:{multiple:"",state:Boolean(t.fontFile),placeholder:"Chọn file hoặc kéo thả vào đây...","drop-placeholder":"Kéo thả file..."},model:{value:t.fontFile,callback:function(e){t.fontFile=e},expression:"fontFile"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Link Font:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"fontUrl",placeholder:"Ví dụ: https://fonts.googleapis.com/css2?family=Nerko+One&display=swap"},model:{value:t.fontUrl,callback:function(e){t.fontUrl=e},expression:"fontUrl"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tên Font","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"name",placeholder:"Tên Font"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tên Hiển Thị","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"name",placeholder:"Tên Server"},model:{value:t.nameDisplay,callback:function(e){t.nameDisplay=e},expression:"nameDisplay"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Font")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Ws={components:{ModalAddFont:i("VU/8")(Ys,Ks,!1,function(t){i("i7QU")},null,null).exports},data:function(){return{showFont:null,listFont:this.$store.state.data.listFont}},methods:{reload:function(){this.listFont=this.$store.state.data.listFont},deleteFont:function(t,e,i){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a.$swal.fire({title:"Xóa Font?",html:"Bạn muốn xóa font <b>"+i+"</b>!",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xác nhận!",reverseButtons:!0}).then(function(){var i=r()(n.a.mark(function i(s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s.value){i.next=5;break}return i.next=3,$s({id:t});case 3:200==i.sent.status&&(a.listFont.splice(e,1),a.$swal.fire({type:"success",title:"Xóa Thành Công.",showConfirmButton:!1,timer:1e3}));case 5:case"end":return i.stop()}},i,a)}));return function(t){return i.apply(this,arguments)}}());case 1:case"end":return s.stop()}},s,a)}))()}}},qs={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-12 col-lg-12"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header justify-content-between"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:function(e){return t.$refs.modalAddFont.show()}}},[t._v("\n              Tải thêm Font\n            ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listFont,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-4"},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"col-4"},[t._v(t._s(e.nameDisplay))]),t._v(" "),i("td",{staticClass:"col-3"},[i("b-button",{attrs:{variant:"danger",size:"md"},on:{click:function(i){return t.deleteFont(e._id,a,e.display)}}},[t._v("Xóa")])],1)])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n          Tổng số Font: "+t._s(t.listFont?t.listFont.length:0)+"\n        ")])])])]),t._v(" "),i("ModalAddFont",{ref:"modalAddFont",on:{reload:t.reload}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"m-0 font-weight-bold "},[this._v("Quản lý Font")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",{staticClass:"thead-light"},[e("tr",{staticClass:"col-12 row reset"},[e("th",{staticClass:"col-1"},[this._v("#")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Tên Font")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Tên Hiển Thị")]),this._v(" "),e("th",{staticClass:"col-3"},[this._v("Hành động")])])])])}]};var Xs=i("VU/8")(Ws,qs,!1,function(t){i("dSfq")},"data-v-2ca2073c",null).exports,Js={components:{Loading:c.a},data:function(){return{name:null,username:null,password:null,isLoading:!1,isEdit:!1,AccountEdit:null}},methods:{reset:function(){this.isLoading=!1,this.isEdit=!1,this.AccountEdit=null,this.name=null,this.username=null,this.password=null},show:function(t){this.reset(),t&&(this.AccountEdit=t),this.$refs.modalAddAccount.show()},hide:function(){this.$refs.modalAddAccount.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.username&&t.password){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return t.isLoading=!0,e.next=7,fs({name:t.name,username:t.username,password:t.password});case 7:(i=e.sent)&&200===i.status&&(t.$notify({type:"success",title:"Thêm Tài Khoản Thành Công"}),t.$emit("reload"),t.hide()),t.isLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}}},Qs={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddAccount",attrs:{id:"addChannel","hide-footer":"",title:"Thêm Tài Khoản",size:"md"}},[i("b-form-group",{attrs:{label:"Tên:","label-class":"font-weight-bold","label-for":"name"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"name",placeholder:"Tên người dùng"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tên Đăng nhập:","label-class":"font-weight-bold","label-for":"username"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"username",placeholder:"Tên đăng nhập"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Mật khẩu:","label-class":"font-weight-bold","label-for":"password"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"password",placeholder:"Mật khẩu"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[t.isEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu Tài Khoản")]):i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Tài Khoản")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Zs=i("VU/8")(Js,Qs,!1,function(t){i("/GFX")},null,null).exports,tn={components:{Loading:c.a},data:function(){return{amountPayment:0,listPackageOptions:[],isLoading:!1,isEdit:!1,AccountEdit:{name:null,username:null,password:null,type:null},expiryDate:null,countDayExpiry:null,optionsCountDayExpiry:[{value:null,text:"Chọn số ngày sử dụng"},{value:7,text:"7 Ngày"},{value:30,text:"1 Tháng"},{value:60,text:"2 Tháng"},{value:90,text:"3 Tháng"},{value:180,text:"6 Tháng"},{value:365,text:"1 Năm"}],optionsTypeAccount:[{value:null,text:"Chọn loại account"},{value:"TEAM_MEMBER",text:"Thành viên của Team. Sử dụng Full chức năng.!"},{value:"CUSTOMER",text:"Khách hàng. Phải mua.!"}],packageActiveSelected:null}},methods:{confirmTopUpAccount:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.amountPayment){e.next=4;break}return t.$notify({type:"warn",title:"Chưa nhập số tiền"}),e.abrupt("return");case 4:return i=parseInt(t.amountPayment).toLocaleString("it-IT"),console.log(i),e.next=8,t.$swal({type:"warning",title:"Người dùng đã chuyển khoản "+i+" ?",text:"Gói cước sẽ được thêm vào lịch sử thanh toán.!",showCancelButton:!0});case 8:if(!e.sent.value){e.next=15;break}return a={userId:t.AccountEdit._id,amount:t.amountPayment},e.next=13,js(a);case 13:(s=e.sent)&&200===s.status&&(t.$emit("reload"),t.hide(),t.$notify({type:"success",title:"Nạp Tiền Thành Công.!"}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 20:case"end":return e.stop()}},e,t,[[0,17]])}))()},confirmActiveAccount:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.packageActiveSelected){e.next=4;break}return t.$notify({type:"warn",title:"Chưa chọn gói cước"}),e.abrupt("return");case 4:return e.next=6,t.$swal({type:"warning",title:"Người dùng đã chuyển khoản.?",text:"Gói cước sẽ được thêm vào lịch sử thanh toán.!",showCancelButton:!0});case 6:if(!e.sent.value){e.next=13;break}return i={userId:t.AccountEdit._id,packageType:t.packageActiveSelected},e.next=11,zs(i);case 11:(a=e.sent)&&200===a.status&&(t.$emit("reload"),t.hide(),t.$notify({type:"success",title:"Kích hoạt gói cước thành công.!"}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()},reset:function(){this.isLoading=!1,this.isEdit=!1,this.amountPayment=0,this.AccountEdit={name:null,username:null,password:null,type:null}},show:function(t){this.reset(),t&&(this.AccountEdit=m()({},this.AccountEdit,t)),this.$refs.modalEditAccount.show()},hide:function(){this.$refs.modalEditAccount.hide()},setStatusAccount:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i.isLoading=!0,a.next=4,_s({userId:t,status:e});case 4:(s=a.sent)&&200===s.status&&(i.$notify({type:"success",title:"Update Tài Khoản Thành Công"}),i.$emit("reload"),i.hide()),i.isLoading=!1,a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},a,i,[[0,9]])}))()},onSave:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.AccountEdit.name&&t.AccountEdit.username&&t.AccountEdit.password&&t.AccountEdit.type){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return t.isLoading=!0,e.next=7,Os(t.AccountEdit);case 7:(i=e.sent)&&200===i.status&&(t.$notify({type:"success",title:"Update Tài Khoản Thành Công"}),t.$emit("reload"),t.hide()),t.isLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},getPackageBuy:function(t){return t?Z.LIST_PACKKAGE_PRICE.find(function(e){return e.type===t}).title:""}},mounted:function(){this.listPackageOptions=Z.LIST_PACKKAGE_PRICE.map(function(t){return{value:t.type,text:t.title}}),this.listPackageOptions.unshift({value:null,text:"-------- Chọn gói --------"})}},en={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalEditAccount",attrs:{id:"addChannel","hide-footer":"",title:"Edit Account","title-class":"text-center",size:"md"}},[i("b-form-group",{attrs:{label:"Tên:","label-class":"font-weight-bold","label-for":"name"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"name",placeholder:"Tên người dùng"},model:{value:t.AccountEdit.name,callback:function(e){t.$set(t.AccountEdit,"name",e)},expression:"AccountEdit.name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tên Đăng nhập:","label-class":"font-weight-bold","label-for":"username"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"username",placeholder:"Tên đăng nhập"},model:{value:t.AccountEdit.username,callback:function(e){t.$set(t.AccountEdit,"username",e)},expression:"AccountEdit.username"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Mật khẩu:","label-class":"font-weight-bold","label-for":"password"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"password",placeholder:"Mật khẩu"},model:{value:t.AccountEdit.password,callback:function(e){t.$set(t.AccountEdit,"password",e)},expression:"AccountEdit.password"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Số dư tài khoản:","label-class":"font-weight-bold","label-for":"password"}},[i("b-form-input",{staticClass:"font-weight-bold",attrs:{size:"sm",type:"text",id:"amount",disabled:"",value:t.AccountEdit&&t.AccountEdit.amount?t.AccountEdit.amount.toLocaleString("it-IT"):0,placeholder:"Mật khẩu"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Loại Account:","label-class":"font-weight-bold","label-for":"typeAccount"}},[i("b-form-select",{attrs:{options:t.optionsTypeAccount,size:"sm"},model:{value:t.AccountEdit.type,callback:function(e){t.$set(t.AccountEdit,"type",e)},expression:"AccountEdit.type"}})],1),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold"},[t._v("Gói đang sử dụng:")]),t._v(" "),i("span",{staticClass:"font-weight-bold fs-lg ml-3 text-danger"},[t._v(t._s(t.getPackageBuy(t.AccountEdit.packageType)))])]),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold"},[t._v("Số video render/ ngày:")]),t._v(" "),i("span",{staticClass:"font-weight-bold fs-lg ml-3 text-danger"},[t._v(t._s(t.AccountEdit.countVideoRenderOnDay))])]),t._v(" "),i("div",[i("span",{staticClass:"font-weight-bold"},[t._v("Số kí tự còn lại:")]),t._v(" "),i("span",{staticClass:"font-weight-bold fs-lg ml-3 text-danger"},[t._v(t._s(t.AccountEdit&&t.AccountEdit.countCharacterText2Voice?t.AccountEdit.countCharacterText2Voice.toLocaleString("it-IT"):0))])]),t._v(" "),i("b-form-group",{attrs:{label:"Kích hoạt thêm gói cước:","label-class":"font-weight-bold mt-3","label-for":"activePackageBuy"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-select",{staticClass:"form-control mr-3 fs-lg font-weight-bold",staticStyle:{flex:"1"},attrs:{options:t.listPackageOptions,size:"sm"},model:{value:t.packageActiveSelected,callback:function(e){t.packageActiveSelected=e},expression:"packageActiveSelected"}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.confirmActiveAccount}},[t._v("\n        Xác Nhận\n      ")])],1)]),t._v(" "),i("b-form-group",{attrs:{label:"Nạp Tiền: "+(t.amountPayment&&t.amountPayment?parseInt(t.amountPayment).toLocaleString("it-IT"):0),"label-class":"font-weight-bold mt-3 text-danger fs-lg","label-for":"activePackageBuy"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-input",{staticClass:" mr-3 fs-lg font-weight-bold",staticStyle:{flex:"1"},attrs:{size:"sm",type:"number",id:"amountPayment",placeholder:"Nhập số tiền"},model:{value:t.amountPayment,callback:function(e){t.amountPayment=e},expression:"amountPayment"}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.confirmTopUpAccount}},[t._v("\n        Xác Nhận\n      ")])],1)]),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{staticClass:"px-5",attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu")]),t._v(" "),t.AccountEdit&&"admin"!==t.AccountEdit.type&&"LOCKED"!==t.AccountEdit.status?i("b-button",{staticClass:"mx-2 px-4",attrs:{variant:"danger"},on:{click:function(e){return t.setStatusAccount(t.AccountEdit._id,"LOCKED")}}},[t._v("Khóa")]):t._e(),t._v(" "),t.AccountEdit&&"admin"!==t.AccountEdit.type&&"LOCKED"===t.AccountEdit.status?i("b-button",{staticClass:"mx-2",attrs:{variant:"warning"},on:{click:function(e){return t.setStatusAccount(t.AccountEdit._id,"LIVE")}}},[t._v("Mở Khóa")]):t._e()],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var an=i("VU/8")(tn,en,!1,function(t){i("AwKN")},null,null).exports,sn={data:function(){return{listVideo:[]}},components:{ModalVideo:La},props:["allChannelOfUser","listChannel"],methods:{show:function(){this.$refs.modalStatisticVideo.show()},getChannelUploadByIdVideo:function(t){try{var e=this.listChannel.find(function(e){return e._id===t});return e?e.name:""}catch(t){}return""},onView:function(t){this.$refs.modalVideo.showModal(t.videoSuccess,t)}}},nn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{ref:"modalStatisticVideo",attrs:{size:"xl",title:"Danh sách Video","ok-only":"",scrollable:""}},[i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Tên")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Loại")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Kênh Upload")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Trạng thái")]),t._v(" "),i("th",{staticStyle:{width:"180px"},attrs:{scope:"col"}},[t._v("Ngày tạo")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Hành động")])])]),t._v(" "),i("tbody",t._l(t.listVideo,function(e,a){return i("tr",{key:a,attrs:{id:e._id}},[i("td",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.type))]),t._v(" "),i("td",[t._v("\n            "+t._s(e.idChannel?t.getChannelUploadByIdVideo(e.idChannel):"")+"\n          ")]),t._v(" "),i("td",[t._v(t._s(e.status))]),t._v(" "),i("td",[t._v(t._s(t.$moment(e.created).format("HH:mm - MM/DD/YYYY")))]),t._v(" "),i("td",[i("button",{staticClass:"btn btn-success btn-sm",attrs:{disabled:"DELETED"===e.status},on:{click:function(i){return t.onView(e)}}},[t._v("\n              View\n            ")])])])}),0)])]),t._v(" "),i("ModalVideo",{ref:"modalVideo"})],1)},staticRenderFns:[]};var on=i("VU/8")(sn,nn,!1,function(t){i("fzfG")},null,null).exports,rn={data:function(){return{keyTable:0,statisticTime:"today",isLoading:!1}},props:["listUser","allVideo","listChannel"],components:{ModalAddNewAccount:Zs,ModalStatisticVideo:on,Loading:c.a,ModalEditAccount:an},methods:{getTotalAmountOfUser:function(){var t=0;return this.listUser?(this.listUser.map(function(e){e.amount&&(t+=e.amount)}),t.toLocaleString("it-IT")):t.toLocaleString("it-IT")},getPackageTitle:function(t){for(var e=t.packageType,i=Z.LIST_PACKKAGE_PRICE,a=0;a<i.length;a++){var s=i[a];if(s.type===e){var n=this.$moment(t.packageDateExpiry).format("DD-MM-YYYY");return"Gói "+s.title+"-"+n}}},setStatusAccount:function(t,e){var i=this;return r()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i.isLoading=!0,a.prev=1,s={userId:t,status:e},a.next=5,_s(s);case 5:if(!(o=a.sent)||200!==o.status){a.next=14;break}if(!o.data.isLocked){a.next=13;break}return a.next=10,i.$emit("getAccounts");case 10:i.$notify({title:"Thành Công.!",type:"success"}),a.next=14;break;case 13:i.$notify({title:"Lỗi: Không tìm thấy Tài Khoản.!",type:"error"});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 19:i.isLoading=!1;case 20:case"end":return a.stop()}},a,i,[[1,16]])}))()},onStatistic:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,Gs({userId:t._id});case 4:a=i.sent,e.$refs.statistic.listVideo=a.data.listVideo,e.$refs.statistic.show(),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),e.$notify({title:"Lỗi "+i.t0.message,type:"error"});case 12:e.isLoading=!1;case 13:case"end":return i.stop()}},i,e,[[1,9]])}))()},statisticTimeUser:function(t){var e=event.target.value;this.filterVideo([t],e),this.keyTable++},filterVideo:function(t,e,i){for(var a=this,s=function(i){var s=t[i];s.statistic=e;var n=a.allVideo.filter(function(t){return t.idUser==s._id});switch(e){case"today":n=n.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),s.videos=n;break;case"this-week":var o=new Date,r=o.getDate()-o.getDay(),l=new Date(o.setDate(r)).setHours(0,0,0,0);n=n.filter(function(t){if(Date.parse(t.created.valueOf())>l)return t}),s.videos=n;break;case"this-month":n=n.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()}),s.videos=n;break;case"last-month":n=n.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()-1}),s.videos=n;break;default:s.videos=n}},n=0;n<t.length;n++)s(n)},deleteAccount:function(t,e){var i=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.$swal.fire({title:"Xóa Tài Khoản.?",html:"Bạn chắc chắn muốn xóa tài khoản <b>"+t.username+"</b>",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0});case 2:if(!a.sent.value){a.next=16;break}return i.isLoading=!0,a.prev=5,a.next=8,gs({id:t._id});case 8:200==a.sent.status&&i.listUser.splice(e,1),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),console.log(" ### deleteAccount: ",a.t0);case 15:i.isLoading=!1;case 16:case"end":return a.stop()}},a,i,[[5,12]])}))()}},watch:{statisticTime:function(){this.filterVideo(this.listUser,this.statisticTime,this.allVideo)}}},ln={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card shadow"},[i("div",{staticClass:"card-header align-items-center justify-content-center"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$refs.modalAddNewAccount.show()}}},[t._v("\n          Thêm Tài Khoản\n        ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{key:t.keyTable,staticClass:"p-2",staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[i("table",{staticClass:"table"},[i("tbody",[t._l(t.listUser,function(e,a){return i("tr",{key:a,staticClass:"row col-12 reset",attrs:{id:e._id}},[i("th",{staticClass:"col-1 px-0 text-center"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[t._v(t._s(e.username))]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[t._v(t._s(e.password))]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[t._v(t._s(e.type))]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[i("span",{staticClass:"font-weight-bold",style:"padding: 5px 18px; border-radius: 5px;background-color: "+("LIVE"===e.status?"#27fc27":"#ff5050")},[t._v(t._s(e.status))])]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[t._v("\n              "+t._s(t.getPackageTitle(e))+"\n            ")]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.amount?e.amount.toLocaleString("it-IT"):0))])]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.totalAmount?e.totalAmount.toLocaleString("it-IT"):0))])]),t._v(" "),i("td",{staticClass:"col-1 px-0"},[i("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(i){return t.onStatistic(e)}}},[t._v("Chi tiết")]),t._v(" "),i("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(i){return t.$refs.modalEditAccount.show(e)}}},[t._v("Sửa")])],1)])}),t._v(" "),i("modal-statistic-video",{ref:"statistic",attrs:{listChannel:t.listChannel}})],2)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n      Tổng số tài khoản:\n      "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.listUser?t.listUser.length:0))])]),t._v(" "),i("div",[i("span",{staticStyle:{"margin-left":"20px"}},[t._v("\n        - Số tài khoản mua gói cước:\n        "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.listUser?t.listUser.filter(function(t){return t.packageType}).length:0)+"\n        ")])]),t._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("\n        - Tổng số tiền của user:\n        "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.getTotalAmountOfUser())+" ")])])])]),t._v(" "),i("ModalAddNewAccount",{ref:"modalAddNewAccount",on:{reload:function(e){return t.$emit("getAccounts")}}}),t._v(" "),i("ModalEditAccount",{ref:"modalEditAccount",on:{reload:function(e){return t.$emit("getAccounts")}}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"font-weight-bold"},[this._v("Quản lý Tài Khoản")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",{staticClass:"row col-12 reset"},[i("th",{staticClass:"col-1 px-0 text-center"},[t._v("#")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("Tên")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Tài khoản")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Mật khẩu")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Loại")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Tình Trạng")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("Gói cước")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Số dư")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Tổng tiền nạp")]),t._v(" "),i("th",{staticClass:"col-1 px-0"},[t._v("Hành động")])])])])}]};var cn=i("VU/8")(rn,ln,!1,function(t){i("lKlJ")},null,null).exports,dn={data:function(){return{idGroup:null,listUserNoGroup:[],isLoading:!1}},components:{Loading:c.a},methods:{handleOk:function(t){var e=this;return r()(n.a.mark(function t(){var i,a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,i=e.listUserNoGroup.filter(function(t){return t.isCheck}),a={users:i,idGroup:e.idGroup},t.next=6,Ts(a);case 6:200==(s=t.sent).status&&(e.$notify({title:"Thành Công.!",type:"success"}),e.$emit("listAddedUser",s.data.listUser)),e.isLoading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.$notify({title:"Lỗi: "+t.t0,type:"error"});case 14:case"end":return t.stop()}},t,e,[[0,11]])}))()}}},un={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{size:"xl",id:"modal-add-member",title:"Add Member to Group"},on:{ok:t.handleOk}},[i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Username")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Action")])])]),t._v(" "),i("tbody",t._l(t.listUserNoGroup,function(e,a){return i("tr",{key:a},[i("th",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.username))]),t._v(" "),i("td",[t._v(t._s(e.type))]),t._v(" "),i("td",[i("label",{staticClass:"input-group-text font-weight-bold"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheck,expression:"user.isCheck"}],staticClass:"mr-2",attrs:{id:"checkboxVolume",type:"checkbox","aria-label":"Checkbox for following text input"},domProps:{checked:Array.isArray(e.isCheck)?t._i(e.isCheck,null)>-1:e.isCheck},on:{change:function(i){var a=e.isCheck,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(e,"isCheck",a.concat([null])):o>-1&&t.$set(e,"isCheck",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"isCheck",n)}}}),t._v("Add\n          ")])])])}),0)]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var vn=i("VU/8")(dn,un,!1,function(t){i("gcGy")},null,null).exports,hn={data:function(){return{users:[],modalUser:0,statisticTime:"today",keyTable:0,isLoading:!1}},props:["listChannel"],components:{ModalStatisticVideo:on,Loading:c.a},methods:{onStatistic:function(t){this.$refs.statistic.listVideo=t},onChangeInput:function(t,e){var i=this;return r()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i.isLoading=!0,a.prev=1,a.next=4,Ss(m()({},t,{videos:null,showVideos:null}));case 4:s=a.sent,o=s.data.user,200==s.status&&(i.users[e]=m()({},t,o),i.$emit("users",i.users)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i.$notify({title:"Lỗi: "+a.t0,type:"error"});case 12:i.isLoading=!1;case 13:case"end":return a.stop()}},a,i,[[1,9]])}))()},removeUserFromGroup:function(t,e){var i=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i.$swal.fire({title:"Xóa Thành Viên",html:"Xóa thành viên <b>"+t.name+"</b> khỏi nhóm.?",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0}).then(function(){var a=r()(n.a.mark(function a(s){var o,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.value){a.next=13;break}return i.isLoading=!0,a.prev=2,a.next=5,Is(t);case 5:200==(o=a.sent).status&&(i.$notify({title:"Thành Công.!",type:"success"}),i.users.splice(e,1),r=o.data._doc,i.$emit("users",[r])),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),i.$notify({title:"Lỗi: "+a.t0,type:"error"});case 12:i.isLoading=!1;case 13:case"end":return a.stop()}},a,i,[[2,9]])}));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}},a,i)}))()},showModal:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.map(function(t){return m()({},t,{videos:null,showVideos:null})}),i.next=3,Ls(a);case 3:s=i.sent,e.users=s.data.users,e.users=e.users.map(function(t){return t.showVideos=t.videos.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),t.statistic="today",t});case 6:case"end":return i.stop()}},i,e)}))()},statisticUser:function(t){var e=event.target.value;this.filterVideo([t],e),this.keyTable++},filterVideo:function(t,e){for(var i=0;i<t.length;i++){var a=t[i];a.statistic=e;var s=a.videos,n=[];!function(){switch(e){case"today":n=s.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),a.showVideos=n;break;case"this-week":var t=new Date,i=t.getDate()-t.getDay(),o=new Date(t.setDate(i)).setHours(0,0,0,0);n=s.filter(function(t){if(Date.parse(t.created.valueOf())>o)return t}),a.showVideos=n;break;case"this-month":n=s.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()}),a.showVideos=n;break;case"last-month":n=s.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()-1}),a.showVideos=n;break;default:a.showVideos=s}}()}}},watch:{statisticTime:function(){this.filterVideo(this.users,this.statisticTime)}}},pn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{attrs:{size:"xl",id:"modal-list-user",title:"List Member","ok-only":""}},[i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Tên")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Tài Khoản")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("\n            Video hoàn thành\n            "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.statisticTime,expression:"statisticTime"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.statisticTime=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"today"}},[t._v("Today")]),t._v(" "),i("option",{attrs:{value:"this-week"}},[t._v("This week")]),t._v(" "),i("option",{attrs:{value:"this-month"}},[t._v("This month")]),t._v(" "),i("option",{attrs:{value:"last-month"}},[t._v("Last month")]),t._v(" "),i("option",{attrs:{value:"all"}},[t._v("---All---")])])]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Người quản lý")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Hành động")])])]),t._v(" "),i("tbody",{key:t.keyTable},[t._l(t.users,function(e,a){return i("tr",{key:a},[i("th",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),i("td",[t._v(t._s(e.username))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v("\n            "+t._s(e.showVideos?e.showVideos.length:0)+"\n            "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.statistic,expression:"user.statistic"}],on:{change:[function(i){var a=Array.prototype.filter.call(i.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"statistic",i.target.multiple?a:a[0])},function(i){return t.statisticUser(e)}]}},[i("option",{attrs:{value:"today"}},[t._v("Today")]),t._v(" "),i("option",{attrs:{value:"this-week"}},[t._v("This week")]),t._v(" "),i("option",{attrs:{value:"this-month"}},[t._v("This month")]),t._v(" "),i("option",{attrs:{value:"last-month"}},[t._v("Last month")]),t._v(" "),i("option",{attrs:{value:"all"}},[t._v("---All---")])])]),t._v(" "),i("td",[i("label",{staticClass:"switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isLeader,expression:"user.isLeader"}],attrs:{type:"checkbox",id:e._id},domProps:{checked:e.isLeader,checked:Array.isArray(e.isLeader)?t._i(e.isLeader,null)>-1:e.isLeader},on:{change:[function(i){var a=e.isLeader,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(e,"isLeader",a.concat([null])):o>-1&&t.$set(e,"isLeader",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"isLeader",n)},function(i){return t.onChangeInput(e,a)}]}}),t._v(" "),i("span",{staticClass:"slider round"})])]),t._v(" "),i("td",[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-statistic-video",modifiers:{"modal-statistic-video":!0}}],attrs:{size:"sm",variant:"success"},on:{click:function(i){return t.onStatistic(e.showVideos)}}},[t._v("Chi tiết")]),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(i){return t.removeUserFromGroup(e,a)}}},[t._v("\n              Xóa khỏi nhóm\n            ")])],1)])}),t._v(" "),i("modal-statistic-video",{ref:"statistic",attrs:{listChannel:t.listChannel}})],2)])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var mn={data:function(){return{nameGroup:null,isLoading:!1}},components:{ModalAddMember:vn,ModalListUser:i("VU/8")(hn,pn,!1,function(t){i("WWay")},null,null).exports,Loading:c.a},props:["listGroup","listUser","listChannel"],methods:{createGroup:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,ks({name:t.nameGroup});case 4:200==(i=e.sent).status&&(a=i.data.group,t.listGroup.push(a),t.$refs.modalAddGroup.hide(),t.nameGroup=null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},selectedGroup:function(t){var e=this;this.idGroup=t;var i=this.listUser.filter(function(t){return t.idGroup==e.idGroup});i.map(function(t){return t.isLeader="leader"==t.type,t}),this.$refs.userofgroup.showModal(i)},addMember:function(t){this.$refs.addmember.idGroup=t;var e=this.listUser.filter(function(t){return!t.idGroup});this.$refs.addmember.listUserNoGroup=e},deleteGroup:function(t,e){var i=this;return r()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.$swal.fire({title:"Xóa nhóm.?",html:"Bạn chắc chắn muốn xóa nhóm <b>"+t.name+"</b>",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0});case 2:if(!a.sent.value){a.next=15;break}return i.isLoading=!0,a.prev=5,a.next=8,Vs({id:t._id});case 8:200==(s=a.sent).status&&(i.listGroup.splice(e,1),o=s.data.listUserOfGroup,i.$emit("updatelistUser",o)),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(5);case 14:i.isLoading=!1;case 15:case"end":return a.stop()}},a,i,[[5,12]])}))()}}},fn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[i("h5",{staticClass:"m-0 font-weight-bold "},[t._v("\n      Nhóm Tài Khoản\n    ")]),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalAddGroup",modifiers:{modalAddGroup:!0}}],staticClass:"btn btn-primary btn-sm"},[t._v("\n        Thêm nhóm\n      ")])])]),t._v(" "),i("div",{staticClass:"text-left"},[t._m(0),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[i("table",{staticClass:"table"},[i("tbody",[t._l(t.listGroup,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-4"},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"col-3"},[t._v("\n              "+t._s(t.listUser.filter(function(t){return t.idGroup==e._id}).length)+"\n            ")]),t._v(" "),i("td",{staticClass:"col-4"},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-list-user",modifiers:{"modal-list-user":!0}}],attrs:{size:"sm",variant:"success"},on:{click:function(i){return t.selectedGroup(e._id)}}},[t._v("D/s thành viên")]),t._v(" "),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-member",modifiers:{"modal-add-member":!0}}],attrs:{size:"sm",variant:"primary"},on:{click:function(i){return t.addMember(e._id)}}},[t._v("Thêm thành viên")]),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(i){return t.deleteGroup(e,a)}}},[t._v("\n                Xóa nhóm\n              ")])],1)])}),t._v(" "),i("modal-add-member",{ref:"addmember",on:{listAddedUser:function(e){return t.$emit("updatelistUser",e)}}})],2)]),t._v(" "),i("modal-list-user",{ref:"userofgroup",attrs:{listChannel:t.listChannel},on:{users:function(e){return t.$emit("updatelistUser",e)}}})],1)]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n      Tổng số nhóm: "+t._s(t.listGroup?t.listGroup.length:0)+"\n    ")])]),t._v(" "),i("b-modal",{ref:"modalAddGroup",attrs:{id:"modalAddGroup","hide-footer":"",title:"Thêm nhóm",size:"md"}},[i("b-form-group",{attrs:{label:"Tên nhóm:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"nameGroup",placeholder:"Nhập Tên Nhóm"},model:{value:t.nameGroup,callback:function(e){t.nameGroup=e},expression:"nameGroup"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.createGroup()}}},[t._v("Thêm Nhóm")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",{staticClass:"thead-light"},[e("tr",{staticClass:"col-12 row reset"},[e("th",{staticClass:"col-1"},[this._v("STT")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Name")]),this._v(" "),e("th",{staticClass:"col-3"},[this._v("Total member")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Action")])])])])}]};var gn=i("VU/8")(mn,fn,!1,function(t){i("OwXO")},null,null).exports,_n={components:{Loading:c.a},data:function(){return{name:null,ipServer:null,isLoading:null,domain:null,osServer:null}},methods:{reset:function(){this.isLoading=!1,this.name=null,this.ipServer=null,this.domain=null,this.osServer=null},show:function(){this.reset(),this.$refs.modalAddServer.show()},hide:function(){this.$refs.modalAddServer.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.ipServer&&t.domain&&t.osServer){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return t.isLoading=!0,e.next=7,xs({name:t.name,ipServer:t.ipServer,domain:t.domain,os:t.osServer});case 7:(i=e.sent)&&200===i.status&&(t.$notify({type:"success",title:"Thêm Server Thành Công"}),t.$emit("reload"),t.hide()),t.isLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}}},bn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddServer",attrs:{id:"modalAddServer","hide-footer":"",title:"Thêm Server",size:"md"}},[i("b-form-group",{attrs:{label:"Domain:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"domain",placeholder:"VD: http://ntbhmedia.com/"},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ip Server:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"ipServer",placeholder:"VD: http://192.168.120.130:3000/"},model:{value:t.ipServer,callback:function(e){t.ipServer=e},expression:"ipServer"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Tên Server:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"name",placeholder:"Tên Server"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Os:","label-class":"font-weight-bold"}},[i("b-form-select",{attrs:{id:"typeApiKey"},model:{value:t.osServer,callback:function(e){t.osServer=e},expression:"osServer"}},[i("option",{domProps:{value:null}},[t._v(" --- Chọn Os - Hệ điều hành ---")]),t._v(" "),i("option",{domProps:{value:"ubuntu"}},[t._v(" Ubuntu")]),t._v(" "),i("option",{domProps:{value:"windows"}},[t._v(" Windows")])])],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Server")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var yn={data:function(){return{}},components:{ModalAddServer:i("VU/8")(_n,bn,!1,function(t){i("un/l")},null,null).exports},props:["listServer"],methods:{deleteServer:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a=e,e.$swal.fire({title:"Xóa Server",html:"Bạn muốn xóa Server: <b>"+t.name+"</b>",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0}).then(function(){var i=r()(n.a.mark(function i(s){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!s.value){e.next=5;break}return e.next=3,ws(t);case 3:e.sent,a.$emit("reload");case 5:case"end":return e.stop()}},i,e)}));return function(t){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}},i,e)}))()}}},Cn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[i("h5",{staticClass:"m-0 font-weight-bold "},[t._v("\n      Quản lý Server\n    ")]),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$refs.modalAddServer.show()}}},[t._v("\n        Thêm server\n      ")])])]),t._v(" "),i("div",{},[t._m(0),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listServer,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-3"},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"col-3"},[t._v(t._s(e.domain))]),t._v(" "),i("td",{staticClass:"col-3"},[t._v(t._s(e.ipServer))]),t._v(" "),i("td",{staticClass:"col-2"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button btn-sm"},on:{click:function(i){return t.deleteServer(e)}}},[t._v("\n                Xóa\n              ")])])])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n      Tổng số Server: "+t._s(t.listServer?t.listServer.length:0)+"\n    ")])]),t._v(" "),i("ModalAddServer",{ref:"modalAddServer",on:{reload:function(e){return t.$emit("reload")}}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",{staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v("#")]),t._v(" "),i("th",{staticClass:"col-3"},[t._v("Tên")]),t._v(" "),i("th",{staticClass:"col-3"},[t._v("Domain")]),t._v(" "),i("th",{staticClass:"col-3"},[t._v("IP")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Hành động")])])])])}]};var xn=i("VU/8")(yn,Cn,!1,function(t){i("uK5D")},null,null).exports,wn={components:{Loading:c.a,ModalInputFile:le},data:function(){return{name:null,isLoading:null,videoPreview:null,videoIn:null,videoOut:null,color:"#17ff0a"}},methods:{reset:function(){this.isLoading=!1,this.name=null,this.ipServer=null,this.videoPreview=null,this.videoIn=null,this.videoOut=null,this.color="#17ff0a"},show:function(){this.reset(),this.$refs.modalAddServer.show()},hide:function(){this.$refs.modalAddServer.hide()},uploadVideoOut:function(t){t.isLoading||(this.videoOut={name:t.name,file:t.file,duration:t.duration.value}),this.isLoading=t.isLoading},uploadVideoIn:function(t){t.isLoading||(this.videoIn={name:t.name,file:t.file,duration:t.duration.value}),this.isLoading=t.isLoading},uploadVideoPreview:function(t){t.isLoading||(this.videoPreview={name:t.name,file:t.file,duration:t.duration.value}),this.isLoading=t.isLoading},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.videoPreview&&!(!t.videoIn|!t.videoOut)&&t.color){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return(i=new FormData).append("videoPreview",t.videoPreview.file),i.append("videoIn",t.videoIn.file),i.append("videoOut",t.videoOut.file),a={name:t.name,color:t.color,videoPreview:m()({},t.videoPreview,{file:null}),videoIn:m()({},t.videoIn,{file:null}),videoOut:m()({},t.videoOut,{file:null})},i.append("data",Dt()(a)),t.isLoading=!0,e.next=13,Ps(i);case 13:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Thêm Server Thành Công"}),t.$emit("getlistTransition"),t.hide()),t.isLoading=!1,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 21:case"end":return e.stop()}},e,t,[[0,18]])}))()}}},kn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddServer",attrs:{id:"modalAddServer","hide-footer":"",title:"Thêm Transition",size:"md"}},[i("b-form-group",{attrs:{label:"Tên:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"transition-name",placeholder:"VD: Transition 1"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Video preview:","label-class":"font-weight-bold"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-input",{staticStyle:{flex:"1"},attrs:{size:"sm",type:"text",id:"transition-preview",value:t.videoPreview&&t.videoPreview.name,placeholder:"Tải lên video preview",readonly:""}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm mx-2",on:{click:function(e){return t.$refs.modalInputVideoPreview.showModal()}}},[t._v("\n        Tải lên\n      ")])],1)]),t._v(" "),i("b-form-group",{attrs:{label:"Video in:","label-class":"font-weight-bold"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-input",{staticStyle:{flex:"1"},attrs:{size:"sm",type:"text",id:"transition-video-in",value:t.videoIn&&t.videoIn.name,placeholder:"Tải lên video in",readonly:""}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm mx-2",on:{click:function(e){return t.$refs.modalInputVideoIn.showModal()}}},[t._v("\n        Tải lên\n      ")])],1)]),t._v(" "),i("b-form-group",{attrs:{label:"Video out:","label-class":"font-weight-bold"}},[i("div",{staticStyle:{display:"flex"}},[i("b-form-input",{staticStyle:{flex:"1"},attrs:{size:"sm",type:"text",id:"transition-video-out",value:t.videoOut&&t.videoOut.name,placeholder:"Tải lên video out",readonly:""}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm mx-2",on:{click:function(e){return t.$refs.modalInputVideoOut.showModal()}}},[t._v("\n        Tải lên\n      ")])],1)]),t._v(" "),i("b-form-group",{attrs:{label:"Màu nền:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"transition-color",placeholder:"VD: #17ff0a"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Transition")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("ModalInputFile",{ref:"modalInputVideoPreview",on:{pushNewVideo:t.uploadVideoPreview}}),t._v(" "),i("ModalInputFile",{ref:"modalInputVideoIn",on:{pushNewVideo:t.uploadVideoIn}}),t._v(" "),i("ModalInputFile",{ref:"modalInputVideoOut",on:{pushNewVideo:t.uploadVideoOut}})],1)},staticRenderFns:[]},Sn={components:{ModalCreateTransition:i("VU/8")(wn,kn,!1,null,null,null).exports,ModalVideo:La},data:function(){return{showFont:null}},props:["listTransition"],methods:{getlistTransition:function(){this.$emit("reload")},deleteTransition:function(t,e,i){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a.$swal.fire({title:"Xóa Transition?",html:"Bạn muốn xóa transition <b>"+i+"</b>!",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xác nhận!",reverseButtons:!0}).then(function(){var i=r()(n.a.mark(function i(s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s.value){i.next=5;break}return i.next=3,Fs({id:t});case 3:200==i.sent.status&&(a.listTransition.splice(e,1),a.$swal.fire({type:"success",title:"Xóa Thành Công.",showConfirmButton:!1,timer:1e3}),a.$emit("reload"));case 5:case"end":return i.stop()}},i,a)}));return function(t){return i.apply(this,arguments)}}());case 1:case"end":return s.stop()}},s,a)}))()}}},Tn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-12 col-lg-12"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header justify-content-between"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:function(e){return t.$refs.modalCreateTransition.show()}}},[t._v("\n              Tải lên Transition\n            ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listTransition,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-7"},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"col-4 align-items-center"},[i("b-button",{attrs:{variant:"success",size:"md"},on:{click:function(i){return t.$refs.modalVideo.showModal(e.videoPreview.url)}}},[t._v("Xem")]),t._v(" "),i("b-button",{attrs:{variant:"danger",size:"md"},on:{click:function(i){return t.deleteTransition(e._id,a,e.name)}}},[t._v("Xóa")])],1)])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n          Tổng số Transition: "+t._s(t.listTransition?t.listTransition.length:0)+"\n        ")])])])]),t._v(" "),i("ModalCreateTransition",{ref:"modalCreateTransition",on:{getlistTransition:t.getlistTransition}}),t._v(" "),i("ModalVideo",{ref:"modalVideo"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"m-0 font-weight-bold "},[this._v("Quản lý Transition")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",{staticClass:"thead-light"},[e("tr",{staticClass:"col-12 row reset"},[e("th",{staticClass:"col-1"},[this._v("#")]),this._v(" "),e("th",{staticClass:"col-7"},[this._v("Tên")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Hành động")])])])])}]};var Vn=i("VU/8")(Sn,Tn,!1,function(t){i("6nPO")},"data-v-93a199e6",null).exports,In={data:function(){return{listVideo:[]}},components:{ModalVideo:La},props:["allChannelOfUser","listChannel"],methods:{getChannelUploadByIdVideo:function(t){var e=this.listChannel.find(function(e){return e._id===t});return e?e.name:""},onView:function(t){this.$refs.modalVideo.showModal(t.videoSuccess,t)}}},Dn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{attrs:{size:"xl",id:"modal-statistic-video",title:"Danh sách Video","ok-only":"",scrollable:""}},[i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Data")]),t._v(" "),i("th",{staticStyle:{width:"180px"},attrs:{scope:"col"}},[t._v("Ngày tạo")])])]),t._v(" "),i("tbody",t._l(t.listVideo,function(e,a){return i("tr",{key:a,attrs:{id:e._id}},[i("td",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticStyle:{"max-width":"500px","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t._v("\n            "+t._s(e.data)+"\n          ")]),t._v(" "),i("td",[t._v(t._s(t.$moment(e.created).format("HH:mm - MM/DD/YYYY")))])])}),0)])]),t._v(" "),i("ModalVideo",{ref:"modalVideo"})],1)},staticRenderFns:[]};var En={data:function(){return{keyTable:0,statisticTime:"today",isLoading:!1}},props:["allVideo","listChannel"],components:{ModalStatisticVideo:i("VU/8")(In,Dn,!1,function(t){i("BusB")},null,null).exports,Loading:c.a},methods:{setStatusAccount:function(t,e){var i=this;return r()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i.isLoading=!0,a.prev=1,s={userId:t,status:e},a.next=5,_s(s);case 5:if(!(o=a.sent)||200!==o.status){a.next=14;break}if(!o.data.isLocked){a.next=13;break}return a.next=10,i.$emit("getAccounts");case 10:i.$notify({title:"Thành Công.!",type:"success"}),a.next=14;break;case 13:i.$notify({title:"Lỗi: Không tìm thấy Tài Khoản.!",type:"error"});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 19:i.isLoading=!1;case 20:case"end":return a.stop()}},a,i,[[1,16]])}))()},onStatistic:function(t){this.$refs.statistic.listVideo=t},statisticTimeUser:function(t){var e=event.target.value;this.filterVideo([t],e),this.keyTable++},filterVideo:function(t,e,i){for(var a=this,s=function(i){var s=t[i];s.statistic=e;var n=a.allVideo.filter(function(t){return t.idUser==s._id});switch(e){case"today":n=n.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),s.videos=n;break;case"this-week":var o=new Date,r=o.getDate()-o.getDay(),l=new Date(o.setDate(r)).setHours(0,0,0,0);n=n.filter(function(t){if(Date.parse(t.created.valueOf())>l)return t}),s.videos=n;break;case"this-month":n=n.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()}),s.videos=n;break;case"last-month":n=n.filter(function(t){return new Date(t.created).getMonth()==(new Date).getMonth()-1}),s.videos=n;break;default:s.videos=n}},n=0;n<t.length;n++)s(n)}},watch:{statisticTime:function(){this.filterVideo(null,this.statisticTime,this.allVideo)}}},Ln={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" ml-2 card shadow "},[i("div",{staticClass:"card-header align-items-center justify-content-center"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$refs.modalAddNewAccount.show()}}},[t._v("\n          Thêm Tài Khoản\n        ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{key:t.keyTable,staticClass:"p-2",staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[i("table",{staticClass:"table"},[i("tbody",[t._l(t.listChannel,function(e,a){return i("tr",{key:a,staticClass:"row",attrs:{id:e._id}},[i("th",{staticClass:"col-1 px-0"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.thumbnail,alt:"x",srcset:""}})]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.channelId}},[t._v(t._s(e.name))])]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[t._v(t._s(e.ipVps))]),t._v(" "),i("td",{staticClass:"col-2 px-0"},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-statistic-video",modifiers:{"modal-statistic-video":!0}}],attrs:{size:"sm",variant:"success"},on:{click:function(i){return t.onStatistic(e.videos)}}},[t._v("Chi tiết")])],1)])}),t._v(" "),i("modal-statistic-video",{ref:"statistic",attrs:{listChannel:t.listChannel}})],2)])])]),t._v(" "),i("div",{staticClass:"card-footer "},[i("div",{staticStyle:{float:"left"}},[t._v("\n      Tổng số tài khoản: "+t._s(t.listChannel?t.listChannel.length:0)+"\n    ")])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"font-weight-bold"},[this._v("Quản lý Tài Khoản")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",{staticClass:"row col-12 reset"},[i("th",{staticClass:"col-1 px-0"},[t._v("STT")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("Thumbnail")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("Tên")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("ipVps")]),t._v(" "),i("th",{staticClass:"col-2 px-0"},[t._v("Hành động")])])])])}]};var An=i("VU/8")(En,Ln,!1,function(t){i("tKcj")},null,null).exports,$n={data:function(){return{nameGroup:null,isLoading:!1,isEdit:!1,indexEditing:!1,nameEdit:""}},components:{Loading:c.a},props:["listVoice"],methods:{onBlurName:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i={_id:t.listVoice[t.indexEditing]._id,name:t.nameEdit}).name==t.listVoice[t.indexEditing].name){e.next=13;break}return t.isLoading=!0,e.prev=3,e.next=6,Ms(i);case 6:200===e.sent.status&&(t.listVoice[t.indexEditing].name=t.nameEdit,t.$notify({title:"Update Voice Thành Công ",type:"success"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 13:t.isEdit=!1,t.nameEdit="",t.indexEditing=null,t.isLoading=!1;case 17:case"end":return e.stop()}},e,t,[[3,10]])}))()},onDoubleClickName:function(t,e){this.isEdit=!0,this.indexEditing=t,this.nameEdit=e},createGroup:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isLoading=!0,t.isLoading=!1;case 3:case"end":return e.stop()}},e,t)}))()}}},Pn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card shadow mb-4"},[t._m(0),t._v(" "),i("div",{staticClass:"text-left"},[t._m(1),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listVoice,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-3"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-9"},[t.isEdit&&t.indexEditing===a?i("input",{directives:[{name:"model",rawName:"v-model",value:t.nameEdit,expression:"nameEdit"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nameEdit},on:{blur:t.onBlurName,input:function(e){e.target.composing||(t.nameEdit=e.target.value)}}}):i("span",{on:{dblclick:function(i){return t.onDoubleClickName(a,e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])])])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n      Tổng số Voice: "+t._s(t.listVoice?t.listVoice.length:0)+"\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0 font-weight-bold "},[this._v("\n      Danh Sách Voice\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",{staticClass:"thead-light"},[e("tr",{staticClass:"col-12 row reset"},[e("th",{staticClass:"col-3"},[this._v("STT")]),this._v(" "),e("th",{staticClass:"col-9"},[this._v("Name")])])])])}]};var Un=i("VU/8")($n,Pn,!1,function(t){i("Htvl")},null,null).exports,Fn={components:{Loading:c.a},data:function(){return{isLoading:null,apiKey:null,typeApiKey:this.listTypeApiKeyVoice&&this.listTypeApiKeyVoice.length>0?this.listTypeApiKeyVoice[0]:null}},props:["listTypeApiKeyVoice"],mounted:function(){},methods:{reset:function(){this.isLoading=!1,this.apiKey=null,this.typeApiKey=null},show:function(){this.$refs.modalAddApiKeyVoice.show(),this.reset()},hide:function(){this.$refs.modalAddApiKeyVoice.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.apiKey&&t.typeApiKey){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return i={apiKey:t.apiKey,typeApiKey:t.typeApiKey},t.isLoading=!0,e.next=8,Rs(i);case 8:(a=e.sent)&&200===a.status&&(t.$emit("setListApiKeyVoice",a.data.listApiKeyVoice),t.$notify({type:"success",title:"Thêm Api Key Thành Công"}),t.hide()),t.isLoading=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 16:case"end":return e.stop()}},e,t,[[0,13]])}))()}}},On={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddApiKeyVoice",attrs:{id:"modalAddApiKeyVoice","hide-footer":"",title:"Thêm Key Voice",size:"md","no-close-on-esc":"","no-close-on-backdrop":""}},[i("b-form-group",{attrs:{label:"Api Key:","label-class":"font-weight-bold"}},[i("b-form-textarea",{attrs:{id:"apiKey",placeholder:"Nhập Api Key",rows:"3","max-rows":"6"},model:{value:t.apiKey,callback:function(e){t.apiKey=e},expression:"apiKey"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Nguồn Voice","label-class":"font-weight-bold"}},[i("b-form-select",{attrs:{id:"typeApiKey"},model:{value:t.typeApiKey,callback:function(e){t.typeApiKey=e},expression:"typeApiKey"}},[i("option",{domProps:{value:null}},[t._v(" --- Chọn nguồn voice ---")]),t._v(" "),t._l(t.listTypeApiKeyVoice,function(e,a){return i("option",{key:"TypeApiKeyVoice_"+a,domProps:{value:e}},[t._v("\n        "+t._s(e))])})],2)],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Key")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Mn={components:{ModalAddApiKeyVoice:i("VU/8")(Fn,On,!1,function(t){i("+hsq")},null,null).exports},data:function(){return{showFont:null}},props:["listApiKeyVoice","listTypeApiKeyVoice"],methods:{setListApiKeyVoice:function(t){this.$emit("setListApiKeyVoice",t)},reload:function(){this.$emit("reload")},deleteApiKey:function(t,e,i){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a.$swal.fire({title:"Xóa Api Key?",html:"Bạn muốn xóa api key: <b>"+i+"</b>!",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xác nhận!",reverseButtons:!0}).then(function(){var i=r()(n.a.mark(function i(s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s.value){i.next=5;break}return i.next=3,Ns({id:t});case 3:200==i.sent.status&&(a.listApiKeyVoice.splice(e,1),a.$notify({type:"success",title:"Xóa Thành Công."}));case 5:case"end":return i.stop()}},i,a)}));return function(t){return i.apply(this,arguments)}}());case 1:case"end":return s.stop()}},s,a)}))()}}},Rn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-12 col-lg-12"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header justify-content-between"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:function(e){return t.$refs.modalAddApiKeyVoice.show()}}},[t._v("\n              Thêm Key\n            ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listApiKeyVoice,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-5"},[t._v(t._s(e.apiKey))]),t._v(" "),i("td",{staticClass:"col-2"},[t._v(t._s(e.type))]),t._v(" "),i("td",{staticClass:"col-2"},[t._v("\n                  "+t._s(t.$moment(e.created).format("DD/MM/YYYY"))+"\n                ")]),t._v(" "),i("td",{staticClass:"col-2"},[i("b-button",{attrs:{variant:"danger",size:"md"},on:{click:function(i){return t.deleteApiKey(e._id,a,e.apiKey)}}},[t._v("Xóa")])],1)])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n          Tổng số Api Key: "+t._s(t.listApiKeyVoice?t.listApiKeyVoice.length:0)+"\n        ")])])])]),t._v(" "),i("ModalAddApiKeyVoice",{ref:"modalAddApiKeyVoice",attrs:{listTypeApiKeyVoice:t.listTypeApiKeyVoice},on:{reload:t.reload,setListApiKeyVoice:t.setListApiKeyVoice}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"m-0 font-weight-bold "},[this._v("Quản lý Key Google Cloud")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",{staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v("#")]),t._v(" "),i("th",{staticClass:"col-5"},[t._v("Key")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Loại Key")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Ngày Tạo")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Hành động")])])])])}]};var Nn=i("VU/8")(Mn,Rn,!1,function(t){i("UREh")},"data-v-234cb9ba",null).exports,zn={components:{Loading:c.a},data:function(){return{isLoading:null,api:{email:null,projectId:null,clientEmail:null,privateKey:null,type:null,description:null,dateExpired:null},listTypeApi:Z.API_GOOGLE_CLOUD_TYPE}},mounted:function(){},methods:{reset:function(){this.isLoading=!1,this.api={email:null,projectId:null,clientEmail:null,privateKey:null,type:null,description:null,dateExpired:null}},show:function(){this.$refs.modalAddApiGoogleCloud.show(),this.reset()},hide:function(){this.$refs.modalAddApiGoogleCloud.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.api.email&&t.api.projectId&&t.api.clientEmail&&t.api.privateKey&&t.api.type&&t.api.dateExpired){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return t.isLoading=!0,e.next=7,Bs(t.api);case 7:(i=e.sent)&&200===i.status&&(t.$emit("setListApiGoogleCloud",i.data.newApi),t.$notify({type:"success",title:"Thêm Api Key Thành Công"}),t.hide()),t.isLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}}},Bn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddApiGoogleCloud",attrs:{id:"modalAddApiGoogleCloud","hide-footer":"",title:"Thêm Api Google Cloud",size:"md","no-close-on-esc":"","no-close-on-backdrop":""}},[i("b-form-group",{attrs:{label:"Email Account:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{id:"email",placeholder:"Nhập Email Account"},model:{value:t.api.email,callback:function(e){t.$set(t.api,"email",e)},expression:"api.email"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Project Id:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{id:"projectId",placeholder:"Nhập Project Id"},model:{value:t.api.projectId,callback:function(e){t.$set(t.api,"projectId",e)},expression:"api.projectId"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Client Email:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{id:"clientEmail",placeholder:"Nhập Client Email"},model:{value:t.api.clientEmail,callback:function(e){t.$set(t.api,"clientEmail",e)},expression:"api.clientEmail"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Priavate Key:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{id:"privateKey",placeholder:"Nhập Private Key"},model:{value:t.api.privateKey,callback:function(e){t.$set(t.api,"privateKey",e)},expression:"api.privateKey"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ngày Hết Hạn:","label-class":"font-weight-bold","label-for":"expiryDate"}},[i("b-form-datepicker",{staticClass:"form-control",staticStyle:{padding:"10px 20px"},attrs:{id:"example-datepicker",placeholder:"Chọn ngày",min:new Date,"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},locale:"vi"},model:{value:t.api.dateExpired,callback:function(e){t.$set(t.api,"dateExpired",e)},expression:"api.dateExpired"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ghi chú:","label-class":"font-weight-bold"}},[i("b-form-input",{attrs:{id:"description",placeholder:"Nhập Ghi Chú"},model:{value:t.api.description,callback:function(e){t.$set(t.api,"description",e)},expression:"api.description"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Loại Api","label-class":"font-weight-bold"}},[i("b-form-select",{attrs:{id:"typeApiKey"},model:{value:t.api.type,callback:function(e){t.$set(t.api,"type",e)},expression:"api.type"}},[i("option",{domProps:{value:null}},[t._v(" --- Chọn Loại Api ---")]),t._v(" "),t._l(t.listTypeApi,function(e,a){return i("option",{key:"listTypeApi_"+a,domProps:{value:e}},[t._v("\n        "+t._s(e))])})],2)],1),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Key")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var Hn={components:{ModalAddApiGoogleCloud:i("VU/8")(zn,Bn,!1,function(t){i("JLEt")},null,null).exports},data:function(){return{showFont:null}},props:["listApiGoogleCloud"],methods:{setListApiGoogleCloud:function(t){this.$emit("setListApiGoogleCloud",t)},reload:function(){this.$emit("reload")},deleteApiKey:function(t,e,i){var a=this;return r()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a.$swal.fire({title:"Xóa Api Key?",html:"Bạn muốn xóa api key: <b>"+i+"</b>!",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Xác nhận!",reverseButtons:!0}).then(function(){var i=r()(n.a.mark(function i(s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s.value){i.next=5;break}return i.next=3,Hs({id:t});case 3:200==i.sent.status&&(a.listApiGoogleCloud.splice(e,1),a.$notify({type:"success",title:"Xóa Thành Công."}));case 5:case"end":return i.stop()}},i,a)}));return function(t){return i.apply(this,arguments)}}());case 1:case"end":return s.stop()}},s,a)}))()}}},jn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-12 col-lg-12"},[i("div",{staticClass:"card shadow mb-4"},[i("div",{staticClass:"card-header justify-content-between"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:function(e){return t.$refs.modalAddApiKeyVoice.show()}}},[t._v("\n              Thêm Key\n            ")])])])]),t._v(" "),i("div",{},[t._m(1),t._v(" "),i("div",{staticStyle:{height:"500px","max-height":"500px","overflow-y":"auto"}},[i("table",{staticClass:"table"},[i("tbody",t._l(t.listApiGoogleCloud,function(e,a){return i("tr",{key:a,staticClass:"col-12 row reset",style:e.isExpired?"background-color: #ff6161":""},[i("th",{staticClass:"col-1"},[t._v(t._s(a+1))]),t._v(" "),i("td",{staticClass:"col-2"},[t._v(t._s(e.email))]),t._v(" "),i("td",{staticClass:"col-1"},[t._v(t._s(e.projectId))]),t._v(" "),i("td",{staticClass:"col-3"},[t._v(t._s(e.clientEmail))]),t._v(" "),i("td",{staticClass:"col-1"},[t._v("\n                  "+t._s(t.$moment(e.dateExpired).format("DD/MM/YYYY"))+"\n                ")]),t._v(" "),i("td",{staticClass:"col-1"},[t._v(t._s(e.type))]),t._v(" "),i("td",{staticClass:"col-2"},[t._v(t._s(e.description))]),t._v(" "),i("td",{staticClass:"col-1"},[i("b-button",{attrs:{variant:"danger",size:"md"},on:{click:function(i){return t.deleteApiKey(e._id,a,e.email)}}},[t._v("Xóa")])],1)])}),0)])])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("div",{staticStyle:{float:"left"}},[t._v("\n          Tổng số Api Key:\n          "+t._s(t.listApiGoogleCloud?t.listApiGoogleCloud.length:0)+"\n        ")])])])]),t._v(" "),i("ModalAddApiGoogleCloud",{ref:"modalAddApiKeyVoice",on:{reload:t.reload,setListApiGoogleCloud:t.setListApiGoogleCloud}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6 text-left"},[e("h5",{staticClass:"m-0 font-weight-bold "},[this._v("Quản lý Api Google Cloud")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",{staticClass:"col-12 row reset"},[i("th",{staticClass:"col-1"},[t._v("#")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Email")]),t._v(" "),i("th",{staticClass:"col-1"},[t._v("ProjectId")]),t._v(" "),i("th",{staticClass:"col-3"},[t._v("Client Email")]),t._v(" "),i("th",{staticClass:"col-1"},[t._v("Ngày Hết Hạn")]),t._v(" "),i("th",{staticClass:"col-1"},[t._v("Loại")]),t._v(" "),i("th",{staticClass:"col-2"},[t._v("Ghi Chú")]),t._v(" "),i("th",{staticClass:"col-1"},[t._v("Hành động")])])])])}]};var Gn=i("VU/8")(Hn,jn,!1,function(t){i("0Rp5")},"data-v-7660a38c",null).exports,Yn={components:{FontTable:Xs,Loading:c.a,UserTable:cn,GroupUserTable:gn,ServerTable:xn,TransitionTable:Vn,ChannelTable:An,VoiceTable:Un,ApiKeyVoiceTable:Nn,ApiGoogleCloudTable:Gn},data:function(){return{listVoice:this.$store.state.data.listVoice,listTypeApiKeyVoice:[],listTransition:null,listUser:null,listServer:null,listGroup:null,listGoogleDriver:null,idGroup:"",userOfGroup:null,listApiKeyVoice:[],listApiGoogleCloud:[],server:{ipServer:"",name:"",folderShare:"",outputShare:""},googleDriver:{folderId:"",folderName:""},allVideo:0,dataChart:[],dataChartServer:[{name:"Workout",data:{"2017-01-01 00:00:00 -0800":3,"2017-01-02 00:00:00 -0800":4}},{name:"Call parents",data:{"2017-01-01 00:00:00 -0800":5,"2017-01-02 00:00:00 -0800":3}}],listChannel:[]}},methods:{setListApiKeyVoice:function(t){this.listApiKeyVoice=t},setListApiGoogleCloud:function(t){this.listApiGoogleCloud.push(t)},getListTransition:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us();case 2:(i=e.sent)&&200===i.status&&(a=i.data.listTransition,t.listTransition=a);case 4:case"end":return e.stop()}},e,t)}))()},updatelistUser:function(t){var e=t;this.listUser=this.listUser.map(function(t){var i=e.find(function(e){return e._id==t._id});return m()({},t,i)})},getInfo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,Cs();case 4:if(i=e.sent,t.isLoading=!1,i&&200===i.status){for(t.listUser=i.data.dataReturn.user,t.listServer=i.data.dataReturn.listServer,t.listGroup=i.data.dataReturn.listGroup,t.allVideo=i.data.dataReturn.allVideo,t.listGoogleDriver=i.data.dataReturn.listGoogleDriver,t.listChannel=i.data.dataReturn.listChannel,t.listTransition=i.data.dataReturn.listTransition,t.allVideo=t.allVideo.filter(function(t){return t.idChannel}),t.listApiKeyVoice=i.data.dataReturn.listApiKeyVoice,t.listApiGoogleCloud=i.data.dataReturn.listApiGoogleCloud,t.listTypeApiKeyVoice=i.data.dataReturn.listTypeApiKeyVoice,a=0;a<t.allVideo.length;a++)(s=t.allVideo[a]).data=s.data?JSON.parse(s.data):null;for(t.allVideo=t.allVideo.map(function(t){var e="";return t.data&&t.data.listLayoutSelected&&t.data.listLayoutSelected.map(function(t){t.data&&t.data.autoSubtitleData&&t.data.autoSubtitleData.content?e+=t.data.autoSubtitleData.content+"\n":t.data&&t.data.subtitle&&t.data.subtitle.data&&t.data.subtitle.data.content&&(e+=t.data.subtitle.data.content+"\n")}),m()({},t,{data:e})}),o=function(e){var i=t.listUser[e],a=t.allVideo.filter(function(t){return t.idUser==i._id});a=a.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),i.videos=a,i.statistic="today"},r=0;r<t.listUser.length;r++)o(r);l=t,c=t.allVideo.reduce(function(t,e){var i=l.$moment(e.created).format("DD-MM");return t[i]||(t[i]=0),t[i]++,t},{}),d=ps()(c),t.dataChart=d}else 401===i.status&&t.$router.push("signin");e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t.$notify({title:"Lỗi: "+e.t0.message,type:"error"});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[1,9]])}))()},createGoogleDriver:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t.googleDriver);case 2:200==(i=e.sent).status&&(a=i.data.newGD,t.listGoogleDriver.push(a));case 4:case"end":return e.stop()}},e,t)}))()},deleteGoogleDriver:function(t,e){var i=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",reverseButtons:!0}).then(function(){var a=r()(n.a.mark(function a(s){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.value){a.next=5;break}return a.next=3,Es({idGD:t});case 3:200==a.sent.status&&(i.listGoogleDriver.splice(e,1),i.$swal.fire({type:"success",title:"Your file has been deleted.",showConfirmButton:!1,timer:1e3}));case 5:case"end":return a.stop()}},a,i)}));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}},a,i)}))()},getAccounts:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,bs();case 4:(i=e.sent)&&200===i.status&&(a=(a=i.data.listAccount).map(function(e){var i=t.allVideo.filter(function(t){return t.idUser==e._id});return i=i.filter(function(t){return new Date(t.created).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}),m()({},e,{statistic:"today",videos:i})}),t.listUser=a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},getServers:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,ys();case 4:(i=e.sent)&&200===i.status&&(t.listServer=i.data.listServer),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()}},computed:{},created:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getInfo();case 2:case"end":return e.stop()}},e,t)}))()}},Kn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"page-top"}},[i("div",{attrs:{id:"wrapper"}},[i("div",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}},[i("div",{attrs:{id:"content"}},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-4 col-md-6 mb-4"},[i("div",{staticClass:"card border-left-primary shadow h-100 py-2"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"row no-gutters align-items-center"},[i("div",{staticClass:"col mr-2"},[i("div",{staticClass:"text-xs font-weight-bold text-primary text-uppercase mb-1"},[t._v("\n                        Users\n                      ")]),t._v(" "),i("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v("\n                        "+t._s(t.listUser?t.listUser.length:0)+"\n                      ")])]),t._v(" "),t._m(0)])])])]),t._v(" "),i("div",{staticClass:"col-xl-4 col-md-6 mb-4"},[i("div",{staticClass:"card border-left-success shadow h-100 py-2"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"row no-gutters align-items-center"},[i("div",{staticClass:"col mr-2"},[i("div",{staticClass:"text-xs font-weight-bold text-success text-uppercase mb-1"},[t._v("\n                        Servers\n                      ")]),t._v(" "),i("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v("\n                        "+t._s(t.listServer?t.listServer.length:0)+"\n                      ")])]),t._v(" "),t._m(1)])])])]),t._v(" "),i("div",{staticClass:"col-xl-4 col-md-6 mb-4"},[i("div",{staticClass:"card border-left-success shadow h-100 py-2"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"row no-gutters align-items-center"},[i("div",{staticClass:"col mr-2"},[i("div",{staticClass:"text-xs font-weight-bold text-success text-uppercase mb-1"},[t._v("\n                        Videos\n                      ")]),t._v(" "),i("div",{staticClass:"h5 mb-0 font-weight-bold text-gray-800"},[t._v("\n                        "+t._s(t.allVideo.length)+"\n                      ")])]),t._v(" "),t._m(2)])])])])]),t._v(" "),i("div",{staticClass:"mt-3 mb-3 row justify-content-center"},[i("div",{staticClass:"col-11"},[i("h3",[t._v("Videos")]),t._v(" "),i("area-chart",{staticClass:"ml-2 mr-2",attrs:{data:t.dataChart}})],1)]),t._v(" "),i("div",{staticClass:"row mb-4"},[i("div",{staticClass:"col-12 col-sm-12 col-md-12 mb-3"},[i("UserTable",{attrs:{listUser:t.listUser,allVideo:t.allVideo,listChannel:t.listChannel},on:{getAccounts:t.getAccounts}})],1),t._v(" "),i("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6"},[i("FontTable")],1),t._v(" "),i("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6"},[i("VoiceTable",{attrs:{listVoice:t.listVoice}})],1),t._v(" "),i("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6"},[i("ServerTable",{attrs:{listServer:t.listServer},on:{reload:t.getServers}})],1),t._v(" "),i("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6"},[i("ApiKeyVoiceTable",{attrs:{listApiKeyVoice:t.listApiKeyVoice,listTypeApiKeyVoice:t.listTypeApiKeyVoice},on:{setListApiKeyVoice:t.setListApiKeyVoice}})],1),t._v(" "),i("div",{staticClass:"col-12 col-sm-12 col-md-12"},[i("ApiGoogleCloudTable",{attrs:{listApiGoogleCloud:t.listApiGoogleCloud},on:{setListApiGoogleCloud:t.setListApiGoogleCloud}})],1)])])]),t._v(" "),t._m(3)])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-auto"},[e("i",{staticClass:"fas fa-user fa-2x text-gray-300"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-auto"},[e("i",{staticClass:"fas fa-server fa-2x text-gray-300",staticStyle:{"font-size":"2em"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-auto"},[e("i",{staticClass:"fas fa-video fa-2x text-gray-300"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"sticky-footer bg-white"},[e("div",{staticClass:"container my-auto"},[e("div",{staticClass:"copyright text-center my-auto"},[e("span",[this._v("Copyright © AlidaMedia 2019")])])])])}]};var Wn=i("VU/8")(Yn,Kn,!1,function(t){i("jGIB")},"data-v-26876328",null).exports,qn={components:{FinderIndex:ee,ModalUploadFileWithDropzone:Ha},data:function(){return{keyCC:0,data:[],value:null,nameState:null,folderName:null,selectIndexs:null,isLoading:!1,isEnd:!1}},methods:{onChange:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t.isFolder){a.next=8;break}return a.next=4,ie.getListOnFolder({path:t.value});case 4:(s=a.sent)&&200===s.status&&(i.data.length>e.length?(i.data[e.length]=[].concat(F()(s.data.listFile)),i.data.length=e.length+1,i.data.push({a:1}),i.data.pop()):i.data.push([].concat(F()(s.data.listFile)))),a.next=10;break;case 8:i.data.length>e.length&&(i.data.length=e.length),i.isPreview&&i.data.push(m()({},t,{isPreview:!0}));case 10:i.value=t.value,i.isEnd=!t.isFolder,i.selectIndexs=e,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),i.$notify({type:"error",title:"Lỗi: "+a.t0.message});case 18:case"end":return a.stop()}},a,i,[[0,15]])}))()},onCreateFolder:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.folderName){i.next=4;break}e.nameState=!1,i.next=22;break;case 4:return e.nameState=!0,e.isLoading=!0,i.prev=6,i.next=9,ie.createFolder({folderPath:e.value,folderName:e.folderName});case 9:return(a=i.sent)&&200===a.status&&e.$notify({type:"success",title:"Tạo Thành Công"}),i.next=13,e.reload();case 13:e.$refs.modalInputNameFolder.hide(),i.next=19;break;case 16:i.prev=16,i.t0=i.catch(6),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 19:e.folderName=null,e.nameState=null,e.isLoading=!1;case 22:t.preventDefault();case 23:case"end":return i.stop()}},i,e,[[6,16]])}))()},reload:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.value){e.next=16;break}if(i=t.value,t.isEnd&&((i=i.split("/")).pop(),i=i.join("/"),t.data.pop()),!i.endsWith(t.$store.state.user._id+"/data")){e.next=12;break}return e.next=7,ie.getFileOfUser();case 7:a=e.sent,t.data=[[].concat(F()(a.data.listFile))],t.keyCC++,e.next=14;break;case 12:return e.next=14,t.onChange({value:i,isFolder:!0},t.selectIndexs);case 14:e.next=21;break;case 16:return e.next=18,ie.getFileOfUser();case 18:s=e.sent,t.data=[[].concat(F()(s.data.listFile))],t.keyCC++;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 27:case"end":return e.stop()}},e,t,[[0,23]])}))()},removeFile:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value){e.next=3;break}return t.$notify({title:"Chưa chọn file",type:"error"}),e.abrupt("return");case 3:return console.log("value: ",t.value),t.value.endsWith("/")&&(t.value=t.value.substring(0,t.value.length-1)),e.next=7,t.$swal.fire({type:"question",title:"Xoá",html:"Xác nhận xoá "+(t.isEnd?"File":"Thư mục")+": <b>"+t.value.split("/")[t.value.split("/").length-1]+"</b>",showCloseButton:!0,showCancelButton:!0,reverseButtons:!0});case 7:if(!e.sent.value){e.next=24;break}return t.isLoading=!0,e.prev=10,e.next=13,ie.removeFile({filePath:t.value,isFolder:!t.isEnd});case 13:return(i=e.sent)&&200===i.status&&t.$notify({type:"success",title:"Xóa Thành Công"}),t.isEnd||((a=t.value.split("/")).pop(),a=a.join("/"),t.value=a,t.selectIndexs.length=t.selectIndexs.length>0?t.selectIndexs.length-1:0),e.next=18,t.reload();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 23:t.isLoading=!1;case 24:case"end":return e.stop()}},e,t,[[10,20]])}))()}},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.getFileOfUser();case 3:i=e.sent,t.data=[[].concat(F()(i.data.listFile))],console.log(t.data),t.keyCC++,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}},Xn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"controller m-3"},[i("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalInputNameFolder",modifiers:{modalInputNameFolder:!0}}],staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n      Tạo thư mục\n    ")]),t._v(" "),i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.$refs.modalUploadFile.show()}}},[t._v("\n      Tải file lên\n    ")]),t._v(" "),i("button",{staticClass:"btn btn-danger px-4",attrs:{type:"button"},on:{click:t.removeFile}},[t._v("\n      Xoá\n    ")])]),t._v(" "),i("finder-index",{key:t.keyCC,attrs:{value:t.value,data:t.data},on:{onChange:t.onChange}}),t._v(" "),i("b-modal",{ref:"modalInputNameFolder",attrs:{id:"modalInputNameFolder",title:"Tạo Thư Mục"},on:{ok:t.onCreateFolder}},[i("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onCreateFolder(e)}}},[i("b-form-group",{attrs:{state:t.nameState,label:"Tên thư mục","label-for":"name-input","invalid-feedback":"Name is required"}},[i("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:"",autofocus:""},model:{value:t.folderName,callback:function(e){t.folderName=e},expression:"folderName"}})],1)],1)]),t._v(" "),i("ModalUploadFileWithDropzone",{ref:"modalUploadFile",attrs:{payload:{savePath:t.value,typeUpload:"STORE_FILE_USER"},router:"api/v1/finder/upload-file",acceptedFiles:"image/*, video/*, audio/*"},on:{reload:t.reload}})],1)},staticRenderFns:[]};var Jn=i("VU/8")(qn,Xn,!1,function(t){i("NbNC")},"data-v-3919a231",null).exports,Qn={components:{Loading:c.a,ButtonQuality:ua,draggable:de.a,ModalVideo:La,ModalSelectFile:es},data:function(){return{introVideo:null,outroVideo:null,titleDefault:"",descriptionDefault:"",tagDefault:"",name:null,typeChannel:"YOUTUBE",channelId:null,typeUpload:0,ipVps:null,cookieYTB:null,stateCookieYTB:null,isConnectJson:null,description:null,isLoading:!1,stateChannelId:null,stateName:null,stateIpVps:null,idProfile:null,isEdit:!1,channelEdit:null,selectLayout:null,listLayoutDefault:[],optionsTypeChannel:[{value:"YOUTUBE",text:"Youtube"},{value:"FACEBOOK",text:"Facebook"}],VIDEO_STATUS_UPLOAD:Z.VIDEO_STATUS_UPLOAD,typeVideoUpload:Z.VIDEO_STATUS_UPLOAD.PRIVATE}},props:["listLayout"],computed:{getNameIntroVideo:function(){return this.introVideo&&this.introVideo.path?this.introVideo.name:""},getNameOutroVideo:function(){return this.outroVideo&&this.outroVideo.path?this.outroVideo.name:""}},methods:{onSelectFile:function(t){"introVideo"===t.typeSelect?this.introVideo={url:t.value.url,path:t.value.value,name:t.value.text}:"outroVideo"===t.typeSelect&&(this.outroVideo={url:t.value.url,path:t.value.value,name:t.value.text})},getNameLayout:function(t){var e=this.listLayout.find(function(e){return e._id==t});return e?e.name:null},onAddLayout:function(t){this.listLayoutDefault.push(t)},onDeleteLayout:function(t){this.listLayoutDefault.splice(t,1)},onChangeProfile:function(t){this.idProfile=t.value._id},reset:function(){this.introVideo=null,this.outroVideo=null,this.channelId=null,this.typeUpload=0,this.ipVps=null,this.isConnectJson=null,this.description=null,this.isLoading=!1,this.stateChannelId=null,this.stateName=null,this.stateIpVps=null,this.stateCookieYTB=null,this.idProfile=null,this.isEdit=!1,this.channelEdit=null,this.listLayoutDefault=[],this.selectLayout=null,this.name=null,this.typeChannel="YOUTUBE",this.titleDefault="",this.descriptionDefault="",this.tagDefault="",this.typeVideoUpload=Z.VIDEO_STATUS_UPLOAD.PRIVATE},show:function(t){var e=this;this.reset(),t&&(this.introVideo=t.introVideo,this.outroVideo=t.outroVideo,this.channelId=t.channelId,this.typeUpload=t.typeUpload,this.ipVps=t.ipVps,this.cookieYTB=t.cookieYTB,this.description=t.description,this.idProfile=t.idProfile,this.isEdit=!0,this.channelEdit=t,this.name=t.name,this.typeChannel=t.typeChannel,this.titleDefault=t.titleDefault,this.descriptionDefault=t.descriptionDefault,this.tagDefault=t.tagDefault,this.typeVideoUpload=t.typeVideoUpload,t.listLayout&&t.listLayout.map(function(t){var i=e.listLayout.find(function(e){return e._id==t});i&&e.listLayoutDefault.push(i._id)})),this.$refs.modalAddChannel.show()},hide:function(){this.$refs.modalAddChannel.hide()},onChangeTypeUpload:function(t){this.typeUpload=parseInt(t.target.value)},onChangeChannelID:function(){this.isConnectJson=null},checkConnectJson:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoadingCheckConnectJson=!0,e.next=3,ThongSoApi.checkConnectJson({idChannel:t.instance.ThongSoUpLoad_ChannelID});case 3:(i=e.sent)&&200===i.status&&(t.isConnectJson=i.data.Data,t.isConnectJson||t.$noty.warning("Chưa Connect Json")),t.isLoadingCheckConnectJson=!1;case 6:case"end":return e.stop()}},e,t)}))()},connectJson:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ThongSoApi.connectJson({idChannel:t.instance.ThongSoUpLoad_ChannelID});case 2:(i=e.sent)&&"False"===i.data.Status?t.$noty.error(i.data.Message):i&&"True"===i.data.Status&&(window.open(i.data.Data,"_blank"),t.isConnectJson=null);case 4:case"end":return e.stop()}},e,t)}))()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),t.name||(t.stateName=!1,i=!1),0!==t.typeUpload||t.ipVps||(t.stateIpVps=!1,i=!1),1!==t.typeUpload||t.ipVps||(t.stateIpVps=!1,i=!1),1!==t.typeUpload||t.cookieYTB||(t.stateCookieYTB=!1,i=!1),i){e.next=9;break}return e.abrupt("return");case 9:if(!t.$refs.buttonQuality.checkIsSelectOriginal()){e.next=12;break}return t.$notify({type:"error",title:"Chọn Độ phân giải video đi.!"}),e.abrupt("return");case 12:return t.isLoading=!0,a={channelId:t.channelId,typeUpload:t.typeUpload,ipVps:t.ipVps,cookieYTB:t.cookieYTB,description:t.description,idProfile:t.idProfile,listLayout:t.listLayoutDefault,typeChannel:t.typeChannel,name:t.name,titleDefault:t.titleDefault,descriptionDefault:t.descriptionDefault,tagDefault:t.tagDefault,typeVideoUpload:t.typeVideoUpload,introVideo:t.introVideo,outroVideo:t.outroVideo},e.next=16,ss.createChannel(a);case 16:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Thêm Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 24:case"end":return e.stop()}},e,t,[[0,21]])}))()},onSave:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.buttonQuality.checkIsSelectOriginal()){e.next=3;break}return t.$notify({type:"error",title:"Chọn Độ phân giải video đi.!"}),e.abrupt("return");case 3:if(e.prev=3,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),t.name||(t.stateName=!1,i=!1),0!==t.typeUpload||t.ipVps||(t.stateIpVps=!1,i=!1),1!==t.typeUpload||t.ipVps||(t.stateIpVps=!1,i=!1),1!==t.typeUpload||t.cookieYTB||(t.stateCookieYTB=!1,i=!1),i){e.next=12;break}return e.abrupt("return");case 12:return t.isLoading=!0,a=m()({},t.channelEdit,{channelId:t.channelId,typeUpload:t.typeUpload,ipVps:t.ipVps,cookieYTB:t.cookieYTB,description:t.description,idProfile:t.idProfile,listLayout:t.listLayoutDefault,typeChannel:t.typeChannel,name:t.name,titleDefault:t.titleDefault,descriptionDefault:t.descriptionDefault,tagDefault:t.tagDefault,typeVideoUpload:t.typeVideoUpload,introVideo:t.introVideo,outroVideo:t.outroVideo}),e.next=16,ss.saveChannel(a);case 16:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Lưu Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 24:case"end":return e.stop()}},e,t,[[3,21]])}))()}}},Zn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddChannel",attrs:{id:"addChannel","hide-footer":"",title:"Thêm kênh",size:"md",scrollable:""}},[i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"typeChannel"}},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold"},[t._v("Loại kênh "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-select",{staticClass:"col-8 ml-2",attrs:{size:"sm",options:t.optionsTypeChannel},model:{value:t.typeChannel,callback:function(e){t.typeChannel=e},expression:"typeChannel"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"channelId"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v(t._s("YOUTUBE"==t.typeChannel?"Nhập ID kênh ":"Nhập Link Page ")+"\n        "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"channelId",placeholder:"YOUTUBE"==t.typeChannel?"ID Kênh":"Link Page",state:t.stateChannelId},on:{input:function(e){t.stateChannelId=null}},model:{value:t.channelId,callback:function(e){t.channelId=e},expression:"channelId"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"name"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("\n        "+t._s("FACEBOOK"==t.typeChannel?"Tên Page":"Tên Kênh")+"\n        "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"name",state:t.stateName,placeholder:"Ghi chú"},on:{input:function(e){t.stateName=null}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"description"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Ghi chú:")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"description",placeholder:"Ghi chú"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"titleDefault"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Tiêu đề mặc đinh:")]),t._v(" "),i("b-form-input",{staticClass:"col-7 ml-2",attrs:{size:"sm",type:"text",id:"titleDefault",placeholder:"Nhập tiêu đề mặc định"},model:{value:t.titleDefault,callback:function(e){t.titleDefault=e},expression:"titleDefault"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"descriptionDefault"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Miêu tả mặc định:")]),t._v(" "),i("b-form-textarea",{staticClass:"col-7 ml-2",attrs:{size:"sm",type:"text",id:"descriptionDefault",placeholder:"Nhập miêu tả mặc định",rows:"1","max-rows":"3"},model:{value:t.descriptionDefault,callback:function(e){t.descriptionDefault=e},expression:"descriptionDefault"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"tagDefault"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Tag mặc định:")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"tagDefault",placeholder:"Nhập tag mặc định"},model:{value:t.tagDefault,callback:function(e){t.tagDefault=e},expression:"tagDefault"}})],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"tagDefault"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Video Intro:")]),t._v(" "),i("b-form-input",{staticClass:"col-4 mx-2",attrs:{size:"sm",type:"text",value:t.getNameIntroVideo,placeholder:"Chọn video intro"}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$refs.modalSelectFile.show(null,"video","introVideo")}}},[t._v("\n        Chọn\n      ")]),t._v(" "),t.introVideo?i("button",{staticClass:"btn btn-success btn-sm mx-2",on:{click:function(e){return t.$refs.ModalVideo.showModal(t.introVideo.url)}}},[t._v("\n        Xem\n      ")]):t._e(),t._v(" "),t.introVideo?i("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){t.introVideo=null}}},[t._v("\n        Xóa\n      ")]):t._e()],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"tagDefault"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Video Outro:")]),t._v(" "),i("b-form-input",{staticClass:"col-4 mx-2",attrs:{size:"sm",type:"text",value:t.getNameOutroVideo,placeholder:"Chọn video outro"}}),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$refs.modalSelectFile.show(null,"video","outroVideo")}}},[t._v("\n        Chọn\n      ")]),t._v(" "),t.outroVideo?i("button",{staticClass:"btn btn-success btn-sm mx-2",on:{click:function(e){return t.$refs.ModalVideo.showModal(t.outroVideo.url)}}},[t._v("\n        Xem\n      ")]):t._e(),t._v(" "),t.outroVideo?i("button",{staticClass:"btn btn-danger btn-sm ",on:{click:function(e){t.outroVideo=null}}},[t._v("\n        Xóa\n      ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"row col-12 reset align-items-center"},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Độ phân giải video "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("button-quality",{ref:"buttonQuality",staticClass:"btn-quality-parent ml-3",attrs:{value:t.idProfile},on:{onChange:t.onChangeProfile}})],1),t._v(" "),i("div",{staticClass:"row col-12 align-items-center m-0 my-2 p-0"},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Danh sách Layout:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectLayout,expression:"selectLayout"}],staticClass:"form-control col-5 mx-2 form-control-sm",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectLayout=e.target.multiple?i:i[0]}}},t._l(t.listLayout,function(e){return i("option",{key:e._id,domProps:{value:e._id}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.onAddLayout(t.selectLayout)}}},[t._v("\n      Thêm\n    ")])]),t._v(" "),i("div",{staticClass:"reset align-items-center"},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Layout mặc định:")]),t._v(" "),i("draggable",{on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.listLayoutDefault,callback:function(e){t.listLayoutDefault=e},expression:"listLayoutDefault"}},t._l(t.listLayoutDefault,function(e,a){return i("button",{key:e+a,staticClass:"btn btn-outline-primary px-4 mt-2 mx-2 btn-layout"},[i("span",{staticStyle:{color:"#000000","font-weight":"bold","font-size":"16px"}},[i("span",[t._v(t._s(a+1)+".")]),t._v("\n          "+t._s(t.getNameLayout(e))+"\n        ")]),t._v(" "),i("i",{staticClass:"far fa-trash-alt icon-remove-layout text-right ml-2",on:{click:function(e){return t.onDeleteLayout(a)}}})])}),0)],1),t._v(" "),i("b-form-group",{key:t.typeUpload,staticClass:"mt-3",attrs:{"label-class":"font-weight-bold"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold mr-4 "},[t._v("Chế độ Upload "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-radio",{staticClass:"col-3 reset",attrs:{name:"rdoUploadGiaLap",value:0},on:{change:t.onChangeTypeUpload},model:{value:t.typeUpload,callback:function(e){t.typeUpload=e},expression:"typeUpload"}},[t._v("Giả Lập")]),t._v(" "),i("b-form-radio",{staticClass:"col-3",attrs:{name:"rdoUploadApi",value:1},on:{change:t.onChangeTypeUpload},model:{value:t.typeUpload,callback:function(e){t.typeUpload=e},expression:"typeUpload"}},[t._v("Cookie")])],1)]),t._v(" "),i("b-form-group",{staticClass:"mt-3 mb-1",attrs:{"label-class":"font-weight-bold"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Chế độ hiển thị "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-radio",{attrs:{name:t.VIDEO_STATUS_UPLOAD.PUBLIC,value:t.VIDEO_STATUS_UPLOAD.PUBLIC},model:{value:t.typeVideoUpload,callback:function(e){t.typeVideoUpload=e},expression:"typeVideoUpload"}},[t._v("Công khai")]),t._v(" "),i("b-form-radio",{attrs:{name:t.VIDEO_STATUS_UPLOAD.PRIVATE,value:t.VIDEO_STATUS_UPLOAD.PRIVATE},model:{value:t.typeVideoUpload,callback:function(e){t.typeVideoUpload=e},expression:"typeVideoUpload"}},[t._v("Riêng tư")])],1)]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold",staticStyle:{width:"145px"}}),t._v(" "),i("b-form-radio",{attrs:{name:t.VIDEO_STATUS_UPLOAD.SCHEDULE,value:t.VIDEO_STATUS_UPLOAD.SCHEDULE},model:{value:t.typeVideoUpload,callback:function(e){t.typeVideoUpload=e},expression:"typeVideoUpload"}},[t._v("Đặt lịch")]),t._v(" "),i("b-form-radio",{attrs:{name:t.VIDEO_STATUS_UPLOAD.UNLIST,value:t.VIDEO_STATUS_UPLOAD.UNLIST},model:{value:t.typeVideoUpload,callback:function(e){t.typeVideoUpload=e},expression:"typeVideoUpload"}},[t._v("Không công khai")])],1)]),t._v(" "),0===t.typeUpload?i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"ipVps"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("IP VPS "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"ipVps",state:t.stateIpVps},on:{input:function(e){t.stateIpVps=null}},model:{value:t.ipVps,callback:function(e){t.ipVps=e},expression:"ipVps"}})],1)]):t._e(),t._v(" "),1===t.typeUpload?i("b-form-group",{attrs:{"label-class":"font-weight-bold","label-for":"cookieYTB"}},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("Cookie "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"cookieYTB",placeholder:"Nhập Cookie Youutbe",state:t.stateCookieYTB},on:{input:function(e){t.stateCookieYTB=null}},model:{value:t.cookieYTB,callback:function(e){t.cookieYTB=e},expression:"cookieYTB"}})],1),t._v(" "),i("div",{staticClass:"mt-2"}),t._v(" "),i("div",{staticClass:"row col-12 align-items-center reset"},[i("span",{staticClass:"font-weight-bold"},[t._v("IP VPS "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":")]),t._v(" "),i("b-form-input",{staticClass:"col-8 ml-2",attrs:{size:"sm",type:"text",id:"ipVps",state:t.stateIpVps},on:{input:function(e){t.stateIpVps=null}},model:{value:t.ipVps,callback:function(e){t.ipVps=e},expression:"ipVps"}})],1)]):t._e(),t._v(" "),i("div",{staticClass:"col-12 text-center"},[t.isEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu Kênh")]):i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Kênh")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("modal-video",{ref:"ModalVideo"}),t._v(" "),i("modal-select-file",{ref:"modalSelectFile",on:{onSelectFile:t.onSelectFile}})],1)},staticRenderFns:[]};var to={name:"quan-ly-kenh",components:{ModalAddChannel:i("VU/8")(Qn,Zn,!1,function(t){i("LX9M")},null,null).exports,Loading:c.a},data:function(){return{isLoading:!1,listChannel:[],channelId:"",selectedKenh:[],channel_fields:[{key:"index",label:"#"},{key:"description",label:"Mô tả"},{key:"typeChannel",label:"Loại"},{key:"name",label:"Tên "},{key:"thumbnail",label:"Thumbnail"},{key:"viewCount",label:"Tổng view"},{key:"subCount",label:"Tổng sub"},{key:"videoCount",label:"Tổng video"},{key:"ipVps",label:"ipVPS"},{key:"actions",label:"Hành động"}],listLayout:[]}},methods:{onEditChannel:function(t){var e=this.listChannel.find(function(e){return e._id==t});this.$refs.modalAddChannel.show(e)},onDeleteChannel:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.$swal.fire({type:"question",title:"Xoá kênh",html:"Xác nhận xoá kênh <b>"+e+"</b>",showCloseButton:!0,showCancelButton:!0,reverseButtons:!0});case 2:if(!a.sent.value){a.next=16;break}return i.isLoading=!0,a.prev=5,a.next=8,ss.removeChannel({id:t});case 8:200===(s=a.sent).status&&(s.data.result?(i.$notify({title:"Xoá Thành Công",type:"success"}),i.getChannels()):i.$notify({title:"Không Tìm Thấy Kênh",type:"error"})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 15:i.isLoading=!1;case 16:case"end":return a.stop()}},a,i,[[5,12]])}))()},getChannels:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,ss.getChannel();case 4:(i=e.sent)&&200===i.status&&(t.$store.dispatch("setListChannelUpload",i.data.listChannel),t.listChannel=i.data.listChannel),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[0,8]])}))()},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)},getLayouts:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi();case 3:(i=e.sent)&&200===i.status&&i.data.listLayout&&(t.listLayout=i.data.listLayout),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$notify({type:"error",title:"Lỗi lấy danh sách Layout: "+e.t0.message});case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},created:function(){this.isLoading=!0,this.listChannel=this.$store.state.data.listChannelUpload,this.listLayout=this.$store.state.data.listLayout,this.isLoading=!1}},eo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 grid-margin stretch-card text-left content-wrapper"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v("Quản lý kênh")]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-form-group",{attrs:{label:"","label-for":""}},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.$refs.modalAddChannel.show()}}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Thêm Kênh\n            ")])],1)],1)]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-table",{attrs:{items:t.listChannel,fields:t.channel_fields,responsive:"",bordered:"",striped:"",hover:""},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"cell(name)",fn:function(e){return[i("div",{},[i("a",{attrs:{target:"_blank",href:"YOUTUBE"===e.item.typeChannel?"https://www.youtube.com/channel/"+e.item.channelId+"/videos":e.item.channelId}},[t._v(t._s(e.item.name))])])]}},{key:"cell(thumbnail)",fn:function(t){return[i("div",[i("img",{staticStyle:{width:"50px"},attrs:{src:t.item.thumbnail}})])]}},{key:"cell(channelId)",fn:function(e){return[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.item.channelId}},[t._v(t._s(e.item.channelId))])]}},{key:"cell(actions)",fn:function(e){return[i("div",{},[i("button",{staticClass:"btn btn-info",on:{click:function(i){return t.onEditChannel(e.item._id)}}},[t._v("\n                  Sửa\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-danger ml-2",on:{click:function(i){return t.onDeleteChannel(e.item._id,e.item.name)}}},[t._v("\n                  Xoá\n                ")])])]}},{key:"cell(videoCount)",fn:function(e){return[i("span",[t._v(t._s(t.formatNumber(e.item.videoCount)))])]}},{key:"cell(subCount)",fn:function(e){return[i("span",[t._v(t._s(t.formatNumber(e.item.subCount)))])]}},{key:"cell(viewCount)",fn:function(e){return[i("span",[t._v(t._s(t.formatNumber(e.item.viewCount)))])]}}])})],1)])],1)]),t._v(" "),i("ModalAddChannel",{ref:"modalAddChannel",attrs:{listLayout:t.listLayout},on:{getChannel:t.getChannels}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var ao=i("VU/8")(to,eo,!1,function(t){i("/5CS")},"data-v-4e56b7ca",null).exports,so=function(){function t(){u()(this,t)}return h()(t,null,[{key:"create",value:function(t){return I.post("/api/v1/auto-reup/create-auto-reup",t)}},{key:"update",value:function(t){return I.post("/api/v1/auto-reup/update-auto-reup",t)}},{key:"remove",value:function(t){return I.post("/api/v1/auto-reup/remove-auto-reup",t)}},{key:"gets",value:function(){return I.get("/api/v1/auto-reup/get-auto-reup")}}]),t}(),no={components:{Loading:c.a,ButtonQuality:ua,draggable:de.a},data:function(){return{sourceType:this.$store.state.data&&this.$store.state.data.listTypeSourceReup?this.$store.state.data.listTypeSourceReup[0].value:null,source:null,channelUpload:this.$store.state.data&&this.$store.state.data.listChannelUpload&&this.$store.state.data.listChannelUpload.length>0?this.$store.state.data.listChannelUpload[0]._id:null,description:null,isLoading:!1,stateSource:null,isEdit:!1,AutoReupEdit:null,isGetOldVideo:!1,isDeleteVideo:!0,autoRender:!1,typeGetOldVideo:"ALL",countGetOldVideo:1,orderByGetOldVideo:"newest",countVideoRenderOnDay:1,isUploadSchedule:!1,timeUploadSchedule:null}},methods:{reset:function(){this.source=null,this.description=null,this.isLoading=!1,this.stateSource=null,this.isEdit=!1,this.AutoReupEdit=null,this.isGetOldVideo=!1,this.isDeleteVideo=!0,this.typeGetOldVideo="ALL",this.countGetOldVideo=1,this.countVideoRenderOnDay=1,this.isUploadSchedule=!1,this.timeUploadSchedule=null,this.orderByGetOldVideo="newest",this.autoRender=!1},show:function(t){this.reset(),t&&(console.log(t),this.source=t.source,this.description=t.description,this.isEdit=!0,this.AutoReupEdit=t,this.isGetOldVideo=t.isGetOldVideo,this.isDeleteVideo=t.isDeleteVideo,this.autoRender=t.autoRender,this.typeGetOldVideo=t.typeGetOldVideo,this.countGetOldVideo=t.countGetOldVideo,this.orderByGetOldVideo=t.orderByGetOldVideo,this.countVideoRenderOnDay=t.countVideoRenderOnDay,this.isUploadSchedule=t.isUploadSchedule,this.timeUploadSchedule=t.timeUploadSchedule),this.$refs.modalAddChannel.show()},hide:function(){this.$refs.modalAddChannel.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.source&&t.channelUpload||(t.stateSource=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a={source:t.source,description:t.description,channelId:t.channelUpload,sourceType:t.sourceType,autoRender:t.autoRender,isGetOldVideo:t.isGetOldVideo,isDeleteVideo:t.isDeleteVideo,typeGetOldVideo:t.typeGetOldVideo,countGetOldVideo:t.countGetOldVideo,countVideoRenderOnDay:t.countVideoRenderOnDay,isUploadSchedule:t.isUploadSchedule,timeUploadSchedule:t.timeUploadSchedule,orderByGetOldVideo:t.orderByGetOldVideo},e.next=9,so.create(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Thêm Kênh Thành Công"}),t.hide(),t.$emit("reload")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()},onSave:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.source&&t.channelUpload||(t.stateSource=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a=m()({},t.AutoReupEdit,{source:t.source,description:t.description,channelId:t.channelUpload,sourceType:t.sourceType,autoRender:t.autoRender,isGetOldVideo:t.isGetOldVideo,isDeleteVideo:t.isDeleteVideo,typeGetOldVideo:t.typeGetOldVideo,countGetOldVideo:t.countGetOldVideo,countVideoRenderOnDay:t.countVideoRenderOnDay,isUploadSchedule:t.isUploadSchedule,timeUploadSchedule:t.timeUploadSchedule,orderByGetOldVideo:t.orderByGetOldVideo}),e.next=9,so.update(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Lưu Kênh Thành Công"}),t.hide(),t.$emit("reload")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()}}},oo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddChannel",attrs:{id:"addChannel","hide-footer":"","title-class":"font-weight-bold",title:"Thêm kênh",size:"md"}},[i("div",{staticClass:"row col-12 align-items-center m-0 my-2 p-0"},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Nguồn reup:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.sourceType,expression:"sourceType"}],staticClass:"form-control col-5 mx-2 font-weight-bold form-control-sm",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.sourceType=e.target.multiple?i:i[0]}}},t._l(t.$store.state.data.listTypeSourceReup,function(e){return i("option",{key:e.value,staticClass:"font-weight-bold",domProps:{value:e.value}},[t._v(t._s(e.name))])}),0)]),t._v(" "),i("div",{staticClass:"row col-12 align-items-center m-0 my-2 p-0"},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Chọn kênh upload:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.channelUpload,expression:"channelUpload"}],staticClass:"form-control col-5 mx-2 font-weight-bold form-control-sm",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.channelUpload=e.target.multiple?i:i[0]}}},t._l(t.$store.state.data.listChannelUpload,function(e){return i("option",{key:e.name,staticClass:"font-weight-bold",domProps:{value:e._id}},[t._v(t._s(e.name))])}),0)]),t._v(" "),i("b-form-group",{attrs:{label:"Nhập ID kênh cần reup:","label-class":"font-weight-bold","label-for":"source"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"source",placeholder:"ID Kênh",state:t.stateSource},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ghi chú:","label-class":"font-weight-bold","label-for":"description"}},[i("b-form-input",{attrs:{size:"sm",type:"text",id:"description",placeholder:"Ghi chú"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Chức năng:","label-class":"font-weight-bold","label-for":"description"}},[i("div",[i("b-form-checkbox",{staticClass:"font-weight-bold",attrs:{id:"autoRender",name:"autoRender",value:!0,"unchecked-value":!1},model:{value:t.autoRender,callback:function(e){t.autoRender=e},expression:"autoRender"}},[t._v("Auto Render")])],1),t._v(" "),i("div",{staticClass:"mt-1 row col-12 reset font-weight-bold"},[i("b-form-checkbox",{staticClass:"font-weight-bold",attrs:{id:"isGetOldVideo",name:"isGetOldVideo",value:!0,"unchecked-value":!1},model:{value:t.isGetOldVideo,callback:function(e){t.isGetOldVideo=e},expression:"isGetOldVideo"}},[t._v("Lấy Video Cũ:")]),t._v(" "),t.isGetOldVideo?i("b-form-group",{key:t.typeGetOldVideo,staticClass:"reset",attrs:{"label-class":"font-weight-bold"}},[i("b-form-radio",{attrs:{name:"rdoGetAll",value:"ALL"},model:{value:t.typeGetOldVideo,callback:function(e){t.typeGetOldVideo=e},expression:"typeGetOldVideo"}},[t._v("Tất cả")]),t._v(" "),i("div",{staticClass:"row col-12 reset"},[i("b-form-radio",{attrs:{name:"rdoGetMANY",value:"MANY"},model:{value:t.typeGetOldVideo,callback:function(e){t.typeGetOldVideo=e},expression:"typeGetOldVideo"}},[t._v("Lấy:\n          ")]),t._v(" "),i("b-form-input",{staticClass:"mx-2",staticStyle:{width:"80px"},attrs:{size:"sm",type:"number",min:1},model:{value:t.countGetOldVideo,callback:function(e){t.countGetOldVideo=e},expression:"countGetOldVideo"}}),t._v("\n          (video)\n        ")],1)],1):t._e()],1),t._v(" "),i("div",{staticClass:"mt-2 custom-control"},[i("div",{staticClass:"form-group font-weight-bold row col-12 align-items-center reset"},[i("label",{attrs:{for:""}},[t._v("- Sắp xếp:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.orderByGetOldVideo,expression:"orderByGetOldVideo"}],staticClass:"form-control form-control-sm mx-2 font-weight-bold",staticStyle:{width:"150px"},attrs:{name:"orderBy",id:"orderBy"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.orderByGetOldVideo=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:"newest"}},[t._v("Mới nhất")]),t._v(" "),i("option",{domProps:{value:"oldest"}},[t._v("Cũ nhất")]),t._v(" "),i("option",{domProps:{value:"popular"}},[t._v("Phổ biến")])])])]),t._v(" "),i("div",{staticClass:"mt-2 custom-control"},[i("div",{staticClass:"row col-12 reset font-weight-bold"},[t._v("\n        - Số lượng video render-upload/1 ngày:\n        "),i("b-form-input",{staticClass:"mx-2",staticStyle:{width:"80px"},attrs:{size:"sm",type:"number",min:0},model:{value:t.countVideoRenderOnDay,callback:function(e){t.countVideoRenderOnDay=e},expression:"countVideoRenderOnDay"}})],1)]),t._v(" "),i("div",{staticClass:"mt-1"},[i("div",{staticClass:"row col-12 align-items-center reset"},[i("b-form-checkbox",{staticClass:"font-weight-bold",attrs:{id:"isUploadSchedule",name:"isUploadSchedule",value:!0,"unchecked-value":!1},model:{value:t.isUploadSchedule,callback:function(e){t.isUploadSchedule=e},expression:"isUploadSchedule"}},[t._v("\n          Upload Đặt Lịch:\n        ")]),t._v(" "),t.isUploadSchedule?i("b-form-input",{staticClass:"mx-2",staticStyle:{width:"150px"},attrs:{size:"sm",type:"text"},model:{value:t.timeUploadSchedule,callback:function(e){t.timeUploadSchedule=e},expression:"timeUploadSchedule"}}):t._e(),t._v(" "),t.isUploadSchedule?i("span",[t._v("\n          ("),i("span",{staticClass:"font-weight-bold"},[t._v("7:00"),i("span",{staticClass:"text-danger fs-xl"},[t._v(";")]),t._v("15:30...")]),t._v(")\n        ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"mt-1"},[i("b-form-checkbox",{staticClass:"font-weight-bold",attrs:{id:"isDeleteVideo",name:"isDeleteVideo",value:!0,"unchecked-value":!1},model:{value:t.isDeleteVideo,callback:function(e){t.isDeleteVideo=e},expression:"isDeleteVideo"}},[t._v("Xóa video sau khi upload")])],1)]),t._v(" "),i("div",{staticClass:"col-12 text-center mt-4"},[t.isEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu Kênh")]):i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Kênh")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var ro=i("VU/8")(no,oo,!1,function(t){i("SewQ")},null,null).exports,lo={data:function(){return{listVideo:[]}},components:{ModalVideo:La},methods:{show:function(t){this.$refs.modalStatisticVideo.show()},onView:function(t){this.$refs.modalVideo.showModal(t.videoSuccess,t)}}},co={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{ref:"modalStatisticVideo",attrs:{size:"xl",title:"Danh sách Video","ok-only":"",scrollable:""}},[i("table",{staticClass:"table"},[i("thead",{staticClass:"thead-light"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("STT")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Tên")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Loại")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Kênh Upload")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Trạng thái")]),t._v(" "),i("th",{staticStyle:{width:"180px"},attrs:{scope:"col"}},[t._v("Ngày tạo")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Hành động")])])]),t._v(" "),i("tbody",t._l(t.listVideo,function(e,a){return i("tr",{key:a,attrs:{id:e._id}},[i("td",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.type))]),t._v(" "),i("td",[t._v("\n            "+t._s(e.idChannel?t.getChannelUploadByIdVideo(e.idChannel):"")+"\n          ")]),t._v(" "),i("td",[t._v(t._s(e.status))]),t._v(" "),i("td",[t._v(t._s(t.$moment(e.created).format("HH:mm - MM/DD/YYYY")))]),t._v(" "),i("td",[i("button",{staticClass:"btn btn-success btn-sm",attrs:{disabled:"DELETED"===e.status},on:{click:function(i){return t.onView(e)}}},[t._v("\n              View\n            ")])])])}),0)])]),t._v(" "),i("ModalVideo",{ref:"modalVideo"})],1)},staticRenderFns:[]};var uo=i("VU/8")(lo,co,!1,function(t){i("w2+S")},null,null).exports,vo={name:"quan-ly-kenh",components:{ModalAddAutoReup:ro,Loading:c.a,ModalListVideo:uo},data:function(){return{AUTO_REUP_STATUS:Z.AUTO_REUP_STATUS,isLoading:!1,listAutoReup:[],channelId:"",selectedKenh:[],auto_reup_fields:[{key:"index",label:"#"},{key:"description",label:"Mô tả"},{key:"source",label:"Nguồn"},{key:"countVideoUploaded",label:"Số Video Đã Reup"},{key:"channelUpload",label:"Kênh Upload"},{key:"update",label:"Upload Gần Nhất"},{key:"createdAt",label:"Ngày Tạo"},{key:"actions",label:"Hành động"}],listLayout:[]}},methods:{updateStatus:function(t,e){var i=this;return r()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i.isLoading=!0,a.prev=1,s=m()({},t,{status:e}),a.next=5,so.update(s);case 5:(o=a.sent)&&200===o.status&&(i.listAutoReup=i.listAutoReup.map(function(i){return i._id===t._id?m()({},i,{status:e}):i})),i.isLoading=!1,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 13:i.isLoading=!1;case 14:case"end":return a.stop()}},a,i,[[1,10]])}))()},onViewDetail:function(t){this.$refs.modalListVideo.show(t)},onEditChannel:function(t){var e=this.listAutoReup.find(function(e){return e._id==t});this.$refs.modalAddAutoReup.show(e)},onDeleteChannel:function(t,e){var i=this;return r()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.$swal.fire({type:"question",title:"Xoá kênh",html:"Xác nhận xoá",showCloseButton:!0,showCancelButton:!0,reverseButtons:!0});case 2:if(!e.sent.value){e.next=16;break}return i.isLoading=!0,e.prev=5,e.next=8,so.remove({id:t});case 8:200===(a=e.sent).status&&(a.data.result?(i.$notify({title:"Xoá Thành Công",type:"success"}),i.getAutoReup()):i.$notify({title:"Không Tìm Thấy Kênh",type:"error"})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),i.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 15:i.isLoading=!1;case 16:case"end":return e.stop()}},e,i,[[5,12]])}))()},getAutoReup:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,so.gets();case 4:(i=e.sent)&&200===i.status&&(t.listAutoReup=i.data.listAutoReup,a=t.$store.state.data.listChannelUpload,t.listAutoReup=t.listAutoReup.map(function(t){var e=a.find(function(e){return e._id===t.channelId});return m()({},t,{channelUpload:e.name,linkChannelUpload:e.channelId})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)}},created:function(){this.getAutoReup()}},ho={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 grid-margin stretch-card text-left content-wrapper"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v("Nguồn Reup")]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-form-group",{attrs:{label:"","label-for":""}},[i("b-btn",{attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.$refs.modalAddAutoReup.show()}}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Thêm Nguồn\n            ")])],1)],1)]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-table",{attrs:{items:t.listAutoReup,fields:t.auto_reup_fields,responsive:"",bordered:"",striped:"",hover:""},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"cell(source)",fn:function(e){return[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.item.source}},[t._v(t._s(e.item.source))])]}},{key:"cell(channelUpload)",fn:function(e){return[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.item.linkChannelUpload}},[t._v(t._s(e.item.channelUpload))])]}},{key:"cell(update)",fn:function(e){return[i("span",[t._v("\n                "+t._s(t.$moment(e.item.update).format("DD/MM/YYYY - HH:mm"))+"\n              ")])]}},{key:"cell(createdAt)",fn:function(e){return[i("span",[t._v("\n                "+t._s(t.$moment(e.item.createdAt).format("DD/MM/YYYY"))+"\n              ")])]}},{key:"cell(actions)",fn:function(e){return[i("div",{},[e.item.status===t.AUTO_REUP_STATUS.STOP||e.item.status===t.AUTO_REUP_STATUS.READY?i("button",{staticClass:"btn btn-success mt-1 btn-sm",on:{click:function(i){return t.updateStatus(e.item,t.AUTO_REUP_STATUS.RUNNING)}}},[t._v("\n                  Chạy\n                ")]):t._e(),t._v(" "),e.item.status===t.AUTO_REUP_STATUS.RUNNING?i("button",{staticClass:"btn btn-danger mt-1 btn-sm",on:{click:function(i){return t.updateStatus(e.item,t.AUTO_REUP_STATUS.STOP)}}},[t._v("\n                  Dừng\n                ")]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-primary mt-1 btn-sm",on:{click:function(i){return t.onViewDetail(e.item._id)}}},[t._v("\n                  Chi tiết\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-info mt-1 btn-sm",on:{click:function(i){return t.onEditChannel(e.item._id)}}},[t._v("\n                  Sửa\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-danger mt-1 btn-sm",on:{click:function(i){return t.onDeleteChannel(e.item._id,e.item.name)}}},[t._v("\n                  Xoá\n                ")])])]}}])})],1)])],1)]),t._v(" "),i("ModalAddAutoReup",{ref:"modalAddAutoReup",on:{reload:t.getAutoReup}}),t._v(" "),i("ModalListVideo",{ref:"modalListVideo"}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var po=i("VU/8")(vo,ho,!1,function(t){i("HUu1")},"data-v-a5ea10e6",null).exports,mo={directives:{ClickOutside:z.a},components:{Loading:c.a},data:function(){return{isLoading:null,fontUrl:null,name:null,nameDisplay:null,fontFile:null,listFont:this.$store.state.data.listFont,CONSTANT_SUB_TYPE:{NONE:Z.SUBTITLE_TYPE.NONE,DEFAULT:Z.SUBTITLE_TYPE.DEFAULT,BOTTOM_TO_TOP:Z.SUBTITLE_TYPE.BOTTOM_TO_TOP},layoutMain:{width:1280,height:720},subtitleData:{id:Et.a.generateKey(),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100},fontsizeDisplay:30,fontsize:30/(this.layoutMain?this.layoutMain.width:1280),fontfamily:this.$store.state.data.listFont.length>0?this.$store.state.data.listFont[0].name:null,stroke:{sizeDisplay:1,size:1/(this.layoutMain?this.layoutMain.width:1280),color:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100}},x:0,y:0,width:.3,height:.3,content:"Text Subtitle",contentHtml:"Text Subtitle",type:Z.SUBTITLE_TYPE.DEFAULT,style:{bold:0,italic:0,underline:0,strikeout:0},position:2,spacing:0,shadow:{sizeDisplay:1,size:1/(this.layoutMain?this.layoutMain.width:1280),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100}},voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null},limitCharacter:0,isShow:!0}}},mounted:function(){},methods:{onChangeStrokeSize:function(){this.subtitle.data.stroke.size=this.subtitle.data.stroke.sizeDisplay/this.layoutMain.width},onChangeShadowSize:function(){this.subtitle.data.shadow.size=this.subtitle.data.shadow.sizeDisplay/this.layoutMain.width},onChangeFontSize:function(){this.subtitle.data.fontsize=this.subtitle.data.fontsizeDisplay/this.layoutMain.width},hideColorPicker1:function(){this.$refs.colorPickerCustom1&&this.$refs.colorPickerCustom1.hide()},hideColorPicker2:function(){this.$refs.colorPickerCustom2&&this.$refs.colorPickerCustom2.hide()},hideColorPicker3:function(){this.$refs.colorPickerCustom3&&this.$refs.colorPickerCustom3.hide()},reset:function(){this.isLoading=!1,this.fontUrl=null,this.name=null,this.nameDisplay=null,this.fontFile=null},show:function(){this.reset(),this.$refs.modalAddFont.show()},hide:function(){this.$refs.modalAddFont.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.fontUrl&&t.nameDisplay&&t.fontFile){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return(i=new FormData).append("name",t.name),i.append("fontUrl",t.fontUrl),i.append("nameDisplay",t.nameDisplay),i.append("fontFile",t.fontFile),t.fontFile.map(function(t){i.append("font",t)}),t.isLoading=!0,e.next=13,As(i);case 13:(a=e.sent)&&200===a.status&&(s=a.data.allFont,t.$store.dispatch("updateListFont",s),t.$emit("reload"),t.$notify({type:"success",title:"Thêm Font Thành Công"}),t.hide()),t.isLoading=!1,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 21:case"end":return e.stop()}},e,t,[[0,18]])}))()}}},fo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddFont",attrs:{id:"modalAddFont","hide-footer":"",title:"Xuất File Subtitle","title-class":"font-weight-bold",size:"md","no-close-on-esc":"","no-close-on-backdrop":""}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.subtitleData.type!=t.CONSTANT_SUB_TYPE.NONE,expression:"subtitleData.type != CONSTANT_SUB_TYPE.NONE"}],staticClass:"text-properties sub-box"},[i("div",{staticClass:"container-box"},[i("div",{staticClass:"wrapper-style-name"},[i("b-form-group",{staticClass:"font-weight-bold fs-sm",attrs:{label:"Font chữ"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.fontfamily,expression:"subtitleData.fontfamily"}],staticClass:"form-control wrapper-item-input mr-1",staticStyle:{width:"250px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitleData,"fontfamily",e.target.multiple?i:i[0])}}},t._l(t.listFont,function(e,a){return i("option",{key:a,domProps:{value:e.name}},[t._v("\n              "+t._s(e.nameDisplay)+"\n            ")])}),0)]),t._v(" "),i("b-form-group",{staticClass:"font-weight-bold fs-sm ml-2",attrs:{label:"Size"}},[i("b-form-input",{staticClass:"wrapper-item-input",staticStyle:{width:"80px",padding:"4px 6px"},attrs:{type:"number",min:"1",step:"1"},on:{change:t.onChangeFontSize},model:{value:t.subtitleData.fontsizeDisplay,callback:function(e){t.$set(t.subtitleData,"fontsizeDisplay",e)},expression:"subtitleData.fontsizeDisplay"}})],1)],1),t._v(" "),i("div",{staticClass:"wrapper-style-text text-gray"},[i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{value:-1,"unchecked-value":0,size:"sm"},model:{value:t.subtitleData.style.bold,callback:function(e){t.$set(t.subtitleData.style,"bold",e)},expression:"subtitleData.style.bold"}},[t._v("Bold")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.italic,callback:function(e){t.$set(t.subtitleData.style,"italic",e)},expression:"subtitleData.style.italic"}},[t._v("Italic")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.underline,callback:function(e){t.$set(t.subtitleData.style,"underline",e)},expression:"subtitleData.style.underline"}},[t._v("Underline")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.strikeout,callback:function(e){t.$set(t.subtitleData.style,"strikeout",e)},expression:"subtitleData.style.strikeout"}},[t._v("Strikeout")])],1)]),t._v(" "),i("span",{staticClass:"mt-2 box-label fs-14 font-weight-bold"},[t._v("Màu chữ:")]),t._v(" "),i("div",{staticClass:"container-box pt-0"},[i("div",{staticStyle:{display:"flex","flex-direction":"row"}},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker1,expression:"hideColorPicker1"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Chữ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 10px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom1.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.color.rgb.r+","+t.subtitleData.color.rgb.g+","+t.subtitleData.color.rgb.b+","+t.subtitleData.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker2,expression:"hideColorPicker2"}],staticClass:"text-center mx-2"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Viền")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom2.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.stroke.color.rgb.r+","+t.subtitleData.stroke.color.rgb.g+","+t.subtitleData.stroke.color.rgb.b+","+t.subtitleData.stroke.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker3,expression:"hideColorPicker3"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Bóng đổ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom3.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.shadow.color.rgb.r+","+t.subtitleData.shadow.color.rgb.g+","+t.subtitleData.shadow.color.rgb.b+","+t.subtitleData.shadow.color.opacity/100+")"}})])])])])]),t._v(" "),i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Viền chữ:")]),t._v(" "),i("div",{staticClass:"container-box fs-14",staticStyle:{"flex-direction":"row",display:"flex","justify-content":"space-between"}},[i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-sm text-gray"},[t._v("Size viền:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.stroke.sizeDisplay,expression:"subtitleData.stroke.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitleData.stroke.sizeDisplay},on:{change:t.onChangeStrokeSize,input:function(e){e.target.composing||t.$set(t.subtitleData.stroke,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-sm text-gray"},[t._v("Bóng đổ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.shadow.sizeDisplay,expression:"subtitleData.shadow.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitleData.shadow.sizeDisplay},on:{change:t.onChangeShadowSize,input:function(e){e.target.composing||t.$set(t.subtitleData.shadow,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center",staticStyle:{display:"flex"}},[i("b-form-checkbox",{staticClass:"reset",attrs:{id:"subtitleData_opaqueBox",value:!0,"unchecked-value":!1},model:{value:t.subtitleData.opaqueBox,callback:function(e){t.$set(t.subtitleData,"opaqueBox",e)},expression:"subtitleData.opaqueBox"}},[t._v("Nền sub")])],1)]),t._v(" "),i("div",{staticClass:"col-12 row reset"},[i("div",{staticClass:"col-6 ml-0 pl-0"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Vị trí:")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-1 pl-2 align-items-center justify-content-center"},[i("b-form-radio-group",{attrs:{id:"subtitleData_position",name:"subtitleData_position",size:"sm"},model:{value:t.subtitleData.position,callback:function(e){t.$set(t.subtitleData,"position",e)},expression:"subtitleData.position"}},[i("div",{staticClass:"d-flex mx-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:7}},[t._v("7")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:8}},[t._v("8")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:9}},[t._v("9")])],1),t._v(" "),i("div",{staticClass:"d-flex mx-2 mt-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:4}},[t._v("4")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:5}},[t._v("5")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:6}},[t._v("6")])],1),t._v(" "),i("div",{staticClass:"d-flex mx-2 mt-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:1}},[t._v("1")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:2}},[t._v("2")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:3}},[t._v("3")])],1)])],1)]),t._v(" "),i("div",{staticClass:"col-6 reset"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Căn chữ:")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-2 pl-2"},[i("div",{staticClass:"col-12 row mb-2 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Giãn từ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.spacing,expression:"subtitleData.spacing"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitleData.spacing},on:{input:function(e){e.target.composing||t.$set(t.subtitleData,"spacing",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"d-flex align-items-center"},[i("label",{staticClass:"col-6 reset fs-sm text-gray",attrs:{for:"autoSpacing"}},[t._v("Giãn dòng:")]),t._v(" "),i("b-form-checkbox",{attrs:{id:"autoSpacing","checked-value":!0,"unchecked-value":!1},model:{value:t.subtitleData.autoSpacing,callback:function(e){t.$set(t.subtitleData,"autoSpacing",e)},expression:"subtitleData.autoSpacing"}})],1),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Số từ/dòng:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.limitCharacter,expression:"subtitleData.limitCharacter"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitleData.limitCharacter},on:{input:function(e){e.target.composing||t.$set(t.subtitleData,"limitCharacter",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"col-12 text-right mt-4"},[i("b-btn",{attrs:{variant:"primary"}},[t._v("Xem thử")]),t._v(" "),i("b-btn",{staticClass:"mx-3",attrs:{variant:"success"}},[t._v("Tải File Substitle")]),t._v(" "),i("b-btn",{attrs:{variant:"light"}},[t._v("Hủy")])],1),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom1",attrs:{stylePosition:"top: 100px;left: 270px;"},on:{onChangeColor:function(e){t.subtitleData.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom2",attrs:{stylePosition:"top: 100px; left: 390px"},on:{onChangeColor:function(e){t.subtitleData.stroke.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom3",attrs:{stylePosition:"top: 100px; left: 490px"},on:{onChangeColor:function(e){t.subtitleData.shadow.color=e}}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var go=i("VU/8")(mo,fo,!1,function(t){i("7EUD")},"data-v-55cb7596",null).exports,_o={data:function(){return Ot()({listVoice:this.$store.state.data.listVoice,content:"",isSaveVideo:!1,listTextItem:[],isLoading:!1,voice:this.$store.state.userData.voice,nameVideo:"",stateNameVideo:null,stateContent:null,idVideo:null,status:"",isCreateVoice:!1,isVoiceCreating:!1,audioSuccessUrl:"",isRenderVoiceSuccess:!1,stateVoice:null},"isLoading",!1)},components:{Loading:c.a,ModalSettingVoice:Le,ModalExportSubtitle:go,ModalEditText:Pe},destroyed:function(){},methods:{getTextDisplay:function(t){return t?t.replace(/\n/g,"</br>"):""},onClickExportSubtitle:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,console.log(" ######## this.listTextItem: ",e.listTextItem),i.next=5,E.exportSubtitle({listTextItem:e.listTextItem,idVideo:e.idVideo,isTranslate:t});case 5:(a=i.sent)&&200===a.status&&((s=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a.data.text)),s.setAttribute("download","subtitle.srt"),document.body.appendChild(s),s.click(),document.body.removeChild(s)),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),e.$notify({type:"error",title:"Lỗi: "+i.t0.message});case 12:e.isLoading=!1;case 13:case"end":return i.stop()}},i,e,[[1,9]])}))()},recivedSettingVoice:function(t){t&&null!=t.indexItem?this.listTextItem=this.listTextItem.map(function(e,i){return i===t.indexItem?m()({},e,{voice:t.voice}):e}):(this.voice.voice=t.voice,this.voice.voiceData=t.voiceData)},onItemSelected:function(t){this.listTextItem=this.listTextItem.map(function(e,i){return i==t?m()({},e,{isSelected:!e.isSelected}):e})},onChangeCharacterDelete:function(t){this.$store.dispatch("setUserData_Text",{type:"characterDelete",value:t})},onChangeSubRegex:function(t){this.$store.dispatch("setUserData_Text",{type:"subRegex",value:t})},onChangeCharacterDivide:function(t){this.$store.dispatch("setUserData_Text",{type:"countCharacterDivide",value:t})},onClickSplitText:function(){var t=this,e=this.content.split("\n\n").filter(function(t){return""!=t.trim()});e=e.map(function(e){return{text:e,textTranslate:"",audioUrl:"",lengthAudio:0,startTime:0,endTime:0,isSuccess:!1,voice:t.voice}}),this.listTextItem=e,this.isSaveVideo=!0},checkDataVoice:function(){var t=this,e=this.listVoice.find(function(e){return e._id===t.voice.voice});e&&e.type===Z.VOICE.GOOGLE?(this.voice.voiceData.speed=1,this.voice.voiceData.pitch=0):e&&e.type===Z.VOICE.WINDOWS?this.voice.voiceData.speed=1:!e||e.type!==Z.VOICE.AI_JP&&e.type!==Z.VOICE.AI_JP_DEMO?!e||e.type!==Z.VOICE.FPT_AI&&e.type!==Z.VOICE.VIETTEL_AI?e&&e.type===Z.VOICE.VINA?this.voice.voiceData.speed=1:(this.voice.voiceData.speed=100,this.voice.voiceData.pitch=100,this.voice.voiceData.volume=100,this.voice.voiceData.feeling=2):this.voice.voiceData.speed=0:(this.voice.voiceData.volume=2,this.voice.voiceData.speed=1,this.voice.voiceData.pitch=1,this.voice.voiceData.range=1,this.voice.voiceData.anger=0,this.voice.voiceData.sadness=0,this.voice.voiceData.joy=0)},onChangeVoice:function(t){this.stateVoice=null,this.checkDataVoice()},onTranslate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,i=t.content,a=[],i.length>1600)for(;i.length>1600;)a.push(i.substring(0,1600)),(i=i.substring(1600,i.length)).length<1600&&a.push(i);else a.push(i);s="",o=0;case 7:if(!(o<a.length)){e.next=16;break}return r=a[o],e.next=11,E.googleTranslate({text:r,targetLanguage:"vi"});case 11:l=e.sent,s+=l.data.text;case 13:o++,e.next=7;break;case 16:c=s.split("\n\n"),t.listTextItem=t.listTextItem.map(function(t,e){return m()({},t,{textTranslate:c[e]})}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),t.$swal.fire({type:"error",text:e.t0,showConfirmButton:!0});case 24:t.isLoading=!1;case 25:case"end":return e.stop()}},e,t,[[0,20]])}))()},onSaveVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stateNameVideo=null,t.stateContent=null,t.nameVideo){e.next=6;break}return t.stateNameVideo=!1,t.$notify({type:"error",text:"Chưa nhập Tiêu Đề"}),e.abrupt("return");case 6:if(t.content){e.next=10;break}return t.stateContent=!1,t.$notify({type:"error",text:"Chưa nhập Nội Dung"}),e.abrupt("return");case 10:if(t.voice.voice){e.next=14;break}return t.stateVoice=!1,t.$notify({type:"error",text:"Chưa chọn Voice "}),e.abrupt("return");case 14:if(t.isLoading=!0,e.prev=15,i=new FormData,!t.idVideo){e.next=26;break}return a={type:Z.VIDEO_TYPE.CREATE_VOICE,name:t.nameVideo,data:{content:t.content,listTextItem:t.listTextItem,audioSuccessUrl:t.audioSuccessUrl,isCreateVoice:t.isCreateVoice,isRenderVoiceSuccess:t.isRenderVoiceSuccess},_id:t.idVideo},a=Dt()(a),i.append("payload",a),e.next=23,$t.updateVideo(i);case 23:e.sent,e.next=33;break;case 26:return s={type:Z.VIDEO_TYPE.CREATE_VOICE,name:t.nameVideo,data:{content:t.content,listTextItem:t.listTextItem}},s=Dt()(s),i.append("payload",s),e.next=31,$t.createVideo(i);case 31:o=e.sent,t.idVideo=o.data.newVideo._id;case 33:t.$router.push("/manager-video"),t.$notify({type:"success",text:"Lưu Thành Công"}),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(15),console.log(e.t0),t.$notify({type:"error",text:e.t0});case 41:t.isLoading=!1;case 42:case"end":return e.stop()}},e,t,[[15,37]])}))()},onSubRegex:function(){this.content=Et.a.subRegex(this.content,this.$store.state.userData.text.subRegex)},onRemoveCharacter:function(){this.content=Et.a.removeCharacter(this.content,this.$store.state.userData.text.characterDelete)},onDivideSubtitleByCharacter:function(){for(var t=[],e="",i=0,a=this.content;a.includes("\n");)a=a.replace("\n"," ");for(var s=0;s<a.length;s++){e+=a[s],++i!==this.$store.state.userData.text.countCharacterDivide&&s!==a.length-1||(t.push(e),i=0,e="")}this.content=t.join("\n\n")},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)},formatTime:function(t){return t?Et.a.convertSecoundInCreateVoice(t):0}},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.listChannelUpload=t.$store.state.data.listChannelUpload,e.prev=1,!t.$route.query||!t.$route.query.idVideo){e.next=10;break}return t.isLoading=!0,e.next=6,$t.getVideoById({idVideo:t.$route.query.idVideo});case 6:i=e.sent,t.isLoading=!1,200===i.status&&i.data.video&&(a=i.data.video,(s=JSON.parse(a.data)).listTextItem&&s.listTextItem.length>0&&(t.voice=s.listTextItem[0].voice),t.content=s.content,a.videoSuccess&&(t.audioSuccessUrl=a.videoSuccess),s.isCreateVoice&&(t.isCreateVoice=s.isCreateVoice),a.status===Z.VIDEO_STATUS.SUCCESS&&(t.isRenderVoiceSuccess=!0,t.isCreateVoice=!0),t.listTextItem=s.listTextItem,t.listTextItem.length>0&&(t.isSaveVideo=!0),t.idVideo=t.$route.query.idVideo,t.nameVideo=a.name),t.$route.query.idVideo=null;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.$notify({type:"error",title:"Lỗi "+e.t0.message});case 15:t.isLoading=!1;case 16:case"end":return e.stop()}},e,t,[[1,12]])}))()}},bo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("h2",{staticClass:"text-center fhzWpZ my-3"},[t._v("Tạo Voice")]),t._v(" "),i("div",{staticStyle:{"padding-bottom":"1px"}},[i("div",{staticClass:"px-5 py-3"},[i("div",{staticClass:"col-12 row mb-3 align-items-center"},[i("span",{staticClass:"font-weight-bold fs-lg"},[t._v("Chọn Giọng đọc :")]),t._v(" "),i("b-form-select",{staticClass:"form-control form-control-sm fs-14 mx-2 col-5",staticStyle:{flex:"1"},attrs:{state:t.stateVoice},on:{change:t.onChangeVoice},model:{value:t.voice.voice,callback:function(e){t.$set(t.voice,"voice",e)},expression:"voice.voice"}},[i("option",{domProps:{value:null}},[t._v("Chọn Giọng Đọc")]),t._v(" "),t._l(t.listVoice,function(e,a){return i("option",{key:a,domProps:{value:e._id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2),t._v(" "),i("i",{staticClass:"fad fa-sliders-h icon-setting-voice py-2 px-3 mx-2",on:{click:function(e){return t.$refs.modalSettingVoice.show(t.voice)}}})],1),t._v(" "),i("div",[i("div",{staticClass:"col-12 row mb-3"},[i("span",{staticClass:"font-weight-bold mb-2"},[t._v("Tiêu Đề:")]),t._v(" "),i("b-form-input",{staticClass:"form-control",staticStyle:{"font-size":"18px"},attrs:{type:"text",placeholder:"Nhập Tiêu Đề",state:t.stateNameVideo},model:{value:t.nameVideo,callback:function(e){t.nameVideo=e},expression:"nameVideo"}})],1),t._v(" "),i("div",{staticClass:"col-12 row"},[i("span",{staticClass:"font-weight-bold mb-2"},[t._v("Nội Dung:")]),t._v(" "),i("button",{staticClass:"btn btn-search zoom-button mx-2",on:{click:function(e){return t.$refs.modalEditText.show(t.content)}}},[i("i",{staticClass:"fad fa-search-plus fs-14"})]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"18px"},attrs:{placeholder:"Nhập Text Subtitle",rows:"15","max-rows":"15",state:t.stateContent},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("div",{staticClass:"my-2 ml-2"},[i("span",[t._v("\n              Số kí tự:\n              "),i("b",[t._v("\n                "+t._s(t.formatNumber(t.content?t.content.length:0))+"\n              ")])]),t._v(" "),i("span",{staticClass:"mx-3"},[t._v("-")]),t._v(" "),i("span",[t._v("\n              Số dòng:\n              "),i("b",[t._v("\n                "+t._s(t.content?t.content.split("\n\n").length:0)+"\n              ")])])])],1)])]),t._v(" "),i("div",[i("div",{staticClass:"text-center mb-4",staticStyle:{"justify-content":"center","align-items":"center",display:"flex"}},[i("button",{staticClass:"btn btn-primary px-3 mx-2",on:{click:t.onClickSplitText}},[t._v("\n          Xem Thử\n        ")]),t._v(" "),t.isSaveVideo?i("button",{staticClass:"btn btn-info px-5",on:{click:t.onTranslate}},[t._v("\n          Dịch\n        ")]):t._e(),t._v(" "),t.isSaveVideo?i("button",{staticClass:"btn btn-success px-5 mx-2",on:{click:t.onSaveVideo}},[t._v("\n          Lưu\n        ")]):t._e(),t._v(" "),i("div",{staticClass:"container-btn-create-voice"}),t._v(" "),t.isSaveVideo?i("button",{staticClass:"btn-style btn-style-sm px-3 mx-2",on:{click:function(e){return t.onClickExportSubtitle(!1)}}},[t._v("\n          Xuất File Subtitle Gốc\n        ")]):t._e(),t._v(" "),t.isSaveVideo?i("button",{staticClass:"btn-success btn px-3 mx-2",on:{click:function(e){return t.onClickExportSubtitle(!0)}}},[t._v("\n          Xuất File Subtitle Dịch\n        ")]):t._e()])]),t._v(" "),t.isVoiceCreating&&t.isCreateVoice?i("div",{staticClass:"px-5 text-center"},[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.status))])]):t._e(),t._v(" "),!t.isVoiceCreating&&t.isCreateVoice&&t.isRenderVoiceSuccess&&t.audioSuccessUrl?i("div",{staticClass:"px-5 text-center",staticStyle:{"align-items":"center","justify-content":"center",display:"flex"}},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{"font-size":"18px"}},[t._v("Voice Full:\n      ")]),t._v(" "),i("span",[t._v(" --- ")]),t._v(" "),t.audioSuccessUrl?i("audio",{staticStyle:{width:"500px",height:"40px"},attrs:{src:t.audioSuccessUrl,controls:""}}):t._e()]):t._e(),t._v(" "),t.isSaveVideo?i("div",[i("div",{staticClass:"mb-5 mt-2 px-5"},[i("div",{},[i("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),i("tbody",t._l(t.listTextItem,function(e,a){return i("tr",{key:a,style:{background:e.isSelected?"#85beff":"#fff"}},[i("td",{staticClass:"font-weight-bold",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.onItemSelected(a)}}},[i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("span",{staticClass:"mr-1",staticStyle:{"font-size":"18px"}},[t._v(t._s(a+1)+".\n                    ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isSelected,expression:"item.isSelected"}],attrs:{type:"checkbox",name:"item-selected"},domProps:{checked:Array.isArray(e.isSelected)?t._i(e.isSelected,null)>-1:e.isSelected},on:{change:function(i){var a=e.isSelected,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&t.$set(e,"isSelected",a.concat([null])):o>-1&&t.$set(e,"isSelected",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"isSelected",n)}}})])]),t._v(" "),i("td",{staticStyle:{"font-size":"18px",padding:"0"}},[i("tbody",[i("tr",{staticStyle:{"border-bottom":"1px solid #d8d8d8"}},[t._m(1,!0),t._v(" "),i("td",{staticStyle:{width:"100%",border:"none"}},[i("span",{domProps:{innerHTML:t._s(t.getTextDisplay(e.text))}})])]),t._v(" "),i("tr",{staticStyle:{"border-bottom":"1px solid #d8d8d8"}},[t._m(2,!0),t._v(" "),i("td",{staticStyle:{width:"100%",border:"none"}},[i("span",{domProps:{innerHTML:t._s(t.getTextDisplay(e.textTranslate))}})])]),t._v(" "),i("tr",[t._m(3,!0),t._v(" "),i("td",{staticStyle:{width:"100%",display:"flex",border:"none"}},[i("i",{staticClass:"fad fa-sliders-h icon-setting-voice py-1 px-2 mx-2",on:{click:function(i){return t.$refs.modalSettingVoice.show(e.voice,a)}}}),t._v(" "),e.audioUrl?i("audio",{staticStyle:{width:"500px",height:"30px"},attrs:{src:e.audioUrl,controls:""}}):t._e(),t._v(" "),e.audioUrl?i("span",{staticClass:"font-weight-bold ml-3"},[t._v(t._s(t.formatTime(e.startTime)))]):t._e(),t._v(" "),e.audioUrl?i("span",{staticClass:"mx-2"},[t._v(" >>> ")]):t._e(),t._v(" "),e.audioUrl?i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatTime(e.endTime)))]):t._e(),t._v(" "),e.audioUrl?i("span",{staticClass:"mx-2 font-weight-bold"},[t._v("\n                          :\n                        ")]):t._e(),t._v(" "),e.audioUrl?i("span",{staticClass:"font-weight-bold",staticStyle:{color:"#0043ff"}},[t._v(t._s(t.formatTime(e.lengthAudio)))]):t._e()])])])]),t._v(" "),i("td",{staticClass:"font-weight-bold text-center",staticStyle:{"min-width":"30px","font-size":"18px"}},[t._v("\n                  "+t._s(e.text.length)+"\n                ")])])}),0)])])])]):t._e(),t._v(" "),i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1),t._v(" "),i("ModalSettingVoice",{ref:"modalSettingVoice",on:{returnData:t.recivedSettingVoice}}),t._v(" "),i("ModalEditText",{ref:"modalEditText",on:{returnData:function(e){t.content=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"100px"},attrs:{scope:"col"}},[this._v("\n                  STT\n                ")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Text")]),this._v(" "),e("th",{staticClass:"text-center",staticStyle:{width:"100px"},attrs:{scope:"col"}},[this._v("\n                  Số kí tự\n                ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none"}},[e("span",{staticClass:"mr-2 font-weight-bold"},[this._v("Text: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none"}},[e("span",{staticClass:"mr-2 font-weight-bold"},[this._v("Dịch: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none"}},[e("span",{staticClass:"mr-2 font-weight-bold"},[this._v("Audio: ")])])}]};var yo=i("VU/8")(_o,bo,!1,function(t){i("50tt")},"data-v-3c66da2a",null).exports,Co={data:function(){return{userData:this.$store.state.user,listPaymentHistory:this.$store.state.user.data.listPayment,isEnableUpdate:!1,newUserData:{name:this.$store.state.user.name,avatar:{file:null,url:null}},isLoading:!1}},components:{ModalChangePassword:P,Loading:c.a,ModalPayment:it},methods:{getAmount:function(t){var e=t.amount.toLocaleString("it-IT");switch(t.type){case Z.PAYMENT_TYPE.BUY_PACKAGE:return e;case Z.PAYMENT_TYPE.TOP_UP_ACCOUNT:return"+"+e;case Z.PAYMENT_TYPE.EXPORT_SUBTITLE:case Z.PAYMENT_TYPE.REVIEW_SUBTITLE_VOICE:return"-"+e}},getDescriptionPayment:function(t){switch(t.type){case Z.PAYMENT_TYPE.BUY_PACKAGE:if(t&&t.packageType){var e=Z.LIST_PACKKAGE_PRICE.find(function(e){return e.type===t.packageType});return e?"Mua Gói "+e.title:t.packageType}break;case Z.PAYMENT_TYPE.TOP_UP_ACCOUNT:return"Nạp Tiền";case Z.PAYMENT_TYPE.EXPORT_SUBTITLE:return"Lấy Subtitle";case Z.PAYMENT_TYPE.REVIEW_SUBTITLE_VOICE:return"Review Subtitle + Voice"}},getTitlePackage:function(t){var e=Z.LIST_PACKKAGE_PRICE.find(function(e){return e.type===t});return e?"Gói "+e.title:t},onClickUpdate:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.newUserData.name!==t.$store.state.user.name||t.newUserData.avatar.file){e.next=3;break}return e.abrupt("return");case 3:if(t.newUserData.name.trim()){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,(i=new FormData).append("typeUpload",Z.UPLOAD_FILE_TYPE.UPDATE_USER),t.newUserData.name!=t.$store.state.user.name&&i.append("name",t.newUserData.name),t.newUserData.avatar.file&&i.append("avatar",t.newUserData.avatar.file),e.next=12,nt.updateUser(i);case 12:(a=e.sent)&&200==a.status&&(t.userData=a.data.newUser,t.newUserData={name:a.data.newUser.name,avatar:{file:null,url:null}},t.$store.dispatch("setUser",a.data.newUser),t.$notify({type:"success",title:"Update Thành Công.!"})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(" #### Error onClickUpdate ",e.t0),t.$notify({type:"error",title:"Lỗi "+e.t0.message});case 20:t.isLoading=!1;case 21:case"end":return e.stop()}},e,t,[[0,16]])}))()},onSelectAvatar:function(){if(this.$refs.inputAvatar&&this.$refs.inputAvatar.files){var t=this.$refs.inputAvatar.files,e=URL.createObjectURL(t[0]);this.newUserData.avatar={file:t[0],url:e}}},onClickChangeAvatar:function(){this.$refs.inputAvatar.click()},formatName:function(t){try{if(t){var e=t.split(" ");t=(e=e.map(function(t){return t[0].toUpperCase()+t.substring(1,t.length)})).join(" ")}}catch(t){}return t},onClickChangePassword:function(){this.$refs.modalChangePassword.show()}},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,nt.getUserData();case 4:i=e.sent,t.userData=i.data.userData,t.$store.dispatch("setUser",i.data.userData),t.listPaymentHistory=t.userData.data.listPayment,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$push({type:"error",message:"Lỗi: "+e.t0.message});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()}},xo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pb-3"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body text-center align-items-center"},[i("div",{staticClass:"width: 100%"},[i("div",{staticClass:"mb-3",staticStyle:{"font-size":"25px"}},[i("b",[t._v(t._s(t.formatName(t.userData.name)))])]),t._v(" "),i("div",{staticClass:"container-avatar"},[t.newUserData.avatar.url?i("img",{staticClass:"avatar",attrs:{src:t.newUserData.avatar.url},on:{click:t.onClickChangeAvatar}}):i("img",{staticClass:"avatar",attrs:{src:t.userData.avatar?t.userData.avatar+"?"+Date.now():"https://www.alliancerehabmed.com/wp-content/uploads/icon-avatar-default.png"},on:{click:t.onClickChangeAvatar}}),t._v(" "),i("span",{staticClass:"text-change-avatar",on:{click:t.onClickChangeAvatar}},[t._v("Thay Avatar")])]),t._v(" "),i("input",{ref:"inputAvatar",attrs:{type:"file",hidden:"",accept:".jpg, .jpeg, .png",name:"inputAvatar",id:""},on:{change:t.onSelectAvatar}})])])])]),t._v(" "),i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block",staticStyle:{color:"#000"}},[t._v("Tên")]),t._v(" "),i("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập username"},model:{value:t.newUserData.name,callback:function(e){t.$set(t.newUserData,"name",e)},expression:"newUserData.name"}})],1),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("Tài khoản")]),t._v(" "),i("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập username",value:t.userData.username,disabled:""}})],1),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("Email")]),t._v(" "),i("b-form-input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Nhập email",value:t.userData.email,disabled:""}})],1),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block"},[t._v("Mật khẩu")]),t._v(" "),i("div",{staticClass:"row col-12"},[i("input",{staticClass:"form-control col-md-5",attrs:{disabled:"",value:"•••••••••••••"}}),t._v(" "),i("div",{staticClass:"col-md-5 d-flex align-items-center"},[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onClickChangePassword(e)}}},[t._v("Đổi mật khẩu")])])])]),t._v(" "),i("b-form-group",{attrs:{"label-class":"font-weight-bold pt-2"}},[i("div",{staticClass:"label mb-2 d-block ",staticStyle:{color:"#000"}},[t._v("\n                  Số dư tài khoản\n                ")]),t._v(" "),i("div",{staticClass:"row col-12"},[i("input",{staticClass:"form-control col-md-5 font-weight-bold",staticStyle:{color:"#000"},attrs:{disabled:""},domProps:{value:t.userData.amount?t.userData.amount.toLocaleString("it-IT"):0}}),t._v(" "),i("div",{staticClass:"col-md-5 d-flex align-items-center"},[i("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.modalPayment.show()}}},[t._v("Nạp Tiền")]),t._v(" "),i("a",{staticClass:"btn btn-info ml-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.push("/pricing")}}},[t._v("Mua Gói Cước")])])])]),t._v(" "),i("div",{staticClass:"mt-4",staticStyle:{display:"flex"}},[i("div",[i("button",{staticClass:"btn-style btn-style-sm",on:{click:t.onClickUpdate}},[t._v("\n                    UPDATE\n                  ")])]),t._v(" "),t.userData.packageType?i("div",{staticClass:"container-package"},[i("div",{staticClass:"wrap-package"},[i("div",{staticClass:"wrap-package-type"},[i("div",[i("span",{staticClass:"font-weight-bold fs-lg"},[t._v("\n                          "+t._s(t.getTitlePackage(t.userData.packageType))+":\n                        ")])])]),t._v(" "),i("div",{staticStyle:{padding:"10px 20px"}},[i("div",[i("span",[t._v("Số video render/ ngày:\n                          "),i("span",{staticClass:"font-weight-bold ml-2",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.userData.countVideoRenderOnDay))])])]),t._v(" "),i("div",[i("span",[t._v("Hôm nay còn lại video:\n                          "),i("span",{staticClass:"font-weight-bold ml-2",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.userData.videoRenderLeftOfToDay))])])]),t._v(" "),i("div",[i("span",[t._v("Số kí tự còn lại:\n                          "),i("span",{staticClass:"font-weight-bold ml-2",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.userData.countCharacterText2Voice?t.userData.countCharacterText2Voice.toLocaleString("it-IT"):0))])])]),t._v(" "),i("div",[i("span",[t._v("Ngày hết hạn:\n                          "),i("span",{staticClass:"font-weight-bold ml-2",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$moment(t.userData.packageDateExpiry).format("DD-MM-YYYY")))])])])])])]):t._e()])],1)])])])])]),t._v(" "),i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t._m(1),t._v(" "),i("div",{},[t.listPaymentHistory&&0!==t.listPaymentHistory.length?i("table",{staticClass:"bui-Table Billing--history",attrs:{id:"history"}},[t._m(2),t._v(" "),i("tbody",t._l(t.listPaymentHistory,function(e,a){return i("tr",{key:"history_"+a},[i("td",{staticClass:"date"},[t._v("\n                    "+t._s(t.$moment(e.created).format("hh:mm:ss DD-MM-YYYY"))+"\n                  ")]),t._v(" "),i("td",{staticClass:"description is-sensitive"},[i("div",{staticClass:"ellipsis-text ember-view",attrs:{id:"ember1919"}},[t._v("\n                      "+t._s(t.getDescriptionPayment(e))+"\n                    ")])]),t._v(" "),i("td",{staticClass:"amount font-weight-bold"},[t._v("\n                    "+t._s(t.getAmount(e))+"\n                  ")]),t._v(" "),i("td",{staticClass:"invoice"})])}),0)]):i("div",{staticClass:"text-center font-weight-bold"},[i("span",[t._v("Chưa có thanh toán.!")])])])])])])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"is-full-page":!0,width:50,height:50},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("ModalChangePassword",{ref:"modalChangePassword"}),t._v(" "),i("modal-payment",{ref:"modalPayment"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fhzWpZ text-center my-5"},[e("span",[this._v("THÔNG TIN TÀI KHOẢN")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-3",staticStyle:{"font-size":"25px"}},[e("b",[this._v("LỊCH SỬ THANH TOÁN")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"aurora-th date ember-view",attrs:{id:"ember1914"}},[e("span",{staticClass:"headerText"},[this._v("Date")])]),this._v(" "),e("th",{staticClass:"aurora-th description ember-view",attrs:{id:"ember1915"}},[e("span",{staticClass:"headerText"},[this._v("Description")])]),this._v(" "),e("th",{staticClass:"aurora-th amount ember-view",attrs:{id:"ember1916"}},[e("span",{staticClass:"headerText"},[this._v("Amount")])]),this._v(" "),e("th",{staticClass:"aurora-th invoice ember-view",attrs:{id:"ember1917"}},[e("span",{staticClass:"headerText"})])])])}]};var wo=i("VU/8")(Co,xo,!1,function(t){i("WphS")},"data-v-4105d393",null).exports,ko={methods:{makeFullScreen:function(t){var e=document.getElementById(t);e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():console.log("Fullscreen API is not supported")}}},So={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-3"},[i("div",[t._m(0),t._v(" "),i("div",[t._m(1),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/news-video/1.PNG",alt:"",id:"image-1"},on:{click:function(e){return t.makeFullScreen("image-1")}}})]),t._v(" "),t._m(2)])]),t._v(" "),i("div",[t._m(3),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/news-video/2.PNG",alt:"",id:"image-2"},on:{click:function(e){return t.makeFullScreen("image-2")}}})]),t._v(" "),t._m(4)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Tạo Video Từ Nhiều Layout")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("1. Giao diện chính")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn Thumbnail.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Chọn kênh muốn upload\n              ( Nếu muốn Auto Upload - Hoặc muốn ghép Intro- Outro thì chọn\n              kênh).")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v(" Chết độ hiển thị\n              video (Auto Upload).")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v(" Tiêu đề Video.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v(" Nội dung của\n              Video.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("Từ khóa của\n              video.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("Tạo Video.")]),i("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("2. Chọn Layout")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn 1 Video Nền ( Bắt\n              buộc).")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Lưu thay đổi.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Danh sách layout đã\n              chọn.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Chọn Layout mới.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("Thêm Layout (Sau khi\n              đã chỉnh sửa thông tin phía dưới).")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("Sử dụng video đã lưu\n              cùng Layout.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("Sử dụng video\n              Background bên trái.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("Chọn 1 video khác làm\n              video nền.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("9. ")]),t._v("Thay đổi những Item đã\n              chọn khi tạo Layout.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("10.")]),t._v(" Chỉnh sửa xong hãy\n              nhấn Thêm Layout (Số 5)")])])])}]};var To=i("VU/8")(ko,So,!1,function(t){i("+1jw")},"data-v-770959fb",null).exports,Vo={methods:{makeFullScreen:function(t){var e=document.getElementById(t);e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():console.log("Fullscreen API is not supported")}}},Io={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-3"},[i("div",[t._m(0),t._v(" "),i("div",[t._m(1),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/create-voice/1.PNG",alt:"",id:"image-1"},on:{click:function(e){return t.makeFullScreen("image-1")}}})]),t._v(" "),t._m(2)])]),t._v(" "),i("div",[t._m(3),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/create-voice/2.PNG",alt:"",id:"image-2"},on:{click:function(e){return t.makeFullScreen("image-2")}}})]),t._v(" "),t._m(4)])]),t._v(" "),i("div",[t._m(5),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/create-voice/3.PNG",alt:"",id:"image-3"},on:{click:function(e){return t.makeFullScreen("image-3")}}})]),t._v(" "),t._m(6)])]),t._v(" "),i("div",[t._m(7),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/create-voice/4.PNG",alt:"",id:"image-4"},on:{click:function(e){return t.makeFullScreen("image-4")}}})]),t._v(" "),t._m(8)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Tạo Giọng đọc từ văn bản")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("1. Giao diện chính")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn giọng đọc")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v(" Nghe thử giọng,\n              chỉnh speed - pitch - volume của giọng")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v(" Tiêu đề của\n              bài")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v(" Chỉnh sửa nâng cao\n              nội dung của bài viết")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v(" Nội dung của bài\n              viết")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v(" Đếm số kí tự, Số\n              dòng của bài viết")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v(" Xem thử")]),i("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("2. Nghe thử giọng, chỉnh speed - pitch - volume của giọng")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn Config giọng\n              đọc")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("\n              Chọn ngôn ngữ giọng\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v(" Chọn giọng đọc")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v(" Lưu config giọng đọc\n              ( Config lưu thông số của giọng đọc. lần sau chỉ cần chọn lại\n              config )")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Nội dung nghe thử giọng đọc\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("\n              Nghe thử\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("\n              Lưu thay đổi\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("\n              Hủy thay đổi\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("3. Chỉnh sửa nâng cao nội dung của bài viết.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v('Regex: thêm các kí tự\n              vào trong ngoặc [] để ngắt câu, xuống dòng. Ở đây đã để sẵn 1 số\n              kí tự "，，、,.「」。。？；：！".')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v('\n              Áp dụng regex để "Chia" nội dung.\n            ')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Số kí tự nhất định\n              của 1 dòng. Ví dụ: 50. 1 dòng chỉ có 50 kí tự.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v(' Áp dụng "Chia" nội\n              dung theo kí tự.')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v('\n              Các kí tự đặc biệt muốn "Xóa Bỏ".\n            ')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v('\n              Áp dụng "Xóa Bỏ" các kí tự đã điền.\n            ')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("\n              Lấy nội dung từ file subtitle (.srt, .ass)\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("\n              Nội dung của bài viết.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("9. ")]),t._v("\n              Đếm số kí tự, số dòng của bài viết.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("10. ")]),t._v("\n              Lưu thay đổi.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("11. ")]),t._v("\n              Hủy thay đổi.\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("4. Sau khi nhấn Xem Thử.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Xem thử: Hiển thị các\n              dòng văn bản riêng biệt.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("\n              Dịch văn bản từ 1 ngôn ngữ bất kì sang tiếng Việt.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v('Lưu bài viết lại =>\n              "Để có thể tạo giọng đọc".')]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Sau khi nhấn Lưu mới\n              xuất hiện. Tạo giọng đọc từ văn bản.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Xuất văn bản thành file Subtitle SRT.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("\n              Giọng đọc toàn bộ văn bản.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("\n              Tải giọng đọc.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("\n              Nội dung của 1 dòng bài viết.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("9. ")]),t._v("\n              Kết quả Dịch của 1 dòng văn bản.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("10. ")]),t._v("\n              Thay đổi giọng đọc của 1 dòng văn bản\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("11. ")]),t._v("\n              Thông tin độ dài của Giọng đọc\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("12. ")]),t._v("\n              Số kí tự của dòng văn bản\n            ")])])])}]};var Do=i("VU/8")(Vo,Io,!1,function(t){i("XLFF")},"data-v-11be59b7",null).exports,Eo={methods:{makeFullScreen:function(t){var e=document.getElementById(t);e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():console.log("Fullscreen API is not supported")}}},Lo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-3"},[i("div",[t._m(0),t._v(" "),i("div",[t._m(1),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/1.PNG",alt:"",id:"image-1"},on:{click:function(e){return t.makeFullScreen("image-1")}}})]),t._v(" "),t._m(2)])]),t._v(" "),i("div",[t._m(3),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/2.PNG",alt:"",id:"image-2"},on:{click:function(e){return t.makeFullScreen("image-2")}}})]),t._v(" "),t._m(4)])]),t._v(" "),i("div",[t._m(5),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/3.PNG",alt:"",id:"image-3"},on:{click:function(e){return t.makeFullScreen("image-3")}}})]),t._v(" "),t._m(6)])]),t._v(" "),i("div",[t._m(7),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/4.PNG",alt:"",id:"image-4"},on:{click:function(e){return t.makeFullScreen("image-4")}}})]),t._v(" "),t._m(8)])]),t._v(" "),i("div",[t._m(9),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/5.PNG",alt:"",id:"image-5"},on:{click:function(e){return t.makeFullScreen("image-5")}}})]),t._v(" "),t._m(10)])]),t._v(" "),i("div",[t._m(11),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/6.PNG",alt:"",id:"image-6"},on:{click:function(e){return t.makeFullScreen("image-6")}}})]),t._v(" "),t._m(12)])]),t._v(" "),i("div",[t._m(13),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/7.PNG",alt:"",id:"image-7"},on:{click:function(e){return t.makeFullScreen("image-7")}}})]),t._v(" "),t._m(14)])]),t._v(" "),i("div",[t._m(15),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/8.PNG",alt:"",id:"image-8"},on:{click:function(e){return t.makeFullScreen("image-8")}}})]),t._v(" "),t._m(16)])]),t._v(" "),i("div",[t._m(17),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/9.PNG",alt:"",id:"image-9"},on:{click:function(e){return t.makeFullScreen("image-9")}}})]),t._v(" "),t._m(18)])]),t._v(" "),i("div",[t._m(19),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/10.PNG",alt:"",id:"image-10"},on:{click:function(e){return t.makeFullScreen("image-10")}}})]),t._v(" "),t._m(20)])]),t._v(" "),i("div",[t._m(21),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/11.PNG",alt:"",id:"image-11"},on:{click:function(e){return t.makeFullScreen("image-11")}}})]),t._v(" "),t._m(22)])]),t._v(" "),i("div",[t._m(23),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/edit-video/12.PNG",alt:"",id:"image-12"},on:{click:function(e){return t.makeFullScreen("image-12")}}})]),t._v(" "),t._m(24)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Edit Video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("1. Layout - Chọn Video.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("0. ")]),t._v("Layout là 1 template,\n              1 khuôn mẫu sẵn, lưu các thông số như: logo - vị trí logo, video\n              MC,... tái sử dụng đi dùng lại nhiêu lần.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Tạo mới layout.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1.1. ")]),t._v("Nhập tên layout\n              mới.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1.2. ")]),t._v("Lưu - Xóa\n              layout.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("\n              Chọn Video để Chỉnh sửa.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("\n              Chọn video từ máy.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("\n              Chọn video từ link Youtube\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Chọn video từ link Facebook\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("2. Sau khi chọn Video.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Khi nhấn lưu Layout\n              thì video sẽ được lưu vào Layout đó.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Chọn video khác.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Màu nền chính.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Volume của video\n              nền.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              tốc độ của video nền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("\n              Thay đổi khung hình của video nền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("\n              Video sẽ được giữ đúng tỉ lệ, ko bị méo hình khi kéo, thay đổi\n              kích thước video.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("\n              Độ phân giải của video nền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("9. ")]),t._v("\n              Lật ngang - dọc video nền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("10. ")]),t._v("\n              Nếu có giọng đọc - subtitle: Video nền sẽ lặp lại cho = giọng\n              đọc khi video ngắn hơn giọng đọc\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("11. ")]),t._v("\n              Nếu có giọng đọc - subtitle: Video sẽ tự động thay đổi SPEED để\n              cho độ dài của video = giọng đọc\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("12. ")]),t._v("\n              Kéo thả, kích thước video tùy ý\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("3. Thêm Text.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Font chữ.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Kích cỡ chữ.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Màu chữ.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Kích cỡ viền\n              chữ.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Màu viền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("\n              Màu khung nền.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("\n              Tùy chọn nâng cao.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7.1. ")]),t._v("\n              Hiển thị FUll toàn bộ video.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7.2. ")]),t._v("\n              Thay Thế = từ khác khi tạo Video từ nhiều layout.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7.3. ")]),t._v("\n              Hiệu ứng Text chạy từ trái sang phải?.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7.4. ")]),t._v("\n              Tùy chọn thời gian hiển thị, lặp lại của Text. "),i("br"),t._v(' Ví dụ: đang xem\n              thì hiện chữ "Hãy đăng kí kênh" trong 5 giây rồi mất...\n            ')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("4. Subtitle.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Tạo Subtitle và Giọng đọc cho video.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Làm Subtitle thủ công. (Đang phát triển)\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Tải lên file Subtitle có sẵn. (Đang phát triển)")]),i("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("5. Tạo Subtitle và Giọng đọc cho video.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chế độ hiển thị subtitle: \n              "),i("br"),t._v(" - Bình thường: hiển thị từng dòng 1 giống như phim. \n              "),i("br"),t._v(" - Chạy dưới lên: Giới hạn video sẽ chạy trong khung tùy chỉnh. Text sẽ chạy liên tục từng dòng 1 từ dưới lên. giống video. "),i("a",{attrs:{target:"_blank",href:"https://youtu.be/8_DMyt2tNoE"}},[t._v("Demo")])])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Chọn Font chữ - Cỡ chữ - Kiểu chữ ( In đâm, nghiêng,..).\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Chọn Màu chữ - màu viền - màu bóng đổ.")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Kích cỡ viền, bóng đổ, Hiển thị màu nền của Text.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Vị trí của Text trong Khung Text.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v(" "),i("br"),t._v("- Giãn từ: Khoảng cách giữa 2 kí tự\n              "),i("br"),t._v("- Giãn dòng: Tăng khoảng cách giữa 2 dòng\n              "),i("br"),t._v('- Số Từ/dòng: Đối với chữ Tiếng Trung - Nhật... ( Chữ ko có dấu cách) sẽ không tự động xuống dòng đươc. Vậy cần giới hạn từ của 1 dòng.\n              Đếm số từ / 1 dòng giới hạn trong Khung Text giống "Hình Số 9"\n            ')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("6. Thêm Hình Ảnh.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Tương tự phần Text\n              "),i("br"),t._v("Kéo thả, chỉnh kích thước ảnh qua giao diện Website\n              "),i("br"),t._v("Thiết lập hiển thị ảnh thông minh.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("éo thả, chỉnh kích thước ảnh qua giao diện Website.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Thiết lập hiển thị ảnh thông minh.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("7. Thêm Âm Thanh Nền.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Thông tin của file Âm thanh\n              "),i("br"),t._v("- Thay đổi Volume. "),i("br"),t._v("- Thời gian bắt đầu chạy nhạc. "),i("br"),t._v("- Trim: cắt file nhạc.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Chọn thư mục Random nhạc (Thư mục nhạc đã tải lên trong phần QUẢN LÝ FILE)\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Tải thêm file Nhạc.\n              "),i("br"),t._v(" - Nếu có nhiều file nhạc có thể chọn Nhạc Nối Tiếp nhau hoặc nhạc chạy SONG SONG nhau")]),i("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("8. Thêm Giọng đọc từ file có sẵn.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Sự dụng giọng đọc khi ghép nhiều Layout ( Tác dụng trong trang Tạo Video).")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Thông tin file Giọng đọc giống như phần NHẠC NỀN.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Tải thêm file Giọng đọc.")]),i("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("9. Thêm Video.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4"},[e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("1. ")]),this._v("Giống như phần Thêm Text, Thêm Ảnh.")])]),this._v(" "),e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("2. ")]),this._v("Nhập mã màu nền cần loại bỏ. Như video nền xanh, nền vàng, đỏ.....\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("10. Thêm Slide Ảnh/ Video.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Lưu cố định Hình Ảnh/ Video vào Layour")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Tên Slide Video\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v("Hiển thị Full Video \n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Tùy chỉnh thời gian hiển thị\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("Thông tin của Ảnh/ Video\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("Chọn thêm ảnh/ video\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("Thêm Slide Video \n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Ẩn/ Hiện các Item Ảnh/ Video của Slide Video\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("11. Sắp xếp level hiển thị ở trên - dưới.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4"},[e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("1. ")]),this._v("Ẩn Hiển Thị.")])]),this._v(" "),e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("2. ")]),this._v("Xóa Item\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("12. Tạo Video.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn Kênh Upload. Nếu Kênh có Intro-Outro sẽ tự động được Ghép vào video.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("Nhập Tên Video.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v('Độ phân giải của video. Nếu Không có độ phân giải phù hợp. Hãy "Tạo Profile mới".\n            ')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v("Tạo Video.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("Tên Profile Render.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("Độ phân giải Ngang (Width): \n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v("Độ phân giải Dọc (Height): \n            ")])]),t._v(" "),i("p",{staticClass:"font-weight-bold"},[t._v("- With - Height phải tỉ lệ với khung hình.")]),t._v(" "),i("p",{staticClass:"font-weight-bold"},[t._v("- Ví dụ 4:5 => With: 1280 => Height = With * 5 / 4 = 16000")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("Tốc độ xử lý (ultrafast)\n            ")])])])}]};var Ao=i("VU/8")(Eo,Lo,!1,function(t){i("s8mG")},"data-v-57fe008a",null).exports,$o={methods:{makeFullScreen:function(t){var e=document.getElementById(t);e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():console.log("Fullscreen API is not supported")}}},Po={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-3"},[i("div",[t._m(0),t._v(" "),i("div",[t._m(1),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/video-to-text/1.PNG",alt:"",id:"image-1"},on:{click:function(e){return t.makeFullScreen("image-1")}}})]),t._v(" "),t._m(2)])]),t._v(" "),i("div",[t._m(3),t._v(" "),i("div",{staticClass:"row col-12 mb-3"},[i("div",{staticClass:"col-8"},[i("img",{staticClass:"img-fluid image-tutorial",attrs:{src:"/static/assets/images/tutorial/video-to-text/2.PNG",alt:"",id:"image-2"},on:{click:function(e){return t.makeFullScreen("image-2")}}})]),t._v(" "),t._m(4)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Lấy Text trong Video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("1. Chọn Video cần lấy")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4"},[e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("1. ")]),this._v("\n              Chọn Video cần lấy text\n            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 ml-2"},[e("span",{staticClass:"font-weight-bold fs-md"},[this._v("2. Giao diện chính")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-4"},[i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("1. ")]),t._v("Chọn lại video\n              khác")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("2. ")]),t._v("\n              Kéo thả khung chứa Text cần lấy.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("3. ")]),t._v(" Preview hình ảnh đã\n              cắt video")]),i("span")]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("4. ")]),t._v(" Thời gian hiện tại\n              của video."),i("br"),t._v(" Có thể sử dụng các phím: Space, Sang trái, Sang phải\n              trên bàn phím để điều khiển.")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("5. ")]),t._v("\n              Chỉnh thời gian Next. "),i("br"),t._v(" Ví dụ chọn 1 là next video 1 giây.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("6. ")]),t._v("\n              Preview Ảnh và text ở vùng đã chọn (2).\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("7. ")]),t._v('\n              Lưu text preview lại vào ô "Kết Quả (10)"\n            ')])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("8. ")]),t._v("\n              Chế độ Auto: Tự động lấy text.\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("9. ")]),t._v("\n              Hiển thị text xem thử khi nhấn vào (6)\n            ")])]),t._v(" "),i("p",[i("span",{staticClass:"font-weight-bold"},[i("span",{staticClass:"text-danger fs-lg"},[t._v("10. ")]),t._v("\n              Kếy quả\n            ")])])])}]};var Uo=i("VU/8")($o,Po,!1,function(t){i("WY2P")},"data-v-57d27171",null).exports,Fo={components:{ModalInputFile:le,Loading:c.a},data:function(){return{isPlay:!1,currentTimeVideo:0,textPreview:"",contentResult:"",urlVideo:"",isLoading:!1,key:0,nextStep:1,imageCrop:{x:0,y:0,width:200,height:200},oldResult:"",isAutoRunning:!1}},computed:{getTimeVideo:function(){return Et.a.secondsToHHMMSSM(this.currentTimeVideo)}},methods:{similarity:function(t,e){var i=t,a=e;t.length<e.length&&(i=e,a=t);var s=i.length;return 0==s?1:(s-this.editDistance(i,a))/parseFloat(s)},editDistance:function(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var i=new Array,a=0;a<=t.length;a++){for(var s=a,n=0;n<=e.length;n++)if(0==a)i[n]=n;else if(n>0){var o=i[n-1];t.charAt(a-1)!=e.charAt(n-1)&&(o=Math.min(Math.min(o,s),i[n])+1),i[n-1]=s,s=o}a>0&&(i[e.length]=s)}return i[e.length]},onChangeNextStep:function(t){this.nextStep=parseFloat(t)},onStop:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isAutoRunning=!1;case 1:case"end":return e.stop()}},e,t)}))()},onAuto:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=document.getElementById("videoPlay"),t.isAutoRunning=!0;case 3:if(!(i.currentTime<i.duration)){e.next=21;break}if(t.isAutoRunning){e.next=6;break}return e.abrupt("return");case 6:return i.currentTime+=t.nextStep,e.next=9,t.getText();case 9:if((a=e.sent)&&""!==a){e.next=14;break}return e.next=13,Et.a.sleep(1e3);case 13:return e.abrupt("continue",3);case 14:return s=!1,t.oldResult&&(t.similarity(t.oldResult,a)>.5&&(s=!0),a.includes(t.oldResult)&&(s=!0)),s||(t.contentResult+=a+"\n\n",t.oldResult=a),e.next=19,Et.a.sleep(1e3);case 19:e.next=3;break;case 21:t.$swal({type:"success",title:"Xong.!"}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:t.isAutoRunning=!1;case 28:case"end":return e.stop()}},e,t,[[0,24]])}))()},getText:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=document.getElementById("imagePreview"),a=i.getContext("2d"),s=document.getElementById("canvas"),i.width=t.imageCrop.width,i.height=t.imageCrop.height,a.drawImage(s,t.imageCrop.x,t.imageCrop.y,t.imageCrop.width,t.imageCrop.height,0,0,t.imageCrop.width,t.imageCrop.height),e.prev=6,o={image:i.toDataURL().replace("data:image/png;base64,","")},e.next=10,E.imageToText(o);case 10:if(!(r=e.sent)||200!==r.status){e.next=14;break}return t.$notify({type:"success",title:"Thành Công.!"}),e.abrupt("return",r.data.result.trim());case 14:if(!r||400!==r.status){e.next=16;break}throw new Error(r.data);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(6),e.t0;case 21:case"end":return e.stop()}},e,t,[[6,18]])}))()},onGetText:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getText();case 3:t.textPreview=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,t,[[0,6]])}))()},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.imageCrop.width=i,this.imageCrop.height=a},onDragStop:function(t,e){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e},uploadVideoMain:function(t){this.isLoading=t.isLoading,!t.isLoading&&t.url&&(this.urlVideo=t.url)},onSave:function(){this.textPreview&&(this.contentResult+=this.textPreview+"\n\n"),this.textPreview=""},onKeyDown:function(t){t.stopPropagation()},onClickPlay:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.play(),this.isPlay=!0)},onClickPause:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.pause(),this.isPlay=!1)},onClickStopVideo:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.currentTime=0)},OnTimeUpdate:function(t){this.currentTimeVideo=parseFloat(t.target.currentTime.toFixed(2));var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height)},onVideoPlay:function(t){var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");!function s(){t.target.paused||t.target.ended||(i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height),setTimeout(s,1e3/30))}()},onLoadedMeradata:function(t){var e=document.getElementById("canvas"),i=document.getElementById("container-video");e.width=i.clientWidth,e.height=i.clientWidth*t.target.videoHeight/t.target.videoWidth,t.target.currentTime=1,t.target.currentTime=0,this.key++},previousTime:function(){this.$refs.videoPlay.currentTime-=this.nextStep},nextTime:function(){this.$refs.videoPlay.currentTime+=this.nextStep},handleKeyCode:function(t){if(this.$refs.videoPlay)switch(t.code){case"ArrowLeft":return console.log(" Previous "),this.$refs.videoPlay.currentTime-=this.nextStep,t.preventDefault(),!0;case"ArrowRight":return console.log(" Next ",Ra()(this.nextStep)),this.$refs.videoPlay.currentTime+=this.nextStep,t.preventDefault(),!0;case"Space":return console.log(" Space ",this.$refs),this.$refs.videoPlay.paused?this.$refs.videoPlay.play():this.$refs.videoPlay.pause(),this.isPlay=!this.isPlay,t.preventDefault(),!0}}},destroyed:function(){document.removeEventListener("keydown",this.handleKeyCode)},mounted:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("keydown",t.handleKeyCode);case 1:case"end":return e.stop()}},e,t)}))()}},Oo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),t._m(1),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("button",{staticClass:"btn btn-upload-video-main ml-3",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n    Chọn Video Khác\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"p-3"},[i("div",{staticClass:"row col-12",staticStyle:{"justify-content":"center"}},[t.urlVideo&&""!==t.urlVideo?i("div",{ref:"containerVideo",staticClass:"col-8 border reset",attrs:{id:"container-video"}},[i("div",{staticStyle:{display:"flex"}},[i("canvas",{attrs:{id:"canvas"}}),t._v(" "),i("video",{ref:"videoPlay",staticStyle:{width:"100%",height:"100%"},attrs:{id:"videoPlay",src:t.urlVideo,controls:"",hidden:""},on:{timeupdate:t.OnTimeUpdate,play:t.onVideoPlay,loadedmetadata:t.onLoadedMeradata}}),t._v(" "),i("vue-draggable-resizable",{key:t.key,attrs:{"min-width":50,"min-height":50,width:t.imageCrop.width,height:t.imageCrop.width,x:t.imageCrop.x,y:t.imageCrop.y,"class-name":"drag-resize-item-active",active:!0,parent:!0},on:{dragstop:t.onDragStop,resizestop:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})])],1)]):i("div",{staticClass:"text-center"},[i("div",{staticClass:"color-pink",staticStyle:{"font-size":"120px"},on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[i("i",{staticClass:"fad fa-cloud-upload"})]),t._v(" "),i("button",{staticClass:"btn btn-upload-video-main",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n          Tải Lên Video\n        ")])]),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("div",{staticClass:"col-4"},[i("canvas",{staticStyle:{border:"1px solid #d3d3d3","max-width":"100%",width:"100%","max-height":"500px","object-fit":"contain"},attrs:{id:"imagePreview"}},[t._v("\n          Your browser does not support the HTML5 canvas tag.\n        ")]),t._v(" "),i("div",{staticClass:" controls"},[t.isPlay?i("button",{staticClass:"btn",on:{click:t.onClickPause}},[i("i",{staticClass:"fas fa-pause"})]):i("button",{staticClass:"btn",on:{click:t.onClickPlay}},[i("i",{staticClass:"fas fa-play"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.onClickStopVideo}},[i("i",{staticClass:"fas fa-stop"})]),t._v(" "),i("div",{staticClass:"timer text-center",staticStyle:{"min-width":"150px","max-width":"150px"}},[i("span",{staticClass:"font-weight-bold fs-xl"},[t._v(t._s(t.getTimeVideo))])]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.previousTime}},[i("i",{staticClass:"fad fa-backward"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.nextTime}},[i("i",{staticClass:"fad fa-forward"})]),t._v(" "),i("b-form-input",{staticStyle:{width:"70px"},attrs:{type:"number",min:"0.1",max:"30",step:"0.1",value:t.nextStep},on:{change:t.onChangeNextStep}})],1),t._v(" "),i("div",[i("div",{staticClass:"controls-button"},[i("button",{staticClass:"btn btn-primary px-4 mt-2",on:{click:t.onGetText}},[t._v("\n              Lấy Text\n            ")]),t._v(" "),i("button",{staticClass:"btn btn-success px-5 mt-2 mx-3",on:{click:t.onSave}},[t._v("\n              Lưu\n            ")]),t._v(" "),t.isAutoRunning?t._e():i("button",{staticClass:"btn btn-info px-5 mt-2",on:{click:t.onAuto}},[t._v("\n              Auto\n            ")]),t._v(" "),t.isAutoRunning?i("button",{staticClass:"btn btn-danger px-5 mt-2",on:{click:t.onStop}},[t._v("\n              Stop Auto\n            ")]):t._e()]),t._v(" "),i("div",{},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Text:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"5"},on:{keydown:t.onKeyDown},model:{value:t.textPreview,callback:function(e){t.textPreview=e},expression:"textPreview"}})],1)])]):t._e()])]),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("div",{staticClass:"p-3"},[i("span",{staticClass:"font-weight-bold fs-lg"},[t._v("Kết quả:")]),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm mb-2 px-3",on:{click:function(e){t.contentResult=""}}},[t._v("\n      Xóa\n    ")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"20"},on:{keydown:t.onKeyDown},model:{value:t.contentResult,callback:function(e){t.contentResult=e},expression:"contentResult"}})],1):t._e(),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:60,width:60},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{typeEdit:"SIMPLE_EDIT",totalVideoProps:1},on:{pushNewVideo:t.uploadVideoMain}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold my-3"},[this._v("Lấy text từ video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"font-weight-bold ml-2"},[this._v("*Danh sách ngôn ngữ hỗ trợ: ")]),this._v(" "),e("span",[this._v("Trung Quốc, Hà Lan, Anh, Pháp, Đức, Ý, Nhật, Bồ Đào Nha, Tây Ba\n      Nha")])])}]};var Mo=i("VU/8")(Fo,Oo,!1,function(t){i("5qCt")},"data-v-7cf83327",null).exports,Ro={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    Channel\n")])},staticRenderFns:[]};var No=i("VU/8")({},Ro,!1,function(t){i("vu/V")},null,null).exports,zo=function(){function t(){u()(this,t)}return h()(t,null,[{key:"createChannel",value:function(t){return I.post("/api/v1/channel-follower/create-channel",t)}},{key:"saveChannel",value:function(t){return I.post("/api/v1/channel-follower/save-channel",t)}},{key:"removeChannel",value:function(t){return I.post("/api/v1/channel-follower/remove-channel",t)}},{key:"getChannel",value:function(){return I.get("/api/v1/channel-follower/get-channels")}},{key:"updateListChannel",value:function(){return I.get("/api/v1/channel-follower/update-list-channel")}}]),t}(),Bo={components:{Loading:c.a,ButtonQuality:ua,draggable:de.a},data:function(){return{channelId:null,typeUpload:0,description:null,isLoading:!1,stateChannelId:null,isEdit:!1,channelEdit:null}},methods:{reset:function(){this.channelId=null,this.typeUpload=0,this.description=null,this.isLoading=!1,this.stateChannelId=null,this.isEdit=!1,this.channelEdit=null},show:function(t){this.reset(),t&&(this.channelId=t.channelId,this.description=t.description,this.isEdit=!0,this.channelEdit=t),this.$refs.modalAddChannel.show()},hide:function(){this.$refs.modalAddChannel.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a={channelId:t.channelId,description:t.description},e.next=9,zo.createChannel(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Thêm Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()},onSave:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a=m()({},t.channelEdit,{channelId:t.channelId,description:t.description}),e.next=9,zo.saveChannel(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Lưu Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()}}},Ho={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddChannel",attrs:{id:"addChannel","hide-footer":"",title:"Thêm kênh",size:"md"}},[i("b-form-group",{attrs:{label:"Nhập ID kênh:","label-class":"font-weight-bold","label-for":"channelId"}},[i("b-form-input",{attrs:{type:"text",id:"channelId",placeholder:"ID Kênh",state:t.stateChannelId},model:{value:t.channelId,callback:function(e){t.channelId=e},expression:"channelId"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ghi chú:","label-class":"font-weight-bold","label-for":"description"}},[i("b-form-input",{attrs:{type:"text",id:"description",placeholder:"Ghi chú"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center"},[t.isEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu Kênh")]):i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Kênh")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var jo={name:"quan-ly-kenh",components:{ModalAddChannelFollower:i("VU/8")(Bo,Ho,!1,function(t){i("pR/i")},null,null).exports,Loading:c.a},data:function(){return{isLoading:!1,listChannel:[],channelId:"",selectedKenh:[],channel_fields:[{key:"index",label:"#"},{key:"description",label:"Ghi chú"},{key:"name",label:"Tên kênh"},{key:"thumbnail",label:"Thumbnail"},{key:"listView",label:"Tổng view"},{key:"listSub",label:"Tổng sub"},{key:"listVideo",label:"Tổng video"},{key:"status",label:"Trạng thái"},{key:"actions",label:"Hành động"}],listDataViewDetail:[]}},methods:{updateListChannel:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,zo.updateListChannel();case 4:if(!(i=e.sent)||200!==i.status){e.next=8;break}return e.next=8,t.getChannels();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()},onEditChannel:function(t){var e=this.listChannel.find(function(e){return e._id==t});this.$refs.modalAddChannel.show(e)},onDeleteChannel:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.$swal.fire({type:"question",title:"Xoá kênh",html:"Xác nhận xoá kênh <b>"+e+"</b>",showCloseButton:!0,showCancelButton:!0,reverseButtons:!0});case 2:if(!a.sent.value){a.next=16;break}return i.isLoading=!0,a.prev=5,a.next=8,zo.removeChannel({id:t});case 8:200===(s=a.sent).status&&(s.data.result?(i.$notify({title:"Xoá Thành Công",type:"success"}),i.getChannels()):i.$notify({title:"Không Tìm Thấy Kênh",type:"error"})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 15:i.isLoading=!1;case 16:case"end":return a.stop()}},a,i,[[5,12]])}))()},getChannels:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,zo.getChannel();case 4:(i=e.sent)&&200===i.status&&(t.listChannel=i.data.listChannel),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)}},created:function(){this.getChannels()}},Go={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 grid-margin stretch-card text-left content-wrapper"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t._m(0),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-form-group",{attrs:{label:"","label-for":""}},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.$refs.modalAddChannel.show()}}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Thêm Kênh\n            ")]),t._v(" "),i("b-btn",{attrs:{variant:"success"},on:{click:t.updateListChannel}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Cập Nhật\n            ")])],1)],1)]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-table",{attrs:{items:t.listChannel,fields:t.channel_fields,responsive:"",bordered:"",striped:"",hover:""},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"cell(name)",fn:function(e){return[i("div",{},[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.item.channelId+"/videos"}},[t._v(t._s(e.item.name))])])]}},{key:"cell(thumbnail)",fn:function(t){return[i("div",[i("img",{staticStyle:{width:"50px"},attrs:{src:t.item.thumbnail}})])]}},{key:"cell(actions)",fn:function(e){return[i("div",{},[i("button",{staticClass:"btn btn-info mx-2 mt-2",on:{click:function(i){return t.onEditChannel(e.item._id)}}},[t._v("\n                  Sửa\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-danger mx-2 mt-2 ml-0",on:{click:function(i){return t.onDeleteChannel(e.item._id,e.item.name)}}},[t._v("\n                  Xoá\n                ")])])]}},{key:"cell(listView)",fn:function(e){return[1===e.item.listView.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[0].value)))])]):e.item.listView.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[e.item.listView.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[e.item.listView.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[e.item.listView.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[e.item.listView.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listView).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(listSub)",fn:function(e){return[1===e.item.listSub.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[0].value)))])]):e.item.listSub.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[e.item.listSub.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[e.item.listSub.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listSub).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(listVideo)",fn:function(e){return[1===e.item.listVideo.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[0].value)))])]):e.item.listVideo.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[e.item.listVideo.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[e.item.listVideo.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listVideo).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(status)",fn:function(e){return["DIE"===e.item.status?i("div",{staticClass:"text-center",staticStyle:{"background-color":"red","font-weight":"bold","border-radius":"10px"}},[i("span",{staticStyle:{color:"#fff"}},[t._v(t._s(e.item.status))])]):t._e(),t._v(" "),"LIVE"===e.item.status?i("div",{staticClass:"text-center",staticStyle:{"background-color":"#05ad38","font-weight":"bold","border-radius":"10px"}},[i("span",{staticStyle:{color:"#fff"}},[t._v(t._s(e.item.status))])]):t._e()]}}])})],1)])],1)]),t._v(" "),i("ModalAddChannelFollower",{ref:"modalAddChannel",on:{getChannel:t.getChannels}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("b-modal",{ref:"modalViewDetail",attrs:{scrollable:"",title:"Chi Tiết",size:"lg"}},[t.listDataViewDetail.length>0?i("div",t._l(t.listDataViewDetail,function(e,a){return i("div",[i("span",[t._v(t._s(t.$moment(e.date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.value)))])])}),0):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Theo dõi kênh")])])}]};var Yo={components:{TutorialCreateVideoFromLayout:To,TutorialCreateVoice:Do,TutorialEditVideo:Ao,VideoToText:Mo,SubscribeChannelYtb:No,ChannelFollower:i("VU/8")(jo,Go,!1,function(t){i("ZAPW")},"data-v-1cfd82f8",null).exports,TutorialVideoToText:Uo},data:function(){return{SCREEN:{TUTORIAL:"TUTORIAL",TUTORIAL_EDIT_VIDEO:"TUTORIAL_EDIT_VIDEO",TUTORIAL_CREATE_VIDEO_FROM_LAYOUT:"TUTORIAL_CREATE_VIDEO_FROM_LAYOUT",TUTORIAL_CREATE_VOICE:"TUTORIAL_CREATE_VOICE",TUTORIAL_VIDEO_TO_TEXT:"TUTORIAL_VIDEO_TO_TEXT",GET_TEXT_VIDEO:"GET_TEXT_VIDEO",SUBSCRIBE_TO_YTB:"SUBSCRIBE_TO_YTB",DOWNLOAD_APP_UPLOAD:"DOWNLOAD_APP_UPLOAD"},activeItem:"TUTORIAL_EDIT_VIDEO",showSubTutorial:!0,urlAppUpload:"https://api.alidamedia.com/file/public/app-upload/App-Upload.zip"}},methods:{},mounted:function(){}},Ko={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-ext"},[i("div",{staticClass:"container-left-slide"},[i("ul",{staticClass:"list-group list-group-flush"},[i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{active:t.activeItem.includes(t.SCREEN.TUTORIAL)},on:{click:function(e){t.activeItem=t.SCREEN.TUTORIAL,t.showSubTutorial=!0}}},[i("i",{staticClass:"fad fa-angle-double-right"}),t._v(" Hướng dẫn sử dụng\n      ")]),t._v(" "),t.showSubTutorial?i("ul",{staticClass:"list-group ml-2"},[i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{activeItemTutorial:t.activeItem===t.SCREEN.TUTORIAL_EDIT_VIDEO},on:{click:function(e){t.activeItem=t.SCREEN.TUTORIAL_EDIT_VIDEO}}},[t._v("\n          1. Chỉnh sửa video\n        ")]),t._v(" "),i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{activeItemTutorial:t.activeItem===t.SCREEN.TUTORIAL_CREATE_VIDEO_FROM_LAYOUT},on:{click:function(e){t.activeItem=t.SCREEN.TUTORIAL_CREATE_VIDEO_FROM_LAYOUT}}},[t._v("\n          2. Tạo video từ nhiều layout\n        ")]),t._v(" "),i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{activeItemTutorial:t.activeItem===t.SCREEN.TUTORIAL_CREATE_VOICE},on:{click:function(e){t.activeItem=t.SCREEN.TUTORIAL_CREATE_VOICE}}},[t._v("\n          3. Tạo Giọng đọc từ văn bản\n        ")]),t._v(" "),i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{activeItemTutorial:t.activeItem===t.SCREEN.TUTORIAL_VIDEO_TO_TEXT},on:{click:function(e){t.activeItem=t.SCREEN.TUTORIAL_VIDEO_TO_TEXT}}},[t._v("\n          4. Lấy text trong video\n        ")])]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{active:t.activeItem==t.SCREEN.GET_TEXT_VIDEO},on:{click:function(e){t.activeItem=t.SCREEN.GET_TEXT_VIDEO,t.showSubTutorial=!1}}},[i("i",{staticClass:"fad fa-angle-double-right"}),t._v(" Lấy text trong video\n      ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold",class:{active:t.activeItem==t.SCREEN.SUBSCRIBE_TO_YTB},on:{click:function(e){t.activeItem=t.SCREEN.SUBSCRIBE_TO_YTB,t.showSubTutorial=!1}}},[i("i",{staticClass:"fad fa-angle-double-right"}),t._v(" Theo dõi kênh Ytb\n      ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?i("li",{staticClass:"list-group-item list-group-item-action font-weight-bold"},[i("a",{staticClass:"ieBeil",attrs:{target:"_blank",href:t.urlAppUpload}},[i("i",{staticClass:"fad fa-angle-double-right"}),t._v(" Tải App Upload Ytb +\n          FB")])]):t._e()])]),t._v(" "),i("div",{staticClass:"container-content"},[t.activeItem==t.SCREEN.TUTORIAL_CREATE_VIDEO_FROM_LAYOUT?i("TutorialCreateVideoFromLayout"):t._e(),t._v(" "),t.activeItem==t.SCREEN.TUTORIAL_CREATE_VOICE?i("TutorialCreateVoice"):t._e(),t._v(" "),t.activeItem==t.SCREEN.TUTORIAL_EDIT_VIDEO?i("TutorialEditVideo"):t._e(),t._v(" "),t.activeItem==t.SCREEN.TUTORIAL_VIDEO_TO_TEXT?i("TutorialVideoToText"):t._e(),t._v(" "),t.activeItem==t.SCREEN.GET_TEXT_VIDEO?i("VideoToText"):t._e(),t._v(" "),t.activeItem==t.SCREEN.SUBSCRIBE_TO_YTB?i("ChannelFollower"):t._e()],1)])},staticRenderFns:[]};var Wo=i("VU/8")(Yo,Ko,!1,function(t){i("1zVA")},"data-v-ed6a2d80",null).exports,qo={name:"modal-create-video",components:{ProgressCircle:Di.a,Loading:c.a},data:function(){return{VIDEO_STATUS_UPLOAD:Z.VIDEO_STATUS_UPLOAD,isError:!1,isSuccess:!1,isUploading:!1,startCreate:!1,isLoading:!0}},props:{persent:Number,isEditVideo:Boolean,isCreateFailed:Boolean,isFinish:Boolean,data:Object},methods:{onChangeProfile:function(t){this.data.idProfile=t},onCreateVideoClick:function(){if(!this.data.name||!this.data.name.trim())return this.$swal.fire({type:"error",title:"Nhập tên video",showConfirmButton:!1,timer:1e3});this.startCreate=!0,this.isEditVideo?this.$emit("saveVideo"):this.$emit("createVideo")},showModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.$refs.myModal.show()},uploadAgain:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.$emit("setStatus",!1),this.onCreateVideoClick()},hideModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1}}},Xo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"myModal",attrs:{"hide-footer":"","no-close-on-backdrop":"",size:"lg",id:"modal-upload-file",title:t.isEditVideo?"Lưu Video":"Tạo Video"}},[i("b-row",{staticClass:"container-fluid container"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("\n          Tên Video\n          "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":\n        ")]),t._v(" "),i("b-form-input",{staticClass:"col-8",attrs:{placeholder:"Nhập tên video"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCreateVideoClick(e)}},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.startCreate,expression:"!startCreate"}],staticClass:"my-3 mt-4 px-4",attrs:{variant:"success",size:"lg"},on:{click:t.onCreateVideoClick}},[t._v(t._s(t.isEditVideo?"Lưu Video":"Tạo Video"))]),t._v(" "),i("progress-circle",{directives:[{name:"show",rawName:"v-show",value:t.startCreate,expression:"startCreate"}],attrs:{"completed-steps":t.persent,"total-steps":100,"start-color":t.isCreateFailed?"red":"green","stop-color":t.isCreateFailed?"red":"green","circle-color":"#e8e8e8",diameter:250,"animation-duration":300}},[i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v(t._s(t.persent)+"%")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed,expression:"persent === 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed&&t.isFinish,expression:"persent === 100 && !isCreateFailed && isFinish"}]},[i("span",{staticClass:"text-create"},[t._v("Thành Công")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.isCreateFailed,expression:"isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Lỗi")])])],1)],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"footer text-center"},[t.isCreateFailed?i("b-button",{attrs:{variant:"primary"},on:{click:t.uploadAgain}},[t._v("Thử Upload lại")]):t._e()],1)],1)],1)},staticRenderFns:[]};var Jo=i("VU/8")(qo,Xo,!1,function(t){i("p8YQ")},"data-v-0bbcdede",null).exports,Qo={name:"export-subtitle",components:{ModalInputFile:le,Loading:c.a,ModalCreateExportSubtitle:Jo},data:function(){return{isPlay:!1,currentTimeVideo:0,textPreview:"",contentResult:"",videoData:{name:""},isLoading:!1,key:0,imageCrop:{x:0,y:0,width:200,height:200},oldResult:"",isAutoRunning:!1,layoutMainWidth:0,layoutMainHeight:0,progressUpload:0,isCreateFailed:null,isFinish:!1,isEditVideo:!1,idVideoEdit:null}},computed:{getTimeVideo:function(){return Et.a.secondsToHHMMSSM(this.currentTimeVideo)}},methods:{setStatus:function(){this.isCreateFailed=!1},onUploadProgress:function(t){var e=100*parseFloat((t.loaded/t.total).toFixed(4));this.progressUpload=parseFloat(e.toFixed(2))},saveVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.prev=3,i={_id:t.idVideoEdit,data:t.videoData,name:t.videoData.name,file:null,type:Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO},i=Dt()(i),(a=new FormData).append("payload",i),a.append("typeUpload",Z.UPLOAD_FILE_TYPE.EXPORT_SUBTITLE_FROM_VIDEO),t.videoData&&t.videoData.file&&t.videoData.file.size>0&&"local"==t.videoData.typeUrl&&a.append("video",t.videoData.file,t.videoData.id),e.next=12,$t.updateVideo(a,{onUploadProgress:t.onUploadProgress});case 12:(s=e.sent)&&200===s.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Tạo Video Thành Công"}).then(function(e){t.$router.push("/manager-video")})):(console.log("### error res:",s),t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 21:case"end":return e.stop()}},e,t,[[3,16]])}))()},createVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.prev=3,i={data:t.videoData,name:t.videoData.name,file:null,type:Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO},i=Dt()(i),(a=new FormData).append("payload",i),a.append("typeUpload",Z.UPLOAD_FILE_TYPE.EXPORT_SUBTITLE_FROM_VIDEO),t.videoData&&t.videoData.file&&"local"==t.videoData.typeUrl&&a.append("video",t.videoData.file,t.videoData.id),e.next=12,$t.createVideo(a,{onUploadProgress:t.onUploadProgress});case 12:(s=e.sent)&&200===s.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Tạo Video Thành Công"}).then(function(e){t.$router.push("/manager-video")})):(console.log("### error res:",s),t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 21:case"end":return e.stop()}},e,t,[[3,16]])}))()},getText:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=document.createElement("canvas"),a=i.getContext("2d"),s=document.getElementById("canvas"),i.width=t.imageCrop.width,i.height=t.imageCrop.height,a.drawImage(s,t.imageCrop.x,t.imageCrop.y,t.imageCrop.width,t.imageCrop.height,0,0,t.imageCrop.width,t.imageCrop.height),e.prev=6,o=3,r={image:i.toDataURL().replace("data:image/png;base64,","")};case 9:if(!(o>0)){e.next=23;break}return e.next=12,E.imageToText(r);case 12:if(!(l=e.sent)||200!==l.status){e.next=16;break}return t.$notify({type:"success",title:"Thành Công.!"}),e.abrupt("return",l.data.result.trim());case 16:if(!l||400!==l.status){e.next=18;break}throw new Error(l.data);case 18:return o--,e.next=21,Et.a.sleep(1e3);case 21:e.next=9;break;case 23:e.next=28;break;case 25:throw e.prev=25,e.t0=e.catch(6),e.t0;case 28:case"end":return e.stop()}},e,t,[[6,25]])}))()},onGetText:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getText();case 3:t.textPreview=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,t,[[0,6]])}))()},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.imageCrop.width=i,this.imageCrop.height=a,this.videoData.width=i/this.layoutMainWidth,this.videoData.height=a/this.layoutMainHeight,this.videoData.x=t/this.layoutMainWidth,this.videoData.y=e/this.layoutMainHeight},onDragStop:function(t,e){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.videoData.x=t/this.layoutMainWidth,this.videoData.y=e/this.layoutMainHeight},uploadVideoMain:function(t){this.isLoading=t.isLoading,!t.isLoading&&t.url&&(this.videoData=m()({},t,{x:0,y:0,width:.7,height:.2}),this.isLoading=!1)},onKeyDown:function(t){t.stopPropagation()},onClickPlay:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.play(),this.isPlay=!0)},onClickPause:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.pause(),this.isPlay=!1)},onClickStopVideo:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.currentTime=0)},OnTimeUpdate:function(t){this.currentTimeVideo=parseFloat(t.target.currentTime.toFixed(2));var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay"),s=document.getElementById("container-video");this.layoutMainWidth&&this.layoutMainHeight||(this.layoutMainWidth=s.clientWidth,this.layoutMainHeight=s.clientWidth*t.target.videoHeight/t.target.videoWidth,e.width=s.clientWidth,e.height=s.clientWidth*t.target.videoHeight/t.target.videoWidth,this.key++),i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height)},onVideoPlay:function(t){var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");!function s(){t.target.paused||t.target.ended||(i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height),setTimeout(s,1e3/30))}()},onLoadedMeradata:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.target.currentTime=1,t.target.currentTime=0,a=document.getElementById("canvas"),s=document.getElementById("container-video"),a.width=s.clientWidth,a.height=s.clientWidth*t.target.videoHeight/t.target.videoWidth,e.key++;case 7:case"end":return i.stop()}},i,e)}))()},previousTime:function(){this.$refs.videoPlay.currentTime-=3},nextTime:function(){this.$refs.videoPlay.currentTime+=3},handleKeyCode:function(t){if(this.$refs.videoPlay)switch(t.code){case"ArrowLeft":return this.$refs.videoPlay.currentTime-=3,t.preventDefault(),!0;case"ArrowRight":return this.$refs.videoPlay.currentTime+=3,t.preventDefault(),!0;case"Space":return this.$refs.videoPlay.paused?this.$refs.videoPlay.play():this.$refs.videoPlay.pause(),this.isPlay=!this.isPlay,t.preventDefault(),!0}}},destroyed:function(){document.removeEventListener("keydown",this.handleKeyCode)},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.addEventListener("keydown",t.handleKeyCode),!t.$route.query||!t.$route.query.idVideo){e.next=13;break}return e.prev=2,e.next=5,$t.getVideoById({idVideo:t.$route.query.idVideo});case 5:200===(i=e.sent).status&&i.data.video&&((a=i.data.video).data=JSON.parse(a.data),t.isEditVideo=!0,t.idVideoEdit=a._id,t.videoData=a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 12:t.isLoading=!1;case 13:case"end":return e.stop()}},e,t,[[2,9]])}))()}},Zo={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),t._m(1),t._v(" "),t.videoData&&t.videoData.url?i("button",{staticClass:"btn btn-upload-video-main ml-3",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n    Chọn Video Khác\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"p-3"},[i("div",{staticClass:"row col-12",staticStyle:{"justify-content":"center"}},[t.videoData&&t.videoData.url?i("div",{ref:"containerVideo",staticClass:"col-8 border reset",style:"height: "+t.layoutMainHeight+"px; width: "+t.layoutMainWidth+"px",attrs:{id:"container-video"}},[i("canvas",{attrs:{id:"canvas"}}),t._v(" "),i("video",{ref:"videoPlay",staticStyle:{width:"100%",height:"100%"},attrs:{id:"videoPlay",src:t.videoData.url,controls:"",hidden:""},on:{timeupdate:t.OnTimeUpdate,play:t.onVideoPlay,loadedmetadata:t.onLoadedMeradata}}),t._v(" "),i("vue-draggable-resizable",{key:t.key,attrs:{"min-width":50,"min-height":50,"class-name":"drag-resize-item-active",active:!0,parent:!0,x:t.videoData&&t.videoData.x&&t.layoutMainWidth?t.videoData.x*t.layoutMainWidth:0,y:t.videoData&&t.videoData.y&&t.layoutMainWidth?t.videoData.y*t.layoutMainHeight:0,w:t.videoData&&t.videoData.width&&t.layoutMainWidth?t.videoData.width*t.layoutMainWidth:600,h:t.videoData&&t.videoData.height&&t.layoutMainWidth?t.videoData.height*t.layoutMainHeight:100},on:{dragstop:t.onDragStop,resizestop:t.onResizeStop,dragging:t.onDragStop,resizing:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})])],1):i("div",{staticClass:"text-center"},[i("div",{staticClass:"color-pink",staticStyle:{"font-size":"120px"},on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[i("i",{staticClass:"fad fa-cloud-upload"})]),t._v(" "),i("button",{staticClass:"btn btn-upload-video-main",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n          Tải Lên Video\n        ")])]),t._v(" "),t.videoData&&t.videoData.url?i("div",{staticClass:"col-4"},[t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:" controls"},[t.isPlay?i("button",{staticClass:"btn",on:{click:t.onClickPause}},[i("i",{staticClass:"fas fa-pause"})]):i("button",{staticClass:"btn",on:{click:t.onClickPlay}},[i("i",{staticClass:"fas fa-play"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.onClickStopVideo}},[i("i",{staticClass:"fas fa-stop"})]),t._v(" "),i("div",{staticClass:"timer text-center",staticStyle:{"min-width":"150px","max-width":"150px"}},[i("span",{staticClass:"font-weight-bold fs-xl"},[t._v(t._s(t.getTimeVideo))])]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.previousTime}},[i("i",{staticClass:"fad fa-backward"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.nextTime}},[i("i",{staticClass:"fad fa-forward"})])]),t._v(" "),i("div",[i("div",{staticClass:"controls-button"},[i("button",{staticClass:"btn btn-primary px-4 mt-2 mr-3",on:{click:t.onGetText}},[t._v("\n              Thử Lấy Text\n            ")]),t._v(" "),i("button",{staticClass:"btn btn-success px-4 mt-2",on:{click:function(e){return t.$refs.modalCreateVideo.showModal()}}},[t._v("\n              Lấy Subtitle\n            ")])]),t._v(" "),t.textPreview?i("div",{},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Text:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"5"},on:{keydown:t.onKeyDown},model:{value:t.textPreview,callback:function(e){t.textPreview=e},expression:"textPreview"}})],1):t._e()])]):t._e()])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:60,width:60},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{typeEdit:"SIMPLE_EDIT",totalVideoProps:1},on:{pushNewVideo:t.uploadVideoMain}}),t._v(" "),i("ModalCreateExportSubtitle",{ref:"modalCreateVideo",attrs:{persent:t.progressUpload,isEditVideo:t.isEditVideo,data:t.videoData,isCreateFailed:t.isCreateFailed,isFinish:t.isFinish,type:"EXPORT_SUBTITLE_FROM_VIDEO"},on:{createVideo:t.createVideo,saveVideo:t.saveVideo,setStatus:t.setStatus}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold my-3"},[this._v("Lấy subtitle từ video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h5",{staticClass:"font-weight-bold my-3"},[this._v("Lưu ý video phải có subtitle cứng!")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("1. ")]),this._v("Chọn vùng hiển thị\n            subtitle.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("2. ")]),this._v("Lấy thử text xem chính\n            xác chưa.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("3. ")]),this._v("Lấy Subtile")])])}]};var tr=i("VU/8")(Qo,Zo,!1,function(t){i("l2SE")},"data-v-3d025cda",null).exports,er={name:"modal-create-video",components:{ProgressCircle:Di.a,Loading:c.a},data:function(){return{VIDEO_STATUS_UPLOAD:Z.VIDEO_STATUS_UPLOAD,isError:!1,isSuccess:!1,isUploading:!1,startCreate:!1,isLoading:!0}},props:{persent:Number,isEditVideo:Boolean,isCreateFailed:Boolean,isFinish:Boolean,data:Object},methods:{onChangeProfile:function(t){this.data.idProfile=t},onCreateVideoClick:function(){if(!this.data.name||!this.data.name.trim())return this.$swal.fire({type:"error",title:"Nhập tên video",showConfirmButton:!1,timer:1e3});this.startCreate=!0,this.isEditVideo?this.$emit("saveVideo"):this.$emit("createVideo")},showModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.$refs.myModal.show()},uploadAgain:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1,this.$emit("setStatus",!1),this.onCreateVideoClick()},hideModal:function(){this.isError=!1,this.isSuccess=!1,this.isUploading=!1,this.startCreate=!1}}},ir={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("b-modal",{ref:"myModal",attrs:{"hide-footer":"","no-close-on-backdrop":"",size:"lg",id:"modal-upload-file",title:t.isEditVideo?"Lưu Video":"Tạo Video"}},[i("b-row",{staticClass:"container-fluid container"},[i("div",{staticClass:"row col-12 align-items-center"},[i("span",{staticClass:"font-weight-bold mr-2",staticStyle:{width:"110px"}},[t._v("\n          Tên Video\n          "),i("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v(":\n        ")]),t._v(" "),i("b-form-input",{staticClass:"col-8",attrs:{placeholder:"Nhập tên video"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onCreateVideoClick(e)}},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),t._v(" "),i("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.startCreate,expression:"!startCreate"}],staticClass:"my-3 mt-4 px-4",attrs:{variant:"success",size:"lg"},on:{click:t.onCreateVideoClick}},[t._v(t._s(t.isEditVideo?"Lưu Video":"Tạo Video"))]),t._v(" "),i("progress-circle",{directives:[{name:"show",rawName:"v-show",value:t.startCreate,expression:"startCreate"}],attrs:{"completed-steps":t.persent,"total-steps":100,"start-color":t.isCreateFailed?"red":"green","stop-color":t.isCreateFailed?"red":"green","circle-color":"#e8e8e8",diameter:250,"animation-duration":300}},[i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.persent<100&&!t.isCreateFailed,expression:"persent < 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v(t._s(t.persent)+"%")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed,expression:"persent === 100 && !isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Đang Tải Lên")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:100===t.persent&&!t.isCreateFailed&&t.isFinish,expression:"persent === 100 && !isCreateFailed && isFinish"}]},[i("span",{staticClass:"text-create"},[t._v("Thành Công")])]),t._v(" "),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.isCreateFailed,expression:"isCreateFailed"}]},[i("span",{staticClass:"text-create"},[t._v("Lỗi")])])],1)],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"footer text-center"},[t.isCreateFailed?i("b-button",{attrs:{variant:"primary"},on:{click:t.uploadAgain}},[t._v("Thử Upload lại")]):t._e()],1)],1)],1)},staticRenderFns:[]};var ar=i("VU/8")(er,ir,!1,function(t){i("mCgg")},"data-v-2aa02c24",null).exports,sr={name:"export-subtitle",components:{ModalInputFile:le,Loading:c.a,ModalCreateExportSubtitle:ar},data:function(){return{isPlay:!1,currentTimeVideo:0,textPreview:"",contentResult:"",videoData:{name:""},isLoading:!1,key:0,imageCrop:{x:0,y:0,width:200,height:200},oldResult:"",isAutoRunning:!1,layoutMainWidth:0,layoutMainHeight:0,progressUpload:0,isCreateFailed:null,isFinish:!1,isEditVideo:!1,idVideoEdit:null}},computed:{getTimeVideo:function(){return Et.a.secondsToHHMMSSM(this.currentTimeVideo)}},methods:{setStatus:function(){this.isCreateFailed=!1},onUploadProgress:function(t){var e=100*parseFloat((t.loaded/t.total).toFixed(4));this.progressUpload=parseFloat(e.toFixed(2))},saveVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.prev=3,i={_id:t.idVideoEdit,data:m()({},t.videoData,{type:"VERSION_2"}),name:t.videoData.name,file:null,type:Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO},i=Dt()(i),(a=new FormData).append("payload",i),a.append("typeUpload",Z.UPLOAD_FILE_TYPE.EXPORT_SUBTITLE_FROM_VIDEO),t.videoData&&t.videoData.file&&t.videoData.file.size>0&&"local"==t.videoData.typeUrl&&a.append("video",t.videoData.file,t.videoData.id),e.next=12,$t.updateVideo(a,{onUploadProgress:t.onUploadProgress});case 12:(s=e.sent)&&200===s.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Tạo Video Thành Công"}).then(function(e){t.$router.push("/manager-video")})):(console.log("### error res:",s),t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 21:case"end":return e.stop()}},e,t,[[3,16]])}))()},createVideo:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressUpload=0,t.isCreateFailed=!1,t.isFinish=!1,e.prev=3,i={data:m()({},t.videoData,{type:"VERSION_2"}),name:t.videoData.name,file:null,type:Z.VIDEO_TYPE.EXPORT_SUBTITLE_FROM_VIDEO},i=Dt()(i),(a=new FormData).append("payload",i),a.append("typeUpload",Z.UPLOAD_FILE_TYPE.EXPORT_SUBTITLE_FROM_VIDEO),t.videoData&&t.videoData.file&&"local"==t.videoData.typeUrl&&a.append("video",t.videoData.file,t.videoData.id),e.next=12,$t.createVideo(a,{onUploadProgress:t.onUploadProgress});case 12:(s=e.sent)&&200===s.status?(t.isCreateFailed=!1,t.isFinish=!0,t.$swal.fire({type:"success",title:"Tạo Video Thành Công"}).then(function(e){t.$router.push("/manager-video")})):(console.log("### error res:",s),t.isCreateFailed=!0,t.$swal.fire({type:"error",title:"Lỗi Server",showConfirmButton:!1,timer:1e3})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("### error:",e.t0),t.$swal.fire({type:"error",title:"Lỗi: "+e.t0,showCancelButton:!0}),t.isCreateFailed=!0;case 21:case"end":return e.stop()}},e,t,[[3,16]])}))()},getText:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=document.createElement("canvas"),a=i.getContext("2d"),s=document.getElementById("canvas"),i.width=t.imageCrop.width,i.height=t.imageCrop.height,a.drawImage(s,t.imageCrop.x,t.imageCrop.y,t.imageCrop.width,t.imageCrop.height,0,0,t.imageCrop.width,t.imageCrop.height),e.prev=6,o=3,r={image:i.toDataURL().replace("data:image/png;base64,","")};case 9:if(!(o>0)){e.next=23;break}return e.next=12,E.imageToText(r);case 12:if(!(l=e.sent)||200!==l.status){e.next=16;break}return t.$notify({type:"success",title:"Thành Công.!"}),e.abrupt("return",l.data.result.trim());case 16:if(!l||400!==l.status){e.next=18;break}throw new Error(l.data);case 18:return o--,e.next=21,Et.a.sleep(1e3);case 21:e.next=9;break;case 23:e.next=28;break;case 25:throw e.prev=25,e.t0=e.catch(6),e.t0;case 28:case"end":return e.stop()}},e,t,[[6,25]])}))()},onGetText:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getText();case 3:t.textPreview=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,t,[[0,6]])}))()},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.imageCrop.width=i,this.imageCrop.height=a,this.videoData.width=i/this.layoutMainWidth,this.videoData.height=a/this.layoutMainHeight,this.videoData.x=t/this.layoutMainWidth,this.videoData.y=e/this.layoutMainHeight},onDragStop:function(t,e){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.videoData.x=t/this.layoutMainWidth,this.videoData.y=e/this.layoutMainHeight},uploadVideoMain:function(t){this.isLoading=t.isLoading,!t.isLoading&&t.url&&(this.videoData=m()({},t,{x:0,y:0,width:.7,height:.2}),this.isLoading=!1)},onKeyDown:function(t){t.stopPropagation()},onClickPlay:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.play(),this.isPlay=!0)},onClickPause:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.pause(),this.isPlay=!1)},onClickStopVideo:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.currentTime=0)},OnTimeUpdate:function(t){this.currentTimeVideo=parseFloat(t.target.currentTime.toFixed(2));var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay"),s=document.getElementById("container-video");this.layoutMainWidth&&this.layoutMainHeight||(this.layoutMainWidth=s.clientWidth,this.layoutMainHeight=s.clientWidth*t.target.videoHeight/t.target.videoWidth,e.width=s.clientWidth,e.height=s.clientWidth*t.target.videoHeight/t.target.videoWidth,this.key++),i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height)},onVideoPlay:function(t){var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");!function s(){t.target.paused||t.target.ended||(i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height),setTimeout(s,1e3/30))}()},onLoadedMeradata:function(t){var e=this;return r()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.target.currentTime=1,t.target.currentTime=0,a=document.getElementById("canvas"),s=document.getElementById("container-video"),a.width=s.clientWidth,a.height=s.clientWidth*t.target.videoHeight/t.target.videoWidth,e.key++;case 7:case"end":return i.stop()}},i,e)}))()},previousTime:function(){this.$refs.videoPlay.currentTime-=3},nextTime:function(){this.$refs.videoPlay.currentTime+=3},handleKeyCode:function(t){if(this.$refs.videoPlay)switch(t.code){case"ArrowLeft":return this.$refs.videoPlay.currentTime-=3,t.preventDefault(),!0;case"ArrowRight":return this.$refs.videoPlay.currentTime+=3,t.preventDefault(),!0;case"Space":return this.$refs.videoPlay.paused?this.$refs.videoPlay.play():this.$refs.videoPlay.pause(),this.isPlay=!this.isPlay,t.preventDefault(),!0}}},destroyed:function(){document.removeEventListener("keydown",this.handleKeyCode)},mounted:function(){var t=this;return r()(n.a.mark(function e(){var i,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.addEventListener("keydown",t.handleKeyCode),!t.$route.query||!t.$route.query.idVideo){e.next=13;break}return e.prev=2,e.next=5,$t.getVideoById({idVideo:t.$route.query.idVideo});case 5:200===(i=e.sent).status&&i.data.video&&((a=i.data.video).data=JSON.parse(a.data),t.isEditVideo=!0,t.idVideoEdit=a._id,t.videoData=a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.$notify({type:"error",title:"Lỗi: "+e.t0.message});case 12:t.isLoading=!1;case 13:case"end":return e.stop()}},e,t,[[2,9]])}))()}},nr={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),t._m(1),t._v(" "),t.videoData&&t.videoData.url?i("button",{staticClass:"btn btn-upload-video-main ml-3",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n    Chọn Video Khác\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"p-3"},[i("div",{staticClass:"row col-12",staticStyle:{"justify-content":"center"}},[t.videoData&&t.videoData.url?i("div",{ref:"containerVideo",staticClass:"col-8 border reset",style:"height: "+t.layoutMainHeight+"px; width: "+t.layoutMainWidth+"px",attrs:{id:"container-video"}},[i("canvas",{attrs:{id:"canvas"}}),t._v(" "),i("video",{ref:"videoPlay",staticStyle:{width:"100%",height:"100%"},attrs:{id:"videoPlay",src:t.videoData.url,controls:"",hidden:""},on:{timeupdate:t.OnTimeUpdate,play:t.onVideoPlay,loadedmetadata:t.onLoadedMeradata}}),t._v(" "),i("vue-draggable-resizable",{key:t.key,attrs:{"min-width":50,"min-height":50,"class-name":"drag-resize-item-active",active:!0,parent:!0,x:t.videoData&&t.videoData.x&&t.layoutMainWidth?t.videoData.x*t.layoutMainWidth:0,y:t.videoData&&t.videoData.y&&t.layoutMainWidth?t.videoData.y*t.layoutMainHeight:0,w:t.videoData&&t.videoData.width&&t.layoutMainWidth?t.videoData.width*t.layoutMainWidth:600,h:t.videoData&&t.videoData.height&&t.layoutMainWidth?t.videoData.height*t.layoutMainHeight:100},on:{dragstop:t.onDragStop,resizestop:t.onResizeStop,dragging:t.onDragStop,resizing:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})])],1):i("div",{staticClass:"text-center"},[i("div",{staticClass:"color-pink",staticStyle:{"font-size":"120px"},on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[i("i",{staticClass:"fad fa-cloud-upload"})]),t._v(" "),i("button",{staticClass:"btn btn-upload-video-main",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n          Tải Lên Video\n        ")])]),t._v(" "),t.videoData&&t.videoData.url?i("div",{staticClass:"col-4"},[t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:" controls"},[t.isPlay?i("button",{staticClass:"btn",on:{click:t.onClickPause}},[i("i",{staticClass:"fas fa-pause"})]):i("button",{staticClass:"btn",on:{click:t.onClickPlay}},[i("i",{staticClass:"fas fa-play"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.onClickStopVideo}},[i("i",{staticClass:"fas fa-stop"})]),t._v(" "),i("div",{staticClass:"timer text-center",staticStyle:{"min-width":"150px","max-width":"150px"}},[i("span",{staticClass:"font-weight-bold fs-xl"},[t._v(t._s(t.getTimeVideo))])]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.previousTime}},[i("i",{staticClass:"fad fa-backward"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.nextTime}},[i("i",{staticClass:"fad fa-forward"})])]),t._v(" "),i("div",[i("div",{staticClass:"controls-button"},[i("button",{staticClass:"btn btn-primary px-4 mt-2 mr-3",on:{click:t.onGetText}},[t._v("\n              Thử Lấy Text\n            ")]),t._v(" "),i("button",{staticClass:"btn btn-success px-4 mt-2",on:{click:function(e){return t.$refs.modalCreateVideo.showModal()}}},[t._v("\n              Lấy Subtitle\n            ")])]),t._v(" "),t.textPreview?i("div",{},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Text:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"5"},on:{keydown:t.onKeyDown},model:{value:t.textPreview,callback:function(e){t.textPreview=e},expression:"textPreview"}})],1):t._e()])]):t._e()])]),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:60,width:60},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{typeEdit:"SIMPLE_EDIT",totalVideoProps:1},on:{pushNewVideo:t.uploadVideoMain}}),t._v(" "),i("ModalCreateExportSubtitle",{ref:"modalCreateVideo",attrs:{persent:t.progressUpload,isEditVideo:t.isEditVideo,data:t.videoData,isCreateFailed:t.isCreateFailed,isFinish:t.isFinish,type:"EXPORT_SUBTITLE_FROM_VIDEO"},on:{createVideo:t.createVideo,saveVideo:t.saveVideo,setStatus:t.setStatus}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold my-3"},[this._v("Lấy subtitle từ video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h5",{staticClass:"font-weight-bold my-3"},[this._v("Lưu ý video phải có subtitle cứng!")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("1. ")]),this._v("Chọn vùng hiển thị\n            subtitle.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("2. ")]),this._v("Lấy thử text xem chính\n            xác chưa.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"font-weight-bold"},[e("span",{staticClass:"text-danger fs-lg"},[this._v("3. ")]),this._v("Lấy Subtile")])])}]};var or=i("VU/8")(sr,nr,!1,function(t){i("UkFf")},"data-v-0a5df1a2",null).exports,rr={directives:{ClickOutside:z.a},components:{Loading:c.a},data:function(){return{isLoading:null,fontUrl:null,name:null,nameDisplay:null,fontFile:null,listFont:this.$store.state.data.listFont,CONSTANT_SUB_TYPE:{NONE:Z.SUBTITLE_TYPE.NONE,DEFAULT:Z.SUBTITLE_TYPE.DEFAULT,BOTTOM_TO_TOP:Z.SUBTITLE_TYPE.BOTTOM_TO_TOP},layoutMain:{width:1280,height:720},subtitleData:{id:Et.a.generateKey(),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100},fontsizeDisplay:30,fontsize:30/(this.layoutMain?this.layoutMain.width:1280),fontfamily:this.$store.state.data.listFont.length>0?this.$store.state.data.listFont[0].name:null,stroke:{sizeDisplay:1,size:1/(this.layoutMain?this.layoutMain.width:1280),color:{rgb:{r:255,g:255,b:255},hex:"#ffffff",opacity:100}},x:0,y:0,width:.3,height:.3,content:"Text Subtitle",contentHtml:"Text Subtitle",type:Z.SUBTITLE_TYPE.DEFAULT,style:{bold:0,italic:0,underline:0,strikeout:0},position:2,spacing:0,shadow:{sizeDisplay:1,size:1/(this.layoutMain?this.layoutMain.width:1280),color:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100}},voice:null,voiceData:{speed:100,volume:100,pitch:100,feeling:2,noteVibes_pitch:0,noteVibes_speed:1,noteVibes_sayAs:null,noteVibes_volume:null,noteVibes_emphasis:null,noteVibes_pauses:null},limitCharacter:0,isShow:!0}}},mounted:function(){},methods:{onChangeStrokeSize:function(){this.subtitle.data.stroke.size=this.subtitle.data.stroke.sizeDisplay/this.layoutMain.width},onChangeShadowSize:function(){this.subtitle.data.shadow.size=this.subtitle.data.shadow.sizeDisplay/this.layoutMain.width},onChangeFontSize:function(){this.subtitle.data.fontsize=this.subtitle.data.fontsizeDisplay/this.layoutMain.width},hideColorPicker1:function(){this.$refs.colorPickerCustom1&&this.$refs.colorPickerCustom1.hide()},hideColorPicker2:function(){this.$refs.colorPickerCustom2&&this.$refs.colorPickerCustom2.hide()},hideColorPicker3:function(){this.$refs.colorPickerCustom3&&this.$refs.colorPickerCustom3.hide()},reset:function(){this.isLoading=!1,this.fontUrl=null,this.name=null,this.nameDisplay=null,this.fontFile=null},show:function(){this.reset(),this.$refs.modalAddFont.show()},hide:function(){this.$refs.modalAddFont.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.name&&t.fontUrl&&t.nameDisplay&&t.fontFile){e.next=4;break}return t.$notify({title:"Chưa Điền Đủ Thông Tin",type:"warn"}),e.abrupt("return");case 4:return(i=new FormData).append("name",t.name),i.append("fontUrl",t.fontUrl),i.append("nameDisplay",t.nameDisplay),i.append("fontFile",t.fontFile),t.fontFile.map(function(t){i.append("font",t)}),t.isLoading=!0,e.next=13,As(i);case 13:(a=e.sent)&&200===a.status&&(s=a.data.allFont,t.$store.dispatch("updateListFont",s),t.$emit("reload"),t.$notify({type:"success",title:"Thêm Font Thành Công"}),t.hide()),t.isLoading=!1,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 21:case"end":return e.stop()}},e,t,[[0,18]])}))()}}},lr={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddFont",attrs:{id:"modalAddFont","hide-footer":"",title:"Xuất File Subtitle","title-class":"font-weight-bold",size:"md","no-close-on-esc":"","no-close-on-backdrop":""}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.subtitleData.type!=t.CONSTANT_SUB_TYPE.NONE,expression:"subtitleData.type != CONSTANT_SUB_TYPE.NONE"}],staticClass:"text-properties sub-box"},[i("div",{staticClass:"container-box"},[i("div",{staticClass:"wrapper-style-name"},[i("b-form-group",{staticClass:"font-weight-bold fs-sm",attrs:{label:"Font chữ"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.fontfamily,expression:"subtitleData.fontfamily"}],staticClass:"form-control wrapper-item-input mr-1",staticStyle:{width:"250px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.subtitleData,"fontfamily",e.target.multiple?i:i[0])}}},t._l(t.listFont,function(e,a){return i("option",{key:a,domProps:{value:e.name}},[t._v("\n              "+t._s(e.nameDisplay)+"\n            ")])}),0)]),t._v(" "),i("b-form-group",{staticClass:"font-weight-bold fs-sm ml-2",attrs:{label:"Size"}},[i("b-form-input",{staticClass:"wrapper-item-input",staticStyle:{width:"80px",padding:"4px 6px"},attrs:{type:"number",min:"1",step:"1"},on:{change:t.onChangeFontSize},model:{value:t.subtitleData.fontsizeDisplay,callback:function(e){t.$set(t.subtitleData,"fontsizeDisplay",e)},expression:"subtitleData.fontsizeDisplay"}})],1)],1),t._v(" "),i("div",{staticClass:"wrapper-style-text text-gray"},[i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{value:-1,"unchecked-value":0,size:"sm"},model:{value:t.subtitleData.style.bold,callback:function(e){t.$set(t.subtitleData.style,"bold",e)},expression:"subtitleData.style.bold"}},[t._v("Bold")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.italic,callback:function(e){t.$set(t.subtitleData.style,"italic",e)},expression:"subtitleData.style.italic"}},[t._v("Italic")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.underline,callback:function(e){t.$set(t.subtitleData.style,"underline",e)},expression:"subtitleData.style.underline"}},[t._v("Underline")]),t._v(" "),i("b-form-checkbox",{staticClass:"type-subtitle",attrs:{size:"sm",value:-1,"unchecked-value":0},model:{value:t.subtitleData.style.strikeout,callback:function(e){t.$set(t.subtitleData.style,"strikeout",e)},expression:"subtitleData.style.strikeout"}},[t._v("Strikeout")])],1)]),t._v(" "),i("span",{staticClass:"mt-2 box-label fs-14 font-weight-bold"},[t._v("Màu chữ:")]),t._v(" "),i("div",{staticClass:"container-box pt-0"},[i("div",{staticStyle:{display:"flex","flex-direction":"row"}},[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker1,expression:"hideColorPicker1"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Chữ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 10px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom1.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.color.rgb.r+","+t.subtitleData.color.rgb.g+","+t.subtitleData.color.rgb.b+","+t.subtitleData.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker2,expression:"hideColorPicker2"}],staticClass:"text-center mx-2"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Viền")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom2.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.stroke.color.rgb.r+","+t.subtitleData.stroke.color.rgb.g+","+t.subtitleData.stroke.color.rgb.b+","+t.subtitleData.stroke.color.opacity/100+")"}})])])]),t._v(" "),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideColorPicker3,expression:"hideColorPicker3"}],staticClass:"text-center"},[i("span",{staticClass:"fs-12 text-gray"},[t._v("Bóng đổ")]),t._v(" "),i("div",[i("button",{staticClass:"btn",staticStyle:{width:"80px",height:"30px",padding:"5px 15px","background-color":"#fff"},on:{click:function(e){return t.$refs.colorPickerCustom3.show()}}},[i("div",{staticStyle:{width:"100%",height:"100%",border:"1px solid gray"},style:{backgroundColor:"rgba("+t.subtitleData.shadow.color.rgb.r+","+t.subtitleData.shadow.color.rgb.g+","+t.subtitleData.shadow.color.rgb.b+","+t.subtitleData.shadow.color.opacity/100+")"}})])])])])]),t._v(" "),i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Viền chữ:")]),t._v(" "),i("div",{staticClass:"container-box fs-14",staticStyle:{"flex-direction":"row",display:"flex","justify-content":"space-between"}},[i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-sm text-gray"},[t._v("Size viền:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.stroke.sizeDisplay,expression:"subtitleData.stroke.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitleData.stroke.sizeDisplay},on:{change:t.onChangeStrokeSize,input:function(e){e.target.composing||t.$set(t.subtitleData.stroke,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center"},[i("span",{staticClass:"fs-sm text-gray"},[t._v("Bóng đổ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.shadow.sizeDisplay,expression:"subtitleData.shadow.sizeDisplay"}],staticClass:"text-center wrapper-item-input",staticStyle:{flex:"1",height:"30px",width:"50px"},attrs:{type:"number",min:"0",step:"0.1"},domProps:{value:t.subtitleData.shadow.sizeDisplay},on:{change:t.onChangeShadowSize,input:function(e){e.target.composing||t.$set(t.subtitleData.shadow,"sizeDisplay",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"align-items-center",staticStyle:{display:"flex"}},[i("b-form-checkbox",{staticClass:"reset",attrs:{id:"subtitleData_opaqueBox",value:!0,"unchecked-value":!1},model:{value:t.subtitleData.opaqueBox,callback:function(e){t.$set(t.subtitleData,"opaqueBox",e)},expression:"subtitleData.opaqueBox"}},[t._v("Nền sub")])],1)]),t._v(" "),i("div",{staticClass:"col-12 row reset"},[i("div",{staticClass:"col-6 ml-0 pl-0"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Vị trí:")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-1 pl-2 align-items-center justify-content-center"},[i("b-form-radio-group",{attrs:{id:"subtitleData_position",name:"subtitleData_position",size:"sm"},model:{value:t.subtitleData.position,callback:function(e){t.$set(t.subtitleData,"position",e)},expression:"subtitleData.position"}},[i("div",{staticClass:"d-flex mx-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:7}},[t._v("7")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:8}},[t._v("8")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:9}},[t._v("9")])],1),t._v(" "),i("div",{staticClass:"d-flex mx-2 mt-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:4}},[t._v("4")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:5}},[t._v("5")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:6}},[t._v("6")])],1),t._v(" "),i("div",{staticClass:"d-flex mx-2 mt-2"},[i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:1}},[t._v("1")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:2}},[t._v("2")]),t._v(" "),i("b-form-radio",{staticClass:"mx-2 p-0",attrs:{value:3}},[t._v("3")])],1)])],1)]),t._v(" "),i("div",{staticClass:"col-6 reset"},[i("span",{staticClass:"box-label mt-2 fs-14 font-weight-bold"},[t._v("Căn chữ:")]),t._v(" "),i("div",{staticClass:"container-box col-12 m-0 p-2 pl-2"},[i("div",{staticClass:"col-12 row mb-2 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Giãn từ:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.spacing,expression:"subtitleData.spacing"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitleData.spacing},on:{input:function(e){e.target.composing||t.$set(t.subtitleData,"spacing",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"d-flex align-items-center"},[i("label",{staticClass:"col-6 reset fs-sm text-gray",attrs:{for:"autoSpacing"}},[t._v("Giãn dòng:")]),t._v(" "),i("b-form-checkbox",{attrs:{id:"autoSpacing","checked-value":!0,"unchecked-value":!1},model:{value:t.subtitleData.autoSpacing,callback:function(e){t.$set(t.subtitleData,"autoSpacing",e)},expression:"subtitleData.autoSpacing"}})],1),t._v(" "),i("div",{staticClass:"col-12 reset d-flex justify-content-between align-items-center"},[i("span",{staticClass:"col-6 reset fs-sm text-gray"},[t._v("Số từ/dòng:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.subtitleData.limitCharacter,expression:"subtitleData.limitCharacter"}],staticClass:"col-5 p-0 text-center wrapper-item-input",staticStyle:{height:"30px"},attrs:{type:"number",min:"0"},domProps:{value:t.subtitleData.limitCharacter},on:{input:function(e){e.target.composing||t.$set(t.subtitleData,"limitCharacter",e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"col-12 text-right mt-4"},[i("b-btn",{attrs:{variant:"primary"}},[t._v("Xem thử")]),t._v(" "),i("b-btn",{staticClass:"mx-3",attrs:{variant:"success"}},[t._v("Tải File Substitle")]),t._v(" "),i("b-btn",{attrs:{variant:"light"}},[t._v("Hủy")])],1),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom1",attrs:{stylePosition:"top: 100px;left: 270px;"},on:{onChangeColor:function(e){t.subtitleData.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom2",attrs:{stylePosition:"top: 100px; left: 390px"},on:{onChangeColor:function(e){t.subtitleData.stroke.color=e}}}),t._v(" "),i("ColorPickerCustom",{ref:"colorPickerCustom3",attrs:{stylePosition:"top: 100px; left: 490px"},on:{onChangeColor:function(e){t.subtitleData.shadow.color=e}}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var cr=i("VU/8")(rr,lr,!1,function(t){i("rsyW")},"data-v-27379262",null).exports,dr={data:function(){var t;return t={content:"",listItemSubtitle:null,contentResult:"",isLoading:!1},Ot()(t,"isLoading",!1),Ot()(t,"listLanguage",[{name:"Auto Detect",code:null},{name:"Afrikaans",code:"af"},{name:"Albanian",code:"sq"},{name:"Amharic",code:"am"},{name:"Arabic",code:"ar"},{name:"Armenian",code:"hy"},{name:"Azerbaijani",code:"az"},{name:"Basque",code:"eu"},{name:"Belarusian",code:"be"},{name:"Bengali",code:"bn"},{name:"Bosnian",code:"bs"},{name:"Bulgarian",code:"bg"},{name:"Catalan",code:"ca"},{name:"Cebuano",code:"ceb (ISO-639-2)"},{name:"Chinese (Simplified)",code:"zh-CN"},{name:"Chinese (Traditional)",code:"zh-TW"},{name:"Corsican",code:"co"},{name:"Croatian",code:"hr"},{name:"Czech",code:"cs"},{name:"Danish",code:"da"},{name:"Dutch",code:"nl"},{name:"English",code:"en"},{name:"Esperanto",code:"eo"},{name:"Estonian",code:"et"},{name:"Finnish",code:"fi"},{name:"French",code:"fr"},{name:"Frisian",code:"fy"},{name:"Galician",code:"gl"},{name:"Georgian",code:"ka"},{name:"German",code:"de"},{name:"Greek",code:"el"},{name:"Gujarati",code:"gu"},{name:"Haitian Creole",code:"ht"},{name:"Hausa",code:"ha"},{name:"Hawaiian",code:"haw (ISO-639-2)"},{name:"Hebrew",code:"he or iw"},{name:"Hindi",code:"hi"},{name:"Hmong",code:"hmn (ISO-639-2)"},{name:"Hungarian",code:"hu"},{name:"Icelandic",code:"is"},{name:"Igbo",code:"ig"},{name:"Indonesian",code:"id"},{name:"Irish",code:"ga"},{name:"Italian",code:"it"},{name:"Japanese",code:"ja"},{name:"Javanese",code:"jv"},{name:"Kannada",code:"kn"},{name:"Kazakh",code:"kk"},{name:"Khmer",code:"km"},{name:"Kinyarwanda",code:"rw"},{name:"Korean",code:"ko"},{name:"Kurdish",code:"ku"},{name:"Kyrgyz",code:"ky"},{name:"Lao",code:"lo"},{name:"Latin",code:"la"},{name:"Latvian",code:"lv"},{name:"Lithuanian",code:"lt"},{name:"Luxembourgish",code:"lb"},{name:"Macedonian",code:"mk"},{name:"Malagasy",code:"mg"},{name:"Malay",code:"ms"},{name:"Malayalam",code:"ml"},{name:"Maltese",code:"mt"},{name:"Maori",code:"mi"},{name:"Marathi",code:"mr"},{name:"Mongolian",code:"mn"},{name:"Myanmar (Burmese)",code:"my"},{name:"Nepali",code:"ne"},{name:"Norwegian",code:"no"},{name:"Nyanja (Chichewa)",code:"ny"},{name:"Odia (Oriya)",code:"or"},{name:"Pashto",code:"ps"},{name:"Persian",code:"fa"},{name:"Polish",code:"pl"},{name:"Portuguese (Portugal, Brazil)",code:"pt"},{name:"Punjabi",code:"pa"},{name:"Romanian",code:"ro"},{name:"Russian",code:"ru"},{name:"Samoan",code:"sm"},{name:"Scots Gaelic",code:"gd"},{name:"Serbian",code:"sr"},{name:"Sesotho",code:"st"},{name:"Shona",code:"sn"},{name:"Sindhi",code:"sd"},{name:"Sinhala (Sinhalese)",code:"si"},{name:"Slovak",code:"sk"},{name:"Slovenian",code:"sl"},{name:"Somali",code:"so"},{name:"Spanish",code:"es"},{name:"Sundanese",code:"su"},{name:"Swahili",code:"sw"},{name:"Swedish",code:"sv"},{name:"Tagalog (Filipino)",code:"tl"},{name:"Tajik",code:"tg"},{name:"Tamil",code:"ta"},{name:"Tatar",code:"tt"},{name:"Telugu",code:"te"},{name:"Thai",code:"th"},{name:"Turkish",code:"tr"},{name:"Turkmen",code:"tk"},{name:"Ukrainian",code:"uk"},{name:"Urdu",code:"ur"},{name:"Uyghur",code:"ug"},{name:"Uzbek",code:"uz"},{name:"Vietnamese",code:"vi"},{name:"Welsh",code:"cy"},{name:"Xhosa",code:"xh"},{name:"Yiddish",code:"yi"},{name:"Yoruba",code:"yo"},{name:"Zulu",code:"zu"}]),Ot()(t,"languageSource",null),Ot()(t,"languageTranslate","vi"),t},components:{Loading:c.a,ModalSettingVoice:Le,ModalExportSubtitle:cr},destroyed:function(){},methods:{onChangeSelectFileText:function(t,e){try{var i=new FileReader,a=this;i.onload=function(){var t=Et.a.readFileSubtitle(i.result),e="";t.map(function(t,i){e+=i+1+"\n",e+=Et.a.secondsToHms(t.subtitleStartTime)+" --\x3e "+Et.a.secondsToHms(t.subtitleEndTime)+"\n",e+=t.content+"\n\n"}),console.log(e),a.content=e,a.listItemSubtitle=t},i.readAsText(t.target.files[0])}catch(t){}},onTranslate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,i="",t.listItemSubtitle.map(function(t){i+=t.content.trim()+"\n\n"}),e.next=6,E.googleTranslate({text:i,sourceLanguage:t.languageSource,targetLanguage:t.languageTranslate});case 6:a=e.sent,s=a.data.text.split("\n\n"),t.listItemSubtitle=t.listItemSubtitle.map(function(t,e){return m()({},t,{content:s[e]})}),o="",t.listItemSubtitle.map(function(t,e){o+=e+1+"\n",o+=Et.a.secondsToHms(t.subtitleStartTime)+" --\x3e "+Et.a.secondsToHms(t.subtitleEndTime)+"\n",o+=t.content+"\n\n"}),t.contentResult=o,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t.$swal.fire({type:"error",text:e.t0,showConfirmButton:!0});case 18:t.isLoading=!1;case 19:case"end":return e.stop()}},e,t,[[0,14]])}))()}},mounted:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()}},ur={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("h2",{staticClass:"text-center fhzWpZ my-3"},[t._v("Dịch File Subtitle")]),t._v(" "),i("div",{staticStyle:{"padding-bottom":"1px"}},[i("div",{staticClass:"px-5 py-3"},[i("div",[i("div",{staticClass:"col-12 row"},[i("button",{staticClass:"btn btn-style ml-3",on:{click:function(e){return t.$refs.inputfileSubtitle.click()}}},[t._v("\n            Chọn File Subtitle\n          ")]),t._v(" "),i("input",{ref:"inputfileSubtitle",attrs:{type:"file",accept:".srt, .ass",id:"inputfileSubtitle",hidden:""},on:{change:t.onChangeSelectFileText}})]),t._v(" "),i("div",{staticClass:"col-12 row my-3 align-items-center ml-2"},[i("span",{staticClass:"font-weight-bold"},[t._v("Ngôn ngữ gốc: ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.languageSource,expression:"languageSource"}],staticClass:"form-control mx-2",staticStyle:{width:"200px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.languageSource=e.target.multiple?i:i[0]}}},t._l(t.listLanguage,function(e,a){return i("option",{key:"language_"+a,domProps:{value:e.code}},[t._v(t._s(e.name))])}),0),t._v(" "),i("span",{staticClass:"mx-3 font-weight-bold"},[t._v("---\x3e")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v("Ngôn ngữ dịch:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.languageTranslate,expression:"languageTranslate"}],staticClass:"form-control mx-2",staticStyle:{width:"200px"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.languageTranslate=e.target.multiple?i:i[0]}}},t._l(t.listLanguage,function(e,a){return i("option",{key:"language_"+a,domProps:{value:e.code}},[t._v(t._s(e.name))])}),0),t._v(" "),i("button",{staticClass:"btn btn-primary px-4 mx-2",on:{click:t.onTranslate}},[t._v("\n            Dịch\n          ")])]),t._v(" "),i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-6"},[i("span",{staticClass:"font-weight-bold mb-2"},[t._v("Nội dung:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"18px"},attrs:{placeholder:"Nhập Text Subtitle",rows:"10","max-rows":"20"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),i("div",{staticClass:"col-6"},[i("span",{staticClass:"font-weight-bold mb-2"},[t._v("Kết quả:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"18px"},attrs:{placeholder:"Nhập Text Subtitle",rows:"10","max-rows":"20"},model:{value:t.contentResult,callback:function(e){t.contentResult=e},expression:"contentResult"}})],1)])])]),t._v(" "),i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}})],1)])},staticRenderFns:[]};var vr=i("VU/8")(dr,ur,!1,function(t){i("O7ED")},"data-v-78bad582",null).exports,hr={components:{ModalInputFile:le,Loading:c.a},data:function(){return{isPlay:!1,currentTimeVideo:0,textPreview:"",contentResult:"",urlVideo:"",isLoading:!1,key:0,nextStep:1,imageCrop:{x:0,y:0,width:200,height:200},oldResult:"",isAutoRunning:!1}},computed:{getTimeVideo:function(){return Et.a.secondsToHHMMSSM(this.currentTimeVideo)}},methods:{similarity:function(t,e){var i=t,a=e;t.length<e.length&&(i=e,a=t);var s=i.length;return 0==s?1:(s-this.editDistance(i,a))/parseFloat(s)},editDistance:function(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var i=new Array,a=0;a<=t.length;a++){for(var s=a,n=0;n<=e.length;n++)if(0==a)i[n]=n;else if(n>0){var o=i[n-1];t.charAt(a-1)!=e.charAt(n-1)&&(o=Math.min(Math.min(o,s),i[n])+1),i[n-1]=s,s=o}a>0&&(i[e.length]=s)}return i[e.length]},onChangeNextStep:function(t){this.nextStep=parseFloat(t)},onStop:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isAutoRunning=!1;case 1:case"end":return e.stop()}},e,t)}))()},onAuto:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=document.getElementById("videoPlay"),t.isAutoRunning=!0;case 3:if(!(i.currentTime<i.duration)){e.next=21;break}if(t.isAutoRunning){e.next=6;break}return e.abrupt("return");case 6:return i.currentTime+=t.nextStep,e.next=9,t.getText();case 9:if((a=e.sent)&&""!==a){e.next=14;break}return e.next=13,Et.a.sleep(1e3);case 13:return e.abrupt("continue",3);case 14:return s=!1,t.oldResult&&(t.similarity(t.oldResult,a)>.5&&(s=!0),a.includes(t.oldResult)&&(s=!0)),s||(t.contentResult+=a+"\n\n",t.oldResult=a),e.next=19,Et.a.sleep(1e3);case 19:e.next=3;break;case 21:t.$swal({type:"success",title:"Xong.!"}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:t.isAutoRunning=!1;case 28:case"end":return e.stop()}},e,t,[[0,24]])}))()},getText:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s,o,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=document.getElementById("imagePreview"),a=i.getContext("2d"),s=document.getElementById("canvas"),i.width=t.imageCrop.width,i.height=t.imageCrop.height,a.drawImage(s,t.imageCrop.x,t.imageCrop.y,t.imageCrop.width,t.imageCrop.height,0,0,t.imageCrop.width,t.imageCrop.height),e.prev=6,o={image:i.toDataURL().replace("data:image/png;base64,","")},e.next=10,E.imageToText(o);case 10:if(!(r=e.sent)||200!==r.status){e.next=14;break}return t.$notify({type:"success",title:"Thành Công.!"}),e.abrupt("return",r.data.result.trim());case 14:if(!r||400!==r.status){e.next=16;break}throw new Error(r.data);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(6),e.t0;case 21:case"end":return e.stop()}},e,t,[[6,18]])}))()},onGetText:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getText();case 3:t.textPreview=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,t,[[0,6]])}))()},onResizeStop:function(t,e,i,a){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e,this.imageCrop.width=i,this.imageCrop.height=a},onDragStop:function(t,e){event.stopPropagation(),this.imageCrop.x=t,this.imageCrop.y=e},uploadVideoMain:function(t){this.isLoading=t.isLoading,!t.isLoading&&t.url&&(this.urlVideo=t.url)},onSave:function(){this.textPreview&&(this.contentResult+=this.textPreview+"\n\n"),this.textPreview=""},onKeyDown:function(t){t.stopPropagation()},onClickPlay:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.play(),this.isPlay=!0)},onClickPause:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.pause(),this.isPlay=!1)},onClickStopVideo:function(){this.$refs.videoPlay&&(this.$refs.videoPlay.currentTime=0)},OnTimeUpdate:function(t){this.currentTimeVideo=parseFloat(t.target.currentTime.toFixed(2));var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height)},onVideoPlay:function(t){var e=document.getElementById("canvas"),i=e.getContext("2d"),a=document.getElementById("videoPlay");!function s(){t.target.paused||t.target.ended||(i.drawImage(t.target,0,0,a.videoWidth,a.videoHeight,0,0,e.width,e.height),setTimeout(s,1e3/30))}()},onLoadedMeradata:function(t){var e=document.getElementById("canvas"),i=document.getElementById("container-video");e.width=i.clientWidth,e.height=i.clientWidth*t.target.videoHeight/t.target.videoWidth,t.target.currentTime=1,t.target.currentTime=0,this.key++},previousTime:function(){this.$refs.videoPlay.currentTime-=this.nextStep},nextTime:function(){this.$refs.videoPlay.currentTime+=this.nextStep},handleKeyCode:function(t){if(this.$refs.videoPlay)switch(t.code){case"ArrowLeft":return console.log(" Previous "),this.$refs.videoPlay.currentTime-=this.nextStep,t.preventDefault(),!0;case"ArrowRight":return console.log(" Next ",Ra()(this.nextStep)),this.$refs.videoPlay.currentTime+=this.nextStep,t.preventDefault(),!0;case"Space":return console.log(" Space ",this.$refs),this.$refs.videoPlay.paused?this.$refs.videoPlay.play():this.$refs.videoPlay.pause(),this.isPlay=!this.isPlay,t.preventDefault(),!0}}},destroyed:function(){document.removeEventListener("keydown",this.handleKeyCode)},mounted:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("keydown",t.handleKeyCode);case 1:case"end":return e.stop()}},e,t)}))()}},pr={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),t._m(1),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("button",{staticClass:"btn btn-upload-video-main ml-3",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n    Chọn Video Khác\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"p-3"},[i("div",{staticClass:"row col-12",staticStyle:{"justify-content":"center"}},[t.urlVideo&&""!==t.urlVideo?i("div",{ref:"containerVideo",staticClass:"col-8 border reset",attrs:{id:"container-video"}},[i("div",{staticStyle:{display:"flex"}},[i("canvas",{attrs:{id:"canvas"}}),t._v(" "),i("video",{ref:"videoPlay",staticStyle:{width:"100%",height:"100%"},attrs:{id:"videoPlay",src:t.urlVideo,controls:"",hidden:""},on:{timeupdate:t.OnTimeUpdate,play:t.onVideoPlay,loadedmetadata:t.onLoadedMeradata}}),t._v(" "),i("vue-draggable-resizable",{key:t.key,attrs:{"min-width":50,"min-height":50,width:t.imageCrop.width,height:t.imageCrop.width,x:t.imageCrop.x,y:t.imageCrop.y,"class-name":"drag-resize-item-active",active:!0,parent:!0},on:{dragstop:t.onDragStop,resizestop:t.onResizeStop}},[i("div",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"}})])],1)]):i("div",{staticClass:"text-center"},[i("div",{staticClass:"color-pink",staticStyle:{"font-size":"120px"},on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[i("i",{staticClass:"fad fa-cloud-upload"})]),t._v(" "),i("button",{staticClass:"btn btn-upload-video-main",on:{click:function(e){return t.$refs.modalInputFile.showModal()}}},[t._v("\n          Tải Lên Video\n        ")])]),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("div",{staticClass:"col-4"},[i("canvas",{staticStyle:{border:"1px solid #d3d3d3","max-width":"100%",width:"100%","max-height":"500px","object-fit":"contain"},attrs:{id:"imagePreview"}},[t._v("\n          Your browser does not support the HTML5 canvas tag.\n        ")]),t._v(" "),i("div",{staticClass:" controls"},[t.isPlay?i("button",{staticClass:"btn",on:{click:t.onClickPause}},[i("i",{staticClass:"fas fa-pause"})]):i("button",{staticClass:"btn",on:{click:t.onClickPlay}},[i("i",{staticClass:"fas fa-play"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.onClickStopVideo}},[i("i",{staticClass:"fas fa-stop"})]),t._v(" "),i("div",{staticClass:"timer text-center",staticStyle:{"min-width":"150px","max-width":"150px"}},[i("span",{staticClass:"font-weight-bold fs-xl"},[t._v(t._s(t.getTimeVideo))])]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.previousTime}},[i("i",{staticClass:"fad fa-backward"})]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.nextTime}},[i("i",{staticClass:"fad fa-forward"})]),t._v(" "),i("b-form-input",{staticStyle:{width:"70px"},attrs:{type:"number",min:"0.1",max:"30",step:"0.1",value:t.nextStep},on:{change:t.onChangeNextStep}})],1),t._v(" "),i("div",[i("div",{staticClass:"controls-button"},[i("button",{staticClass:"btn btn-primary px-4 mt-2",on:{click:t.onGetText}},[t._v("\n              Lấy Text\n            ")]),t._v(" "),i("button",{staticClass:"btn btn-success px-5 mt-2 mx-3",on:{click:t.onSave}},[t._v("\n              Lưu\n            ")]),t._v(" "),t.isAutoRunning?t._e():i("button",{staticClass:"btn btn-info px-5 mt-2",on:{click:t.onAuto}},[t._v("\n              Auto\n            ")]),t._v(" "),t.isAutoRunning?i("button",{staticClass:"btn btn-danger px-5 mt-2",on:{click:t.onStop}},[t._v("\n              Stop Auto\n            ")]):t._e()]),t._v(" "),i("div",{},[i("span",{staticClass:"font-weight-bold fs-md"},[t._v("Text:")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"5"},on:{keydown:t.onKeyDown},model:{value:t.textPreview,callback:function(e){t.textPreview=e},expression:"textPreview"}})],1)])]):t._e()])]),t._v(" "),t.urlVideo&&""!==t.urlVideo?i("div",{staticClass:"p-3"},[i("span",{staticClass:"font-weight-bold fs-lg"},[t._v("Kết quả:")]),t._v(" "),i("button",{staticClass:"btn btn-danger btn-sm mb-2 px-3",on:{click:function(e){t.contentResult=""}}},[t._v("\n      Xóa\n    ")]),t._v(" "),i("b-form-textarea",{staticStyle:{"font-size":"20px"},attrs:{rows:"20"},on:{keydown:t.onKeyDown},model:{value:t.contentResult,callback:function(e){t.contentResult=e},expression:"contentResult"}})],1):t._e(),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0,height:60,width:60},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("modal-input-file",{ref:"modalInputFile",attrs:{typeEdit:"SIMPLE_EDIT",totalVideoProps:1},on:{pushNewVideo:t.uploadVideoMain}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold my-3"},[this._v("Lấy text từ video")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"font-weight-bold ml-2"},[this._v("*Danh sách ngôn ngữ hỗ trợ: ")]),this._v(" "),e("span",[this._v("Trung Quốc, Hà Lan, Anh, Pháp, Đức, Ý, Nhật, Bồ Đào Nha, Tây Ba\n      Nha")])])}]};var mr=i("VU/8")(hr,pr,!1,function(t){i("txds")},"data-v-e95242da",null).exports,fr={components:{Loading:c.a,ButtonQuality:ua,draggable:de.a},data:function(){return{channelId:null,typeUpload:0,description:null,isLoading:!1,stateChannelId:null,isEdit:!1,channelEdit:null}},methods:{reset:function(){this.channelId=null,this.typeUpload=0,this.description=null,this.isLoading=!1,this.stateChannelId=null,this.isEdit=!1,this.channelEdit=null},show:function(t){this.reset(),t&&(this.channelId=t.channelId,this.description=t.description,this.isEdit=!0,this.channelEdit=t),this.$refs.modalAddChannel.show()},hide:function(){this.$refs.modalAddChannel.hide()},onCreate:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a={channelId:t.channelId,description:t.description},e.next=9,zo.createChannel(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Thêm Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()},onSave:function(){var t=this;return r()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=!0,t.channelId||(t.stateChannelId=!1,i=!1),i){e.next=5;break}return e.abrupt("return");case 5:return t.isLoading=!0,a=m()({},t.channelEdit,{channelId:t.channelId,description:t.description}),e.next=9,zo.saveChannel(a);case 9:(s=e.sent)&&200===s.status&&(t.$notify({type:"success",title:"Lưu Kênh Thành Công"}),t.hide(),t.$emit("getChannel")),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$notify({title:"Lỗi "+e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()}}},gr={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{ref:"modalAddChannel",attrs:{id:"addChannel","hide-footer":"",title:"Thêm kênh",size:"md"}},[i("b-form-group",{attrs:{label:"Nhập ID kênh:","label-class":"font-weight-bold","label-for":"channelId"}},[i("b-form-input",{attrs:{type:"text",id:"channelId",placeholder:"ID Kênh",state:t.stateChannelId},model:{value:t.channelId,callback:function(e){t.channelId=e},expression:"channelId"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ghi chú:","label-class":"font-weight-bold","label-for":"description"}},[i("b-form-input",{attrs:{type:"text",id:"description",placeholder:"Ghi chú"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v(" "),i("div",{staticClass:"col-12 text-center"},[t.isEdit?i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.onSave()}}},[t._v("Lưu Kênh")]):i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.onCreate()}}},[t._v("Thêm Kênh")])],1),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},staticRenderFns:[]};var _r={name:"quan-ly-kenh",components:{ModalAddChannelFollower:i("VU/8")(fr,gr,!1,function(t){i("KtGY")},null,null).exports,Loading:c.a},data:function(){return{isLoading:!1,listChannel:[],channelId:"",selectedKenh:[],channel_fields:[{key:"index",label:"#"},{key:"description",label:"Ghi chú"},{key:"name",label:"Tên kênh"},{key:"thumbnail",label:"Thumbnail"},{key:"listView",label:"Tổng view"},{key:"listSub",label:"Tổng sub"},{key:"listVideo",label:"Tổng video"},{key:"status",label:"Trạng thái"},{key:"actions",label:"Hành động"}],listDataViewDetail:[]}},methods:{updateListChannel:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,zo.updateListChannel();case 4:if(!(i=e.sent)||200!==i.status){e.next=8;break}return e.next=8,t.getChannels();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 13:t.isLoading=!1;case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()},onEditChannel:function(t){var e=this.listChannel.find(function(e){return e._id==t});this.$refs.modalAddChannel.show(e)},onDeleteChannel:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.$swal.fire({type:"question",title:"Xoá kênh",html:"Xác nhận xoá kênh <b>"+e+"</b>",showCloseButton:!0,showCancelButton:!0,reverseButtons:!0});case 2:if(!a.sent.value){a.next=16;break}return i.isLoading=!0,a.prev=5,a.next=8,zo.removeChannel({id:t});case 8:200===(s=a.sent).status&&(s.data.result?(i.$notify({title:"Xoá Thành Công",type:"success"}),i.getChannels()):i.$notify({title:"Không Tìm Thấy Kênh",type:"error"})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),i.$notify({title:"Lỗi "+a.t0.message,type:"error"});case 15:i.isLoading=!1;case 16:case"end":return a.stop()}},a,i,[[5,12]])}))()},getChannels:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,zo.getChannel();case 4:(i=e.sent)&&200===i.status&&(t.listChannel=i.data.listChannel),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$notify({title:"Lỗi"+e.t0.message,type:"error"});case 11:t.isLoading=!1;case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},formatNumber:function(t){return Et.a.formatNumberToCurrency(t)}},created:function(){this.getChannels()}},br={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12 grid-margin stretch-card text-left content-wrapper"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t._m(0),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-form-group",{attrs:{label:"","label-for":""}},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.$refs.modalAddChannel.show()}}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Thêm Kênh\n            ")]),t._v(" "),i("b-btn",{attrs:{variant:"success"},on:{click:t.updateListChannel}},[i("i",{staticClass:"mdi mdi-youtube"}),t._v("\n              Cập Nhật\n            ")])],1)],1)]),t._v(" "),i("b-row",[i("div",{staticClass:"col-12"},[i("b-table",{attrs:{items:t.listChannel,fields:t.channel_fields,responsive:"",bordered:"",striped:"",hover:""},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"cell(name)",fn:function(e){return[i("div",{},[i("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/"+e.item.channelId+"/videos"}},[t._v(t._s(e.item.name))])])]}},{key:"cell(thumbnail)",fn:function(t){return[i("div",[i("img",{staticStyle:{width:"50px"},attrs:{src:t.item.thumbnail}})])]}},{key:"cell(actions)",fn:function(e){return[i("div",{},[i("button",{staticClass:"btn btn-info mx-2 mt-2",on:{click:function(i){return t.onEditChannel(e.item._id)}}},[t._v("\n                  Sửa\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-danger mx-2 mt-2 ml-0",on:{click:function(i){return t.onDeleteChannel(e.item._id,e.item.name)}}},[t._v("\n                  Xoá\n                ")])])]}},{key:"cell(listView)",fn:function(e){return[1===e.item.listView.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[0].value)))])]):e.item.listView.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listView[e.item.listView.length-1].value-e.item.listView[e.item.listView.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[e.item.listView.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[e.item.listView.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listView[e.item.listView.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listView[e.item.listView.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listView).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(listSub)",fn:function(e){return[1===e.item.listSub.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[0].value)))])]):e.item.listSub.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-1].value-e.item.listSub[e.item.listSub.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[e.item.listSub.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listSub[e.item.listSub.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listSub[e.item.listSub.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listSub).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(listVideo)",fn:function(e){return[1===e.item.listVideo.length?i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[0].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[0].value)))])]):e.item.listVideo.length>1?i("div",{staticClass:"text-center"},[i("div",[i("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"20px"}},[e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value>=0?i("i",{staticClass:"fas fa-arrow-up",staticStyle:{color:"#05ad38","font-size":"20px"}}):t._e(),t._v(" "),e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value<0?i("i",{staticClass:"fas fa-arrow-down",staticStyle:{color:"red","font-size":"20px"}}):t._e(),t._v("\n                    "+t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-1].value-e.item.listVideo[e.item.listVideo.length-2].value))+"\n                  ")])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[e.item.listVideo.length-1].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-1].value)))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$moment(e.item.listVideo[e.item.listVideo.length-2].date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.item.listVideo[e.item.listVideo.length-2].value)))])]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(i){t.listDataViewDetail=[].concat(e.item.listVideo).reverse(),t.$refs.modalViewDetail.show()}}},[t._v("Xem chi tiết")])]):t._e()]}},{key:"cell(status)",fn:function(e){return["DIE"===e.item.status?i("div",{staticClass:"text-center",staticStyle:{"background-color":"red","font-weight":"bold","border-radius":"10px"}},[i("span",{staticStyle:{color:"#fff"}},[t._v(t._s(e.item.status))])]):t._e(),t._v(" "),"LIVE"===e.item.status?i("div",{staticClass:"text-center",staticStyle:{"background-color":"#05ad38","font-weight":"bold","border-radius":"10px"}},[i("span",{staticStyle:{color:"#fff"}},[t._v(t._s(e.item.status))])]):t._e()]}}])})],1)])],1)]),t._v(" "),i("ModalAddChannelFollower",{ref:"modalAddChannel",on:{getChannel:t.getChannels}}),t._v(" "),i("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("b-modal",{ref:"modalViewDetail",attrs:{scrollable:"",title:"Chi Tiết",size:"lg"}},[t.listDataViewDetail.length>0?i("div",t._l(t.listDataViewDetail,function(e,a){return i("div",[i("span",[t._v(t._s(t.$moment(e.date).format("DD/MM/YYYY HH:mm"))+":")]),t._v(" "),i("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.formatNumber(e.value)))])])}),0):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-2 text-center"},[e("h1",{staticClass:"font-weight-bold"},[this._v("Theo dõi kênh")])])}]};var yr=i("VU/8")(_r,br,!1,function(t){i("FYfs")},"data-v-74e44e60",null).exports;a.default.use(K.a);var Cr=new K.a({mode:"history",routes:[{path:"/",name:"home",component:Q},{path:"/pricing",name:"pricing",component:lt},{path:"/signin",name:"signin",component:ht},{path:"/signup",name:"signup",component:ft},{path:"/myprofile",name:"myprofile",component:vs},{path:"/manager-video",name:"managerVideo",component:Oa,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/auto-reup",name:"autoReup",component:po,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/workflow",name:"workflow",component:Vt,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/simple-edit",name:"simpleEdit",component:Xi,props:function(t){return{idVideo:t.query.idvideo}},beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/join-video",name:"joinVideo",component:Da,props:function(t){return{idVideo:t.query.idvideo}},beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/news-video",name:"newsVideo",component:ds,props:function(t){return{idVideo:t.query.idvideo}},beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/account-settings",name:"AccountSetting",component:wo,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/file-manager",name:"fileManager",component:Jn,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/channel-manager",name:"channelManager",component:ao,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/create-voice",name:"createVoice",component:yo,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/extension",name:"extension",component:Wo},{path:"/admin",name:"adminDashboard",component:Wn,beforeEnter:function(t,e,i){w.state.user&&"admin"==w.state.user.username?i():i("/")}},{path:"/export-subtitle",name:"exportSubtitleFromVideo",component:tr,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/export-subtitle-version-2",name:"ExportSubtitleFromVideoVersion2",component:or,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/translate-file-subtitle",name:"TranslateFileSubtitle",component:vr,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/capture-text-video",name:"CaptureTextOnVideo",component:mr,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}},{path:"/follow-channel-youtube",name:"FollowChannelYoutube",component:yr,beforeEnter:function(t,e,i){w.state.isUserLoggedIn?i():i("/signin")}}]}),xr=i("hz7P"),wr=(i("nd5n"),i("Tqaz")),kr=(i("Jmt5"),i("9M+g"),i("SYh3"),i("YeRc")),Sr=i("ikxi"),Tr=i.n(Sr),Vr=(i("9BHd"),i("CLX7")),Ir=i.n(Vr),Dr=i("lCKi"),Er=i.n(Dr),Lr=(i("n1Sy"),{props:["stylePosition"],data:function(){return{isShow:!1,colorSelected:{rgb:{r:0,g:0,b:0},hex:"#000000",opacity:100},indexHeaderActive:0,listColorPicker:[{rgb:{r:0,g:0,b:0},hex:"#000000"},{rgb:{r:255,g:255,b:255},hex:"#FFFFFF"},{rgb:{r:167,g:102,b:250},hex:"#A766FA"},{rgb:{r:82,g:105,b:218},hex:"#5269DA"},{rgb:{r:20,g:125,b:232},hex:"#147DE8"},{rgb:{r:34,g:207,b:206},hex:"#22CFCE"},{rgb:{r:234,g:241,b:249},hex:"#EAF1F9"},{rgb:{r:29,g:195,b:33},hex:"#1DC321"},{rgb:{r:254,g:203,b:47},hex:"#FECB2F"},{rgb:{r:253,g:143,b:39},hex:"#FD8F27"},{rgb:{r:255,g:0,b:106},hex:"#FF006A"},{rgb:{r:216,g:216,b:216},hex:"#D8D8D8"},{rgb:{r:36,g:62,b:67},hex:"#243E43"},{rgb:{r:234,g:122,b:118},hex:"#EA7A76"},{rgb:{r:53,g:155,b:165},hex:"#359BA5"},{rgb:{r:246,g:93,b:148},hex:"#F65D94"},{rgb:{r:255,g:23,b:23},hex:"#FF1717"},{rgb:{r:97,g:188,b:249},hex:"#61BCF9"},{rgb:{r:252,g:227,b:113},hex:"#FCE371"},{rgb:{r:126,g:231,b:194},hex:"#7EE7C2"},{rgb:{r:240,g:136,b:230},hex:"#F088E6"},{rgb:{r:255,g:65,b:73},hex:"#FF4149"},{rgb:{r:1,g:1,b:248},hex:"#0101F8"},{rgb:{r:254,g:253,b:84},hex:"#FEFD54"}],listColorPalettes:[{rgb:{r:255,g:205,b:210},hex:"#FFCDD2"},{rgb:{r:239,g:154,b:154},hex:"#EF9A9A"},{rgb:{r:244,g:132,b:143},hex:"#F4848F"},{rgb:{r:255,g:94,b:110},hex:"#FF5E6E"},{rgb:{r:228,g:80,b:99},hex:"#E45063"},{rgb:{r:255,g:152,b:0},hex:"#FF9800"},{rgb:{r:251,g:140,b:0},hex:"#FB8C00"},{rgb:{r:245,g:124,b:0},hex:"#F57C00"},{rgb:{r:239,g:108,b:0},hex:"#EF6C00"},{rgb:{r:230,g:81,b:0},hex:"#E65100"},{rgb:{r:255,g:228,b:92},hex:"#FFE45C"},{rgb:{r:255,g:225,b:69},hex:"#FFE145"},{rgb:{r:255,g:221,b:46},hex:"#FFDD2E"},{rgb:{r:255,g:217,b:23},hex:"#FFD917"},{rgb:{r:255,g:214,b:0},hex:"#FFD600"},{rgb:{r:139,g:195,b:74},hex:"#8BC34A"},{rgb:{r:124,g:179,b:66},hex:"#7CB342"},{rgb:{r:104,g:159,b:56},hex:"#689F38"},{rgb:{r:85,g:139,b:47},hex:"#558B2F"},{rgb:{r:51,g:105,b:30},hex:"#33691E"},{rgb:{r:178,g:235,b:242},hex:"#B2EBF2"},{rgb:{r:77,g:208,b:225},hex:"#4DD0E1"},{rgb:{r:0,g:188,b:212},hex:"#00BCD4"},{rgb:{r:0,g:151,b:167},hex:"#0097A7"},{rgb:{r:0,g:96,b:100},hex:"#006064"},{rgb:{r:225,g:190,b:231},hex:"#E1BEE7"},{rgb:{r:206,g:147,b:216},hex:"#CE93D8"},{rgb:{r:186,g:104,b:200},hex:"#BA68C8"},{rgb:{r:171,g:71,b:188},hex:"#AB47BC"},{rgb:{r:156,g:39,b:176},hex:"#9C27B0"},{rgb:{r:99,g:140,b:255},hex:"#638CFF"},{rgb:{r:79,g:126,b:255},hex:"#4F7EFF"},{rgb:{r:60,g:112,b:255},hex:"#3C70FF"},{rgb:{r:41,g:98,b:255},hex:"#2962FF"},{rgb:{r:38,g:90,b:232},hex:"#265AE8"}]}},computed:{getColorPreview:function(){return"rgba("+this.colorSelected.rgb.r+","+this.colorSelected.rgb.g+","+this.colorSelected.rgb.b+","+this.colorSelected.opacity/100+")"}},methods:{show:function(t){console.log(t),this.colorSelected=t,this.isShow=!0},hide:function(){this.isShow=!1},onClickContainer:function(){event.stopPropagation()},onChooseColor:function(t){this.colorSelected=m()({},t,{opacity:100}),this.$emit("onChangeColor",this.colorSelected),event.stopPropagation()},onChangeCustom:function(t){var e=this.hexToRgb(t.target.value);e&&(this.colorSelected={rgb:e,hex:t.target.value,opacity:100},this.$emit("onChangeColor",this.colorSelected))},hexToRgb:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,a){return e+e+i+i+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},onChangeOpacity:function(t){this.colorSelected=m()({},this.colorSelected,{opacity:t}),this.$emit("onChangeColor",this.colorSelected)}}}),Ar={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"color-picker-container",style:t.stylePosition,on:{click:function(e){return t.onClickContainer()}}},[i("div",{staticClass:"tab-header"},[i("div",{staticClass:"header-item",class:{"header-item-active":0==t.indexHeaderActive},on:{click:function(e){t.indexHeaderActive=0}}},[i("span",{staticClass:"fs-12"},[t._v("Color picker")])]),t._v(" "),i("div",{staticClass:"header-item",class:{"header-item-active":1==t.indexHeaderActive},on:{click:function(e){t.indexHeaderActive=1}}},[i("span",{staticClass:"fs-12"},[t._v("Palettes")])])]),t._v(" "),i("div",{staticClass:"item-divide"}),t._v(" "),i("div",{staticClass:"wrapper-content text-left"},[0===t.indexHeaderActive?i("div",[i("span",{staticClass:"text-title-color"},[t._v("All Colors")]),t._v(" "),i("div",{staticClass:"wrapper-item-color"},t._l(t.listColorPicker,function(e,a){return i("div",{key:a,staticClass:"item-color",style:"background-color: "+e.hex+"; border: "+(1===a?"1px solid grey":"none"),on:{click:function(i){return t.onChooseColor(e)}}})}),0)]):i("div",{staticClass:"wrapper-item-color"},t._l(t.listColorPalettes,function(e,a){return i("div",{key:a,staticClass:"item-color",style:"background-color: "+e.hex+";",on:{click:function(i){return t.onChooseColor(e)}}})}),0)]),t._v(" "),i("div",{staticClass:"opacity"},[i("div",{staticClass:"title-opacity"},[i("span",{staticStyle:{"font-weight":"600",color:"rgb(55, 64, 70)","font-size":"14px"}},[t._v("Opacity")]),t._v(" "),i("span",{staticStyle:{"font-weight":"400",color:"rgb(99, 109, 116)","font-size":"14px"}},[t._v(t._s(t.colorSelected.opacity)+"%")])]),t._v(" "),i("div",[i("vue-slider",{staticClass:"opacity-slider",staticStyle:{flex:"1"},attrs:{value:t.colorSelected.opacity,min:0,max:100,step:1,tooltip:"none",dotSize:"16"},on:{change:t.onChangeOpacity}})],1)]),t._v(" "),i("div",{staticClass:"input-custom"},[i("span",{staticClass:"dot-preview",style:"background-color: "+t.getColorPreview}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.colorSelected.hex,expression:"colorSelected.hex"}],staticClass:"mx-2 input-hex",staticStyle:{width:"150px",border:"none"},attrs:{type:"text"},domProps:{value:t.colorSelected.hex},on:{input:[function(e){e.target.composing||t.$set(t.colorSelected,"hex",e.target.value)},t.onChangeCustom]}}),t._v(" "),i("span",{staticClass:"label-hex"},[t._v("hex")])])]):t._e()])},staticRenderFns:[]};var $r=i("VU/8")(Lr,Ar,!1,function(t){i("gZWa")},"data-v-88bccaf0",null).exports;a.default.use(Ir.a),a.default.use(kr.a.use(Tr.a)),a.default.use(i("8AgW")),a.default.use(wr.a),a.default.config.productionTip=!1,a.default.use(xr.a),a.default.component("vue-draggable-resizable",ba.a),a.default.component("VueSlider",Er.a),a.default.component("ColorPickerCustom",$r),new a.default({el:"#app",router:Cr,store:w,components:{App:Y},template:"<App/>"})},NbNC:function(t,e){},NlcO:function(t,e){},O1Rs:function(t,e){},O7ED:function(t,e){},OZU0:function(t,e){},OlkD:function(t,e){},OwXO:function(t,e){},QKdS:function(t,e){},R5BT:function(t,e){},RpeR:function(t,e){},SYh3:function(t,e){},SewQ:function(t,e){},UN7U:function(t,e){},UREh:function(t,e){},Ua8j:function(t,e){},UkFf:function(t,e){},"Ux/M":function(t,e){},VzBL:function(t,e){},WWay:function(t,e){},WY2P:function(t,e){},Wcx6:function(t,e){},WeCB:function(t,e){},Wf58:function(t,e){},WphS:function(t,e){},XLFF:function(t,e){},XPbs:function(t,e){},XWwS:function(t,e){},Y8gf:function(t,e){},YbVR:function(t,e){},ZAPW:function(t,e){},ZBxE:function(t,e){},"a/42":function(t,e){},alY6:function(t,e){},bVNZ:function(t,e){},bVUC:function(t,e){},dSfq:function(t,e){},doAF:function(t,e){},eOm0:function(t,e){},fzfG:function(t,e){},gPfc:function(t,e){},gZWa:function(t,e){},gcGy:function(t,e){},glUj:function(t,e){},"h3S/":function(t,e){},i7QU:function(t,e){},"j2f+":function(t,e){},jGIB:function(t,e){},jptp:function(t,e,i){"use strict";var a={props:{diameter:{type:Number,required:!1,default:100},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#FF0000"},stopColor:{type:String,required:!1,default:"#0000FF"},circleWidth:{type:Number,required:!1,default:10},animationDuration:{type:Number,required:!1,default:1e3},circleColor:{type:String,required:!1,default:"#000000"},innerDisplay:{type:String,required:!1,default:"slot"},percentColor:{type:String,required:!1,default:"inherit"},innerColor:{type:String,required:!1,default:"transparent"}},data:function(){return{gradient:{fx:1,fy:.5,cx:.5,cy:.5,r:.65},gradientAnimation:null,currentAngle:0,strokeDashoffset:0}},computed:{radius:function(){return this.diameter/2},circumference:function(){return Math.PI*this.innerCircleDiameter},stepSize:function(){return 0===this.totalSteps?0:100/this.totalSteps},finishedPercentage:function(){return this.stepSize*this.completedSteps},finishedPercentageRounded:function(){return Math.round(this.finishedPercentage)},circleSlice:function(){return 2*Math.PI/this.totalSteps},animateSlice:function(){return this.circleSlice/this.totalPoints},innerCircleDiameter:function(){return this.diameter-2*this.circleWidth},innerCircleRadius:function(){return this.innerCircleDiameter/2},totalPoints:function(){return this.animationDuration/this.animationIncrements},animationIncrements:function(){return 1e3/60},hasGradient:function(){return this.startColor!==this.stopColor},containerStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px"}},progressStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px",strokeWidth:this.circleWidth+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dashoffset "+this.animationDuration+"ms linear"}},strokeStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px",strokeWidth:this.circleWidth+"px"}},percentStyle:function(){return{fontSize:this.diameter/2+"px",color:""+this.percentColor,display:"block"}},innerCircleStyle:function(){return{width:this.innerCircleDiameter+"px"}}},methods:{getStopPointsOfCircle:function(t){for(var e=[],i=0;i<t;i++){var a=this.circleSlice*i;e.push(this.getPointOfCircle(a))}return e},getPointOfCircle:function(t){return{x:.5+.5*Math.cos(t),y:.5+.5*Math.sin(t)}},gotoPoint:function(){var t=this.getPointOfCircle(this.currentAngle);this.gradient.fx=t.x,this.gradient.fy=t.y},changeProgress:function(t){var e=this,i=t.isAnimate,a=void 0===i||i;if(this.strokeDashoffset=(100-this.finishedPercentage)/100*this.circumference,this.gradientAnimation&&clearInterval(this.gradientAnimation),a){var s=(this.completedSteps-1)*this.circleSlice,n=(this.currentAngle-s)/this.animateSlice,o=Math.abs(n-this.totalPoints)/this.totalPoints,r=n<this.totalPoints;this.gradientAnimation=setInterval(function(){r&&n>=e.totalPoints||!r&&n<e.totalPoints?clearInterval(e.gradientAnimation):(e.currentAngle=s+e.animateSlice*n,e.gotoPoint(),n+=r?o:-o)},this.animationIncrements)}else this.gotoNextStep()},gotoNextStep:function(){this.currentAngle=this.completedSteps*this.circleSlice,this.gotoPoint()}},watch:{totalSteps:function(){this.changeProgress({isAnimate:!0})},completedSteps:function(){this.changeProgress({isAnimate:!0})},diameter:function(){this.changeProgress({isAnimate:!0})},circleWidth:function(){this.changeProgress({isAnimate:!0})}},created:function(){this.changeProgress({isAnimate:!1})}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"circle-progress-container",style:t.containerStyle},[i("div",{staticClass:"circle-progress-inner",style:t.innerCircleStyle},["percent"===t.innerDisplay?i("span",{style:t.percentStyle},[t._v(t._s(t.finishedPercentageRounded))]):t._e(),t._v(" "),"slot"===t.innerDisplay||""===t.innerDisplay?t._t("default"):t._e()],2),t._v(" "),i("svg",{staticClass:"circle-progress-bar",attrs:{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("radialGradient",{attrs:{id:"radial-gradient"+t._uid,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r}},[i("stop",{attrs:{offset:"50%","stop-color":t.startColor}}),t._v(" "),i("stop",{attrs:{offset:"100%","stop-color":t.stopColor}})],1)],1),t._v(" "),i("circle",{style:t.strokeStyle,attrs:{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:t.innerColor,stroke:t.circleColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":"round"}}),t._v(" "),i("circle",{style:t.progressStyle,attrs:{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:t.innerColor,stroke:"url(#radial-gradient"+t._uid+")","stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":"round"}})])])},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(t){i("uoOI")},null,null);e.a=n.exports},"kUq+":function(t,e){},kW82:function(t,e){},l2SE:function(t,e){},lKlJ:function(t,e){},mCgg:function(t,e){},n1Sy:function(t,e){},nIV5:function(t,e){},nd5n:function(t,e){},oW9Z:function(t,e){},p7cx:function(t,e){},p8YQ:function(t,e){},pGws:function(t,e){},"pR/i":function(t,e){},pz6u:function(t,e){},qjxw:function(t,e){},rP18:function(t,e){},rXCm:function(t,e){},rsyW:function(t,e){},"s1/M":function(t,e){},s5Uo:function(t,e){},s8mG:function(t,e){},sriy:function(t,e){},tKcj:function(t,e){},txds:function(t,e){},uEZp:function(t,e){},uK5D:function(t,e){},"un/l":function(t,e){},uoOI:function(t,e){},uslO:function(t,e,i){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(t){return i(n(t))}function n(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="uslO"},v0Pu:function(t,e){},"vu/V":function(t,e){},"w2+S":function(t,e){},x9U7:function(t,e){},ytUP:function(t,e){},zZ9A:function(t,e){},zery:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.da511dcac21701a6063f.js.map